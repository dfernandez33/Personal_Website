(self.webpackChunkpersonal_website=self.webpackChunkpersonal_website||[]).push([[179],{8255:Fe=>{function ge(P){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+P+"'");throw d.code="MODULE_NOT_FOUND",d})}ge.keys=()=>[],ge.resolve=ge,ge.id=8255,Fe.exports=ge},3018:(Fe,ge,P)=>{"use strict";P.d(ge,{deG:()=>ro,tb:()=>wD,AFp:()=>Vv,ip1:()=>Xp,CZH:()=>iu,hGG:()=>WD,z2F:()=>as,sBO:()=>ZI,Sil:()=>dh,_Vd:()=>qa,EJc:()=>Hv,SBq:()=>bo,qLn:()=>Vu,vpe:()=>zi,gxx:()=>ma,tBr:()=>Pu,XFs:()=>Be,OlP:()=>ln,zs3:()=>At,ZZ4:()=>Gd,aQg:()=>Cp,soG:()=>Zl,YKP:()=>Dp,v3s:()=>Sx,h0i:()=>ji,PXZ:()=>kD,R0b:()=>Ci,FiY:()=>oo,Lbi:()=>Bv,g9A:()=>Uv,n_E:()=>jl,Qsj:()=>Al,FYo:()=>ns,JOm:()=>lo,Tiy:()=>V_,q3G:()=>Kt,tp0:()=>ys,EAV:()=>UD,Rgc:()=>zd,dDg:()=>ID,DyG:()=>$h,q4F:()=>Hd,GfV:()=>nE,s_b:()=>Hi,ifc:()=>nn,eFA:()=>Kv,G48:()=>Yv,Gpc:()=>le,f3M:()=>Dw,X6Q:()=>Zv,_c5:()=>$D,VLi:()=>YM,c2e:()=>jv,zSh:()=>Ho,wAp:()=>je,vHH:()=>ht,EiD:()=>Cm,mCW:()=>jc,qzn:()=>Nr,JVY:()=>Pw,pB0:()=>Fw,eBb:()=>YS,L6k:()=>kw,LAX:()=>ha,cg1:()=>ap,Tjo:()=>iR,kL8:()=>T_,yhl:()=>ku,dqk:()=>k,sIi:()=>il,CqO:()=>Ky,QGY:()=>Wf,F4k:()=>Bn,RDi:()=>_c,AaK:()=>V,z3N:()=>Pi,qOj:()=>Ea,TTD:()=>Bg,_Bn:()=>KC,xp6:()=>_0,uIk:()=>vd,ekj:()=>l_,Suo:()=>Ev,Xpm:()=>cc,lG2:()=>Bb,Yz7:()=>bn,cJS:()=>ls,oAB:()=>Fh,Yjl:()=>jb,Y36:()=>Br,_UZ:()=>Zf,BQk:()=>cl,ynx:()=>Yf,qZA:()=>ll,TgZ:()=>Sd,EpF:()=>jr,n5z:()=>yw,Ikx:()=>D_,LFG:()=>yn,$8M:()=>Ii,NdJ:()=>Kf,CRH:()=>rD,oxw:()=>sC,ALo:()=>wo,lcZ:()=>is,Hsn:()=>aC,F$t:()=>Jy,Q6J:()=>Ms,s9C:()=>Xy,MGl:()=>Jf,DdM:()=>Up,VKq:()=>Bp,iGM:()=>wv,MAs:()=>Ra,CHM:()=>Kg,LSH:()=>ao,kYT:()=>dc,Jzz:()=>mC,Udp:()=>u_,YNc:()=>Vy,W1O:()=>ah,_uU:()=>p_,Oqu:()=>rp,hij:()=>Qt,AsE:()=>vt,Gf:()=>Cv});var d=P(9765),J=P(5319),he=P(7574),ae=P(6682),ue=P(2441);var X=P(1307);function L(){return new d.xQ}function U(a){for(let u in a)if(a[u]===U)return u;throw Error("Could not find renamed property on target object.")}function H(a,u){for(const l in u)u.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&(a[l]=u[l])}function V(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(V).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const u=a.toString();if(null==u)return""+u;const l=u.indexOf("\n");return-1===l?u:u.substring(0,l)}function K(a,u){return null==a||""===a?null===u?"":u:null==u||""===u?a:a+" "+u}const pe=U({__forward_ref__:U});function le(a){return a.__forward_ref__=le,a.toString=function(){return V(this())},a}function ce(a){return Ge(a)?a():a}function Ge(a){return"function"==typeof a&&a.hasOwnProperty(pe)&&a.__forward_ref__===le}class ht extends Error{constructor(u,l){super(function(a,u){return`${a?`NG0${a}: `:""}${u}`}(u,l)),this.code=u}}function Re(a){return"string"==typeof a?a:null==a?"":String(a)}function zt(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Re(a)}function ie(a,u){const l=u?` in ${u}`:"";throw new ht("201",`No provider for ${zt(a)} found${l}`)}function Ot(a,u){null==a&&function(a,u,l,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${l} ${h} ${u} <=Actual]`))}(u,a,null,"!=")}function bn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ls(a){return{providers:a.providers||[],imports:a.imports||[]}}function ct(a){return Et(a,jt)||Et(a,sr)}function Et(a,u){return a.hasOwnProperty(u)?a[u]:null}function wn(a){return a&&(a.hasOwnProperty(Mn)||a.hasOwnProperty(Ph))?a[Mn]:null}const jt=U({\u0275prov:U}),Mn=U({\u0275inj:U}),sr=U({ngInjectableDef:U}),Ph=U({ngInjectorDef:U});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let kh;function Mo(a){const u=kh;return kh=a,u}function pn(a,u,l){const h=ct(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&Be.Optional?null:void 0!==u?u:void ie(V(a),"Injector")}function ze(a){return{toString:a}.toString()}var Mr=(()=>((Mr=Mr||{})[Mr.OnPush=0]="OnPush",Mr[Mr.Default=1]="Default",Mr))(),nn=(()=>((nn=nn||{})[nn.Emulated=0]="Emulated",nn[nn.None=2]="None",nn[nn.ShadowDom=3]="ShadowDom",nn))();const ii="undefined"!=typeof globalThis&&globalThis,kg="undefined"!=typeof window&&window,rn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,k=ii||B||kg||rn,q={},_e=[],$e=U({\u0275cmp:U}),Dt=U({\u0275dir:U}),St=U({\u0275pipe:U}),Tt=U({\u0275mod:U}),ar=U({\u0275loc:U}),gn=U({\u0275fac:U}),Kn=U({__NG_ELEMENT_ID__:U});let pu=0;function cc(a){return ze(()=>{const l={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Mr.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||_e,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||nn.Emulated,id:"c",styles:a.styles||_e,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,g=a.features,y=a.pipes;return h.id+=pu++,h.inputs=gu(a.inputs,l),h.outputs=gu(a.outputs),g&&g.forEach(v=>v(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Vb):null,h.pipeDefs=y?()=>("function"==typeof y?y():y).map(Fg):null,h})}function Vb(a){return Qn(a)||function(a){return a[Dt]||null}(a)}function Fg(a){return function(a){return a[St]||null}(a)}const Ub={};function Fh(a){return ze(()=>{const u={type:a.type,bootstrap:a.bootstrap||_e,declarations:a.declarations||_e,imports:a.imports||_e,exports:a.exports||_e,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Ub[a.id]=a.type),u})}function dc(a,u){return ze(()=>{const l=Rr(a,!0);l.declarations=u.declarations||_e,l.imports=u.imports||_e,l.exports=u.exports||_e})}function gu(a,u){if(null==a)return q;const l={};for(const h in a)if(a.hasOwnProperty(h)){let p=a[h],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),l[p]=h,u&&(u[p]=g)}return l}const Bb=cc;function jb(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Qn(a){return a[$e]||null}function Rr(a,u){const l=a[Tt]||null;if(!l&&!0===u)throw new Error(`Type ${V(a)} does not have '\u0275mod' property.`);return l}function Po(a){return Array.isArray(a)&&"object"==typeof a[1]}function mn(a){return Array.isArray(a)&&!0===a[1]}function Vg(a){return 0!=(8&a.flags)}function Vh(a){return 2==(2&a.flags)}function Uh(a){return 1==(1&a.flags)}function Ti(a){return null!==a.template}function _u(a){return 0!=(512&a[2])}function ea(a,u){return a.hasOwnProperty(gn)?a[gn]:null}class Zb{constructor(u,l,h){this.previousValue=u,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function Bg(){return jg}function jg(a){return a.type.prototype.ngOnChanges&&(a.setInput=rO),nO}function nO(){const a=Hg(this),u=null==a?void 0:a.current;if(u){const l=a.previous;if(l===q)a.previous=u;else for(let h in u)l[h]=u[h];a.current=null,this.ngOnChanges(u)}}function rO(a,u,l,h){const p=Hg(a)||function(a,u){return a[cS]=u}(a,{previous:q,current:null}),g=p.current||(p.current={}),y=p.previous,v=this.declaredInputs[l],w=y[v];g[v]=new Zb(w&&w.currentValue,u,y===q),a[h]=u}Bg.ngInherit=!0;const cS="__ngSimpleChanges__";function Hg(a){return a[cS]||null}let yc;function _c(a){yc=a}function sn(a){return!!a.listen}const Wb={createRenderer:(a,u)=>void 0!==yc?yc:"undefined"!=typeof document?document:void 0};function an(a){for(;Array.isArray(a);)a=a[0];return a}function jh(a,u){return an(u[a])}function Ai(a,u){return an(u[a.index])}function vu(a,u){return a.data[u]}function vc(a,u){return a[u]}function Zr(a,u){const l=u[a];return Po(l)?l:l[0]}function Kb(a){return 4==(4&a[2])}function $g(a){return 128==(128&a[2])}function cs(a,u){return null==u?null:a[u]}function Jb(a){a[18]=0}function Zg(a,u){a[5]+=u;let l=a,h=a[3];for(;null!==h&&(1===u&&1===l[5]||-1===u&&0===l[5]);)h[5]+=u,l=h,h=h[3]}const nt={lFrame:sw(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wg(){return nt.bindingsEnabled}function me(){return nt.lFrame.lView}function mt(){return nt.lFrame.tView}function Kg(a){return nt.lFrame.contextLView=a,a[8]}function En(){let a=ew();for(;null!==a&&64===a.type;)a=a.parent;return a}function ew(){return nt.lFrame.currentTNode}function to(a,u){const l=nt.lFrame;l.currentTNode=a,l.isParent=u}function Qg(){return nt.lFrame.isParent}function bu(){nt.lFrame.isParent=!1}function ta(){return nt.isInCheckNoChangesMode}function wu(a){nt.isInCheckNoChangesMode=a}function Or(){const a=nt.lFrame;let u=a.bindingRootIndex;return-1===u&&(u=a.bindingRootIndex=a.tView.bindingStartIndex),u}function no(){return nt.lFrame.bindingIndex}function Cu(){return nt.lFrame.bindingIndex++}function ko(a){const u=nt.lFrame,l=u.bindingIndex;return u.bindingIndex=u.bindingIndex+a,l}function Xg(a,u){const l=nt.lFrame;l.bindingIndex=l.bindingRootIndex=a,em(u)}function em(a){nt.lFrame.currentDirectiveIndex=a}function rw(){return nt.lFrame.currentQueryIndex}function iw(a){nt.lFrame.currentQueryIndex=a}function _S(a){const u=a[1];return 2===u.type?u.declTNode:1===u.type?a[6]:null}function vS(a,u,l){if(l&Be.SkipSelf){let p=u,g=a;for(;!(p=p.parent,null!==p||l&Be.Host||(p=_S(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;u=p,a=g}const h=nt.lFrame=ow();return h.currentTNode=u,h.lView=a,!0}function Ec(a){const u=ow(),l=a[1];nt.lFrame=u,u.currentTNode=l.firstChild,u.lView=a,u.tView=l,u.contextLView=a,u.bindingIndex=l.bindingStartIndex,u.inI18n=!1}function ow(){const a=nt.lFrame,u=null===a?null:a.child;return null===u?sw(a):u}function sw(a){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=u),u}function nm(){const a=nt.lFrame;return nt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const bS=nm;function rm(){const a=nm();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Er(){return nt.lFrame.selectedIndex}function ds(a){nt.lFrame.selectedIndex=a}function un(){const a=nt.lFrame;return vu(a.tView,a.selectedIndex)}function Gh(a,u){for(let l=u.directiveStart,h=u.directiveEnd;l<h;l++){const g=a.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:T}=g;y&&(a.contentHooks||(a.contentHooks=[])).push(-l,y),v&&((a.contentHooks||(a.contentHooks=[])).push(l,v),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(l,v)),w&&(a.viewHooks||(a.viewHooks=[])).push(-l,w),E&&((a.viewHooks||(a.viewHooks=[])).push(l,E),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(l,E)),null!=T&&(a.destroyHooks||(a.destroyHooks=[])).push(l,T)}}function qh(a,u,l){uw(a,u,3,l)}function sm(a,u,l,h){(3&a[2])===l&&uw(a,u,l,h)}function aw(a,u){let l=a[2];(3&l)===u&&(l&=2047,l+=1,a[2]=l)}function uw(a,u,l,h){const g=null!=h?h:-1,y=u.length-1;let v=0;for(let w=void 0!==h?65535&a[18]:0;w<y;w++)if("number"==typeof u[w+1]){if(v=u[w],null!=h&&v>=h)break}else u[w]<0&&(a[18]+=65536),(v<g||-1==g)&&(TS(a,l,u,w),a[18]=(4294901760&a[18])+w+2),w++}function TS(a,u,l,h){const p=l[h]<0,g=l[h+1],v=a[p?-l[h]:l[h]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===u){a[2]+=2048;try{g.call(v)}finally{}}}else try{g.call(v)}finally{}}class na{constructor(u,l,h){this.factory=u,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function Eu(a,u,l){const h=sn(a);let p=0;for(;p<l.length;){const g=l[p];if("number"==typeof g){if(0!==g)break;p++;const y=l[p++],v=l[p++],w=l[p++];h?a.setAttribute(u,v,w,y):u.setAttributeNS(y,v,w)}else{const y=g,v=l[++p];cw(y)?h&&a.setProperty(u,y,v):h?a.setAttribute(u,y,v):u.setAttribute(y,v),p++}}return p}function am(a){return 3===a||4===a||6===a}function cw(a){return 64===a.charCodeAt(0)}function um(a,u){if(null!==u&&0!==u.length)if(null===a||0===a.length)a=u.slice();else{let l=-1;for(let h=0;h<u.length;h++){const p=u[h];"number"==typeof p?l=p:0===l||IS(a,l,p,null,-1===l||2===l?u[++h]:null)}}return a}function IS(a,u,l,h,p){let g=0,y=a.length;if(-1===u)y=-1;else for(;g<a.length;){const v=a[g++];if("number"==typeof v){if(v===u){y=-1;break}if(v>u){y=g-1;break}}}for(;g<a.length;){const v=a[g];if("number"==typeof v)break;if(v===l){if(null===h)return void(null!==p&&(a[g+1]=p));if(h===a[g+1])return void(a[g+2]=p)}g++,null!==h&&g++,null!==p&&g++}-1!==y&&(a.splice(y,0,u),g=y+1),a.splice(g++,0,l),null!==h&&a.splice(g++,0,h),null!==p&&a.splice(g++,0,p)}function dw(a){return-1!==a}function Dc(a){return 32767&a}function Tc(a,u){let l=function(a){return a>>16}(a),h=u;for(;l>0;)h=h[15],l--;return h}let hw=!0;function lm(a){const u=hw;return hw=a,u}let Ve=0;function Du(a,u){const l=Tu(a,u);if(-1!==l)return l;const h=u[1];h.firstCreatePass&&(a.injectorIndex=u.length,xr(h.data,a),xr(u,null),xr(h.blueprint,null));const p=ra(a,u),g=a.injectorIndex;if(dw(p)){const y=Dc(p),v=Tc(p,u),w=v[1].data;for(let E=0;E<8;E++)u[g+E]=v[y+E]|w[y+E]}return u[g+8]=p,g}function xr(a,u){a.push(0,0,0,0,0,0,0,0,u)}function Tu(a,u){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===u[a.injectorIndex+8]?-1:a.injectorIndex}function ra(a,u){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let l=0,h=null,p=u;for(;null!==p;){const g=p[1],y=g.type;if(h=2===y?g.declTNode:1===y?p[6]:null,null===h)return-1;if(l++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function Nn(a,u,l){!function(a,u,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(Kn)&&(h=l[Kn]),null==h&&(h=l[Kn]=Ve++);const p=255&h;u.data[a+(p>>5)]|=1<<p}(a,u,l)}function fw(a,u,l){if(l&Be.Optional)return a;ie(u,"NodeInjector")}function pw(a,u,l,h){if(l&Be.Optional&&void 0===h&&(h=null),0==(l&(Be.Self|Be.Host))){const p=a[9],g=Mo(void 0);try{return p?p.get(u,h,l&Be.Optional):pn(u,h,l&Be.Optional)}finally{Mo(g)}}return fw(h,u,l)}function Dn(a,u,l,h=Be.Default,p){if(null!==a){const g=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const u=a.hasOwnProperty(Kn)?a[Kn]:void 0;return"number"==typeof u?u>=0?255&u:xS:u}(l);if("function"==typeof g){if(!vS(u,a,h))return h&Be.Host?fw(p,l,h):pw(u,l,h,p);try{const y=g(h);if(null!=y||h&Be.Optional)return y;ie(l)}finally{bS()}}else if("number"==typeof g){let y=null,v=Tu(a,u),w=-1,E=h&Be.Host?u[16][6]:null;for((-1===v||h&Be.SkipSelf)&&(w=-1===v?ra(a,u):u[v+8],-1!==w&&Ic(h,!1)?(y=u[1],v=Dc(w),u=Tc(w,u)):v=-1);-1!==v;){const T=u[1];if(kS(g,v,T.data)){const A=mw(v,u,l,y,h,E);if(A!==gw)return A}w=u[v+8],-1!==w&&Ic(h,u[1].data[v+8]===E)&&kS(g,v,u)?(y=T,v=Dc(w),u=Tc(w,u)):v=-1}}}return pw(u,l,h,p)}const gw={};function xS(){return new Fo(En(),me())}function mw(a,u,l,h,p,g){const y=u[1],v=y.data[a+8],T=Sc(v,y,l,null==h?Vh(v)&&hw:h!=y&&0!=(3&v.type),p&Be.Host&&g===v);return null!==T?Ac(u,y,T,v):gw}function Sc(a,u,l,h,p){const g=a.providerIndexes,y=u.data,v=1048575&g,w=a.directiveStart,T=g>>20,R=p?v+T:a.directiveEnd;for(let F=h?v:v+T;F<R;F++){const j=y[F];if(F<w&&l===j||F>=w&&j.type===l)return F}if(p){const F=y[w];if(F&&Ti(F)&&F.type===l)return w}return null}function Ac(a,u,l,h){let p=a[l];const g=u.data;if(function(a){return a instanceof na}(p)){const y=p;y.resolving&&function(a,u){throw new ht("200",`Circular dependency in DI detected for ${a}`)}(zt(g[l]));const v=lm(y.canSeeViewProviders);y.resolving=!0;const w=y.injectImpl?Mo(y.injectImpl):null;vS(a,h,Be.Default);try{p=a[l]=y.factory(void 0,g,a,h),u.firstCreatePass&&l>=h.directiveStart&&function(a,u,l){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:g}=u.type.prototype;if(h){const y=jg(u);(l.preOrderHooks||(l.preOrderHooks=[])).push(a,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,y)}p&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-a,p),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(a,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,g))}(l,g[l],u)}finally{null!==w&&Mo(w),lm(v),y.resolving=!1,bS()}}return p}function kS(a,u,l){return!!(l[u+(a>>5)]&1<<a)}function Ic(a,u){return!(a&Be.Self||a&Be.Host&&u)}class Fo{constructor(u,l){this._tNode=u,this._lView=l}get(u,l){return Dn(this._tNode,this._lView,u,void 0,l)}}function yw(a){return ze(()=>{const u=a.prototype.constructor,l=u[gn]||Mc(u),h=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==h;){const g=p[gn]||Mc(p);if(g&&g!==l)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function Mc(a){return Ge(a)?()=>{const u=Mc(ce(a));return u&&u()}:ea(a)}function Ii(a){return function(a,u){if("class"===u)return a.classes;if("style"===u)return a.styles;const l=a.attrs;if(l){const h=l.length;let p=0;for(;p<h;){const g=l[p];if(am(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<h&&"string"==typeof l[p];)p++;else{if(g===u)return l[p+1];p+=2}}}return null}(En(),a)}const Su="__parameters__";function ia(a,u,l){return ze(()=>{const h=function(a){return function(...l){if(a){const h=a(...l);for(const p in h)this[p]=h[p]}}}(u);function p(...g){if(this instanceof p)return h.apply(this,g),this;const y=new p(...g);return v.annotation=y,v;function v(w,E,T){const A=w.hasOwnProperty(Su)?w[Su]:Object.defineProperty(w,Su,{value:[]})[Su];for(;A.length<=T;)A.push(null);return(A[T]=A[T]||[]).push(y),w}}return l&&(p.prototype=Object.create(l.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class ln{constructor(u,l){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=bn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ro=new ln("AnalyzeForEntryComponents"),$h=Function;function si(a,u){void 0===u&&(u=a);for(let l=0;l<a.length;l++){let h=a[l];Array.isArray(h)?(u===a&&(u=a.slice(0,l)),si(h,u)):u!==a&&u.push(h)}return u}function Mi(a,u){a.forEach(l=>Array.isArray(l)?Mi(l,u):u(l))}function Zh(a,u,l){u>=a.length?a.push(l):a.splice(u,0,l)}function oa(a,u){return u>=a.length-1?a.pop():a.splice(u,1)[0]}function No(a,u){const l=[];for(let h=0;h<a;h++)l.push(u);return l}function Yr(a,u,l){let h=Fr(a,u);return h>=0?a[1|h]=l:(h=~h,function(a,u,l,h){let p=a.length;if(p==u)a.push(l,h);else if(1===p)a.push(h,a[0]),a[0]=l;else{for(p--,a.push(a[p-1],a[p]);p>u;)a[p]=a[p-2],p--;a[u]=l,a[u+1]=h}}(a,h,u,l)),h}function dm(a,u){const l=Fr(a,u);if(l>=0)return a[1|l]}function Fr(a,u){return function(a,u,l){let h=0,p=a.length>>l;for(;p!==h;){const g=h+(p-h>>1),y=a[g<<l];if(u===y)return g<<l;y>u?p=g:h=g+1}return~(p<<l)}(a,u,1)}const Pc={},fm="__NG_DI_FLAG__",Ru="ngTempTokenPath",Ew=/\n/gm,pm="__source",Yh=U({provide:String,useValue:U});let aa;function Ou(a){const u=aa;return aa=a,u}function GS(a,u=Be.Default){if(void 0===aa)throw new Error("inject() must be called from an injection context");return null===aa?pn(a,void 0,u):aa.get(a,u&Be.Optional?null:void 0,u)}function yn(a,u=Be.Default){return(kh||GS)(ce(a),u)}const Dw=yn;function ms(a){const u=[];for(let l=0;l<a.length;l++){const h=ce(a[l]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,g=Be.Default;for(let y=0;y<h.length;y++){const v=h[y],w=EO(v);"number"==typeof w?-1===w?p=v.token:g|=w:p=v}u.push(yn(p,g))}else u.push(yn(h))}return u}function xu(a,u){return a[fm]=u,a.prototype[fm]=u,a}function EO(a){return a[fm]}function Ln(a,u,l,h){const p=a[Ru];throw u[pm]&&p.unshift(u[pm]),a.message=function(a,u,l,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=V(u);if(Array.isArray(u))p=u.map(V).join(" -> ");else if("object"==typeof u){let g=[];for(let y in u)if(u.hasOwnProperty(y)){let v=u[y];g.push(y+":"+("string"==typeof v?JSON.stringify(v):V(v)))}p=`{${g.join(", ")}}`}return`${l}${h?"("+h+")":""}[${p}]: ${a.replace(Ew,"\n  ")}`}("\n"+a.message,p,l,h),a.ngTokenPath=p,a[Ru]=null,a}const Pu=xu(ia("Inject",a=>({token:a})),-1),oo=xu(ia("Optional"),8),ys=xu(ia("SkipSelf"),4);let ca;function _s(a){var u;return(null===(u=function(){if(void 0===ca&&(ca=null,k.trustedTypes))try{ca=k.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return ca}())||void 0===u?void 0:u.createHTML(a))||a}class da{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class zS extends da{getTypeName(){return"HTML"}}class $S extends da{getTypeName(){return"Style"}}class ZS extends da{getTypeName(){return"Script"}}class xw extends da{getTypeName(){return"URL"}}class ym extends da{getTypeName(){return"ResourceURL"}}function Pi(a){return a instanceof da?a.changingThisBreaksApplicationSecurity:a}function Nr(a,u){const l=ku(a);if(null!=l&&l!==u){if("ResourceURL"===l&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===u}function ku(a){return a instanceof da&&a.getTypeName()||null}function Pw(a){return new zS(a)}function kw(a){return new $S(a)}function YS(a){return new ZS(a)}function ha(a){return new xw(a)}function Fw(a){return new ym(a)}class ef{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const l=(new window.DOMParser).parseFromString(_s(u),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(u):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Lw{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(u){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=_s(u),l;const h=this.inertDocument.createElement("body");return h.innerHTML=_s(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(u){const l=u.attributes;for(let p=l.length-1;0<p;p--){const y=l.item(p).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&u.removeAttribute(y)}let h=u.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Vw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jc(a){return(a=String(a)).match(Vw)||a.match(vm)?a:"unsafe:"+a}function ki(a){const u={};for(const l of a.split(","))u[l]=!0;return u}function Gc(...a){const u={};for(const l of a)for(const h in l)l.hasOwnProperty(h)&&(u[h]=!0);return u}const Bw=ki("area,br,col,hr,img,wbr"),jw=ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qc=ki("rp,rt"),nf=Gc(Bw,Gc(jw,ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gc(qc,ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gc(qc,jw)),bm=ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zc=ki("srcset"),Gw=Gc(bm,zc,ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qw=ki("script,style,template");class rf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let l=u.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let p=this.checkClobberedElement(l,l.nextSibling);if(p){l=p;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(u){const l=u.nodeName.toLowerCase();if(!nf.hasOwnProperty(l))return this.sanitizedSomething=!0,!qw.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=u.attributes;for(let p=0;p<h.length;p++){const g=h.item(p),y=g.name,v=y.toLowerCase();if(!Gw.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=g.value;bm[v]&&(w=jc(w)),zc[v]&&(a=w,w=(a=String(a)).split(",").map(u=>jc(u.trim())).join(", ")),this.buf.push(" ",y,'="',zw(w),'"')}var a;return this.buf.push(">"),!0}endElement(u){const l=u.nodeName.toLowerCase();nf.hasOwnProperty(l)&&!Bw.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(u){this.buf.push(zw(u))}checkClobberedElement(u,l){if(l&&(u.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return l}}const KS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wm=/([^\#-~ |!])/g;function zw(a){return a.replace(/&/g,"&amp;").replace(KS,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(wm,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $c;function Cm(a,u){let l=null;try{$c=$c||function(a){const u=new Lw(a);return function(){try{return!!(new window.DOMParser).parseFromString(_s(""),"text/html")}catch(a){return!1}}()?new ef(u):u}(a);let h=u?String(u):"";l=$c.getInertBodyElement(h);let p=5,g=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=g,g=l.innerHTML,l=$c.getInertBodyElement(h)}while(h!==g);return _s((new rf).sanitizeChildren(Em(l)||l))}finally{if(l){const h=Em(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Em(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Kt=(()=>((Kt=Kt||{})[Kt.NONE=0]="NONE",Kt[Kt.HTML=1]="HTML",Kt[Kt.STYLE=2]="STYLE",Kt[Kt.SCRIPT=3]="SCRIPT",Kt[Kt.URL=4]="URL",Kt[Kt.RESOURCE_URL=5]="RESOURCE_URL",Kt))();function ao(a){const u=function(){const a=me();return a&&a[12]}();return u?u.sanitize(Kt.URL,a)||"":Nr(a,"URL")?Pi(a):jc(Re(a))}const af="__ngContext__";function Lt(a,u){a[af]=u}function uf(a){const u=function(a){return a[af]||null}(a);return u?Array.isArray(u)?u:u.lView:null}function df(a){return a.ngOriginalError}function Im(a,...u){a.error(...u)}class Vu{constructor(){this._console=console}handleError(u){const l=this._findOriginalError(u),h=this._findContext(u),p=(a=u)&&a.ngErrorLogger||Im;var a;p(this._console,"ERROR",u),l&&p(this._console,"ORIGINAL ERROR",l),h&&p(this._console,"ERROR CONTEXT",h)}_findContext(u){return u?u.ngDebugContext||this._findContext(df(u)):null}_findOriginalError(u){let l=u&&df(u);for(;l&&df(l);)l=df(l);return l||null}}const n0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(k))();function uo(a){return a instanceof Function?a():a}var lo=(()=>((lo=lo||{})[lo.Important=1]="Important",lo[lo.DashCase=2]="DashCase",lo))();function Rm(a,u){return undefined(a,u)}function Bu(a){const u=a[3];return mn(u)?u[3]:u}function gf(a){return s0(a[13])}function Pm(a){return s0(a[4])}function s0(a){for(;null!==a&&!mn(a);)a=a[4];return a}function ju(a,u,l,h,p){if(null!=h){let g,y=!1;mn(h)?g=h:Po(h)&&(y=!0,h=h[0]);const v=an(h);0===a&&null!==l?null==p?Kc(u,l,v):co(u,l,v,p||null,!0):1===a&&null!==l?co(u,l,v,p||null,!0):2===a?function(a,u,l){const h=_f(a,u);h&&function(a,u,l,h){sn(a)?a.removeChild(u,l,h):u.removeChild(l)}(a,h,u,l)}(u,v,y):3===a&&u.destroyNode(v),null!=g&&function(a,u,l,h,p){const g=l[7];g!==an(l)&&ju(u,a,h,g,p);for(let v=10;v<l.length;v++){const w=l[v];Jc(w[1],w,a,u,h,g)}}(u,a,g,l,p)}}function Fm(a,u,l){return sn(a)?a.createElement(u,l):null===l?a.createElement(u):a.createElementNS(l,u)}function u0(a,u){const l=a[9],h=l.indexOf(u),p=u[3];1024&u[2]&&(u[2]&=-1025,Zg(p,-1)),l.splice(h,1)}function Lm(a,u){if(a.length<=10)return;const l=10+u,h=a[l];if(h){const p=h[17];null!==p&&p!==a&&u0(p,h),u>0&&(a[l-1][4]=h[4]);const g=oa(a,10+u);!function(a,u){Jc(a,u,u[11],2,null,null),u[0]=null,u[6]=null}(h[1],h);const y=g[19];null!==y&&y.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function l0(a,u){if(!(256&u[2])){const l=u[11];sn(l)&&l.destroyNode&&Jc(a,u,l,3,null,null),function(a){let u=a[13];if(!u)return yf(a[1],a);for(;u;){let l=null;if(Po(u))l=u[13];else{const h=u[10];h&&(l=h)}if(!l){for(;u&&!u[4]&&u!==a;)Po(u)&&yf(u[1],u),u=u[3];null===u&&(u=a),Po(u)&&yf(u[1],u),l=u&&u[4]}u=l}}(u)}}function yf(a,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(a,u){let l;if(null!=a&&null!=(l=a.destroyHooks))for(let h=0;h<l.length;h+=2){const p=u[l[h]];if(!(p instanceof na)){const g=l[h+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const v=p[g[y]],w=g[y+1];try{w.call(v)}finally{}}else try{g.call(p)}finally{}}}}(a,u),function(a,u){const l=a.cleanup,h=u[7];let p=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const y=l[g+1],v="function"==typeof y?y(u):an(u[y]),w=h[p=l[g+2]],E=l[g+3];"boolean"==typeof E?v.removeEventListener(l[g],w,E):E>=0?h[p=E]():h[p=-E].unsubscribe(),g+=2}else{const y=h[p=l[g+1]];l[g].call(y)}if(null!==h){for(let g=p+1;g<h.length;g++)h[g]();u[7]=null}}(a,u),1===u[1].type&&sn(u[11])&&u[11].destroy();const l=u[17];if(null!==l&&mn(u[3])){l!==u[3]&&u0(l,u);const h=u[19];null!==h&&h.detachView(a)}}}function pr(a,u,l){return function(a,u,l){let h=u;for(;null!==h&&40&h.type;)h=(u=h).parent;if(null===h)return l[0];if(2&h.flags){const p=a.data[h.directiveStart].encapsulation;if(p===nn.None||p===nn.Emulated)return null}return Ai(h,l)}(a,u.parent,l)}function co(a,u,l,h,p){sn(a)?a.insertBefore(u,l,h,p):u.insertBefore(l,h,p)}function Kc(a,u,l){sn(a)?a.appendChild(u,l):u.appendChild(l)}function Gu(a,u,l,h,p){null!==h?co(a,u,l,h,p):Kc(a,u,l)}function _f(a,u){return sn(a)?a.parentNode(u):u.parentNode}function vf(a,u,l){return Vm(a,u,l)}let Vm=function(a,u,l){return 40&a.type?Ai(a,l):null};function Qc(a,u,l,h){const p=pr(a,h,u),g=u[11],v=vf(h.parent||u[6],h,u);if(null!=p)if(Array.isArray(l))for(let w=0;w<l.length;w++)Gu(g,p,l[w],v,!1);else Gu(g,p,l,v,!1)}function zu(a,u){if(null!==u){const l=u.type;if(3&l)return Ai(u,a);if(4&l)return Lo(-1,a[u.index]);if(8&l){const h=u.child;if(null!==h)return zu(a,h);{const p=a[u.index];return mn(p)?Lo(-1,p):an(p)}}if(32&l)return Rm(u,a)()||an(a[u.index]);{const h=CA(a,u);return null!==h?Array.isArray(h)?h[0]:zu(Bu(a[16]),h):zu(a,u.next)}}return null}function CA(a,u){return null!==u?a[16][6].projection[u.projection]:null}function Lo(a,u){const l=10+a+1;if(l<u.length){const h=u[l],p=h[1].firstChild;if(null!==p)return zu(h,p)}return u[7]}function Hm(a,u,l,h,p,g,y){for(;null!=l;){const v=h[l.index],w=l.type;if(y&&0===u&&(v&&Lt(an(v),h),l.flags|=4),64!=(64&l.flags))if(8&w)Hm(a,u,l.child,h,p,g,!1),ju(u,a,p,v,g);else if(32&w){const E=Rm(l,h);let T;for(;T=E();)ju(u,a,p,T,g);ju(u,a,p,v,g)}else 16&w?Gm(a,u,h,l,p,g):ju(u,a,p,v,g);l=y?l.projectionNext:l.next}}function Jc(a,u,l,h,p,g){Hm(l,h,a.firstChild,u,p,g,!1)}function Gm(a,u,l,h,p,g){const y=l[16],w=y[6].projection[h.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)ju(u,a,p,w[E],g);else Hm(a,u,w,y[3],p,g,!0)}function h0(a,u,l){sn(a)?a.setAttribute(u,"style",l):u.style.cssText=l}function bf(a,u,l){sn(a)?""===l?a.removeAttribute(u,"class"):a.setAttribute(u,"class",l):u.className=l}function f0(a,u,l){let h=a.length;for(;;){const p=a.indexOf(u,l);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const g=u.length;if(p+g===h||a.charCodeAt(p+g)<=32)return p}l=p+1}}const p0="ng-template";function qm(a,u,l){let h=0;for(;h<a.length;){let p=a[h++];if(l&&"class"===p){if(p=a[h],-1!==f0(p.toLowerCase(),u,0))return!0}else if(1===p){for(;h<a.length&&"string"==typeof(p=a[h++]);)if(p.toLowerCase()===u)return!0;return!1}}return!1}function g0(a){return 4===a.type&&a.value!==p0}function SA(a,u,l){return u===(4!==a.type||l?a.value:p0)}function m0(a,u,l){let h=4;const p=a.attrs||[],g=function(a){for(let u=0;u<a.length;u++)if(am(a[u]))return u;return a.length}(p);let y=!1;for(let v=0;v<u.length;v++){const w=u[v];if("number"!=typeof w){if(!y)if(4&h){if(h=2|1&h,""!==w&&!SA(a,w,l)||""===w&&1===u.length){if(Fi(h))return!1;y=!0}}else{const E=8&h?w:u[++v];if(8&h&&null!==a.attrs){if(!qm(a.attrs,E,l)){if(Fi(h))return!1;y=!0}continue}const A=FO(8&h?"class":w,p,g0(a),l);if(-1===A){if(Fi(h))return!1;y=!0;continue}if(""!==E){let R;R=A>g?"":p[A+1].toLowerCase();const F=8&h?R:null;if(F&&-1!==f0(F,E,0)||2&h&&E!==R){if(Fi(h))return!1;y=!0}}}}else{if(!y&&!Fi(h)&&!Fi(w))return!1;if(y&&Fi(w))continue;y=!1,h=w|1&h}}return Fi(h)||y}function Fi(a){return 0==(1&a)}function FO(a,u,l,h){if(null===u)return-1;let p=0;if(h||!l){let g=!1;for(;p<u.length;){const y=u[p];if(y===a)return p;if(3===y||6===y)g=!0;else{if(1===y||2===y){let v=u[++p];for(;"string"==typeof v;)v=u[++p];continue}if(4===y)break;if(0===y){p+=4;continue}}p+=g?1:2}return-1}return function(a,u){let l=a.indexOf(4);if(l>-1)for(l++;l<a.length;){const h=a[l];if("number"==typeof h)return-1;if(h===u)return l;l++}return-1}(u,a)}function y0(a,u,l=!1){for(let h=0;h<u.length;h++)if(m0(a,u[h],l))return!0;return!1}function MA(a,u){e:for(let l=0;l<u.length;l++){const h=u[l];if(a.length===h.length){for(let p=0;p<a.length;p++)if(a[p]!==h[p])continue e;return!0}}return!1}function zm(a,u){return a?":not("+u.trim()+")":u}function RA(a){let u=a[0],l=1,h=2,p="",g=!1;for(;l<a.length;){let y=a[l];if("string"==typeof y)if(2&h){const v=a[++l];p+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&h?p+="."+y:4&h&&(p+=" "+y);else""!==p&&!Fi(y)&&(u+=zm(g,p),p=""),h=y,g=g||!Fi(h);l++}return""!==p&&(u+=zm(g,p)),u}const Qe={};function _0(a){v0(mt(),me(),Er()+a,ta())}function v0(a,u,l,h){if(!h)if(3==(3&u[2])){const g=a.preOrderCheckHooks;null!==g&&qh(u,g,l)}else{const g=a.preOrderHooks;null!==g&&sm(u,g,0,l)}ds(l)}function $u(a,u){return a<<17|u<<2}function Ni(a){return a>>17&32767}function $m(a){return 2|a}function Li(a){return(131068&a)>>2}function M(a,u){return-131069&a|u<<2}function Vo(a){return 1|a}function Sf(a,u){const l=a.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const p=l[h],g=l[h+1];if(-1!==g){const y=a.data[g];iw(p),y.contentQueries(2,u[g],g)}}}function Ku(a,u,l,h,p,g,y,v,w,E){const T=u.blueprint.slice();return T[0]=p,T[2]=140|h,Jb(T),T[3]=T[15]=a,T[8]=l,T[10]=y||a&&a[10],T[11]=v||a&&a[11],T[12]=w||a&&a[12]||null,T[9]=E||a&&a[9]||null,T[6]=g,T[16]=2==u.type?a[16]:T,T}function jo(a,u,l,h,p){let g=a.data[u];if(null===g)g=function(a,u,l,h,p){const g=ew(),y=Qg(),w=a.data[u]=function(a,u,l,h,p,g){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,l,u,h,p);return null===a.firstChild&&(a.firstChild=w),null!==g&&(y?null==g.child&&null!==w.parent&&(g.child=w):null===g.next&&(g.next=w)),w}(a,u,l,h,p),nt.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=h,g.attrs=p;const y=function(){const a=nt.lFrame,u=a.currentTNode;return a.isParent?u:u.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return to(g,!0),g}function bs(a,u,l,h){if(0===l)return-1;const p=u.length;for(let g=0;g<l;g++)u.push(h),a.blueprint.push(h),a.data.push(null);return p}function ga(a,u,l){Ec(u);try{const h=a.viewQuery;null!==h&&hy(1,h,l);const p=a.template;null!==p&&Af(a,u,p,1,l),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Sf(a,u),a.staticViewQueries&&hy(2,a.viewQuery,l);const g=a.components;null!==g&&function(a,u){for(let l=0;l<u.length;l++)$A(a,u[l])}(u,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{u[2]&=-5,rm()}}function Qu(a,u,l,h){const p=u[2];if(256==(256&p))return;Ec(u);const g=ta();try{Jb(u),function(a){nt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==l&&Af(a,u,l,2,h);const y=3==(3&p);if(!g)if(y){const E=a.preOrderCheckHooks;null!==E&&qh(u,E,null)}else{const E=a.preOrderHooks;null!==E&&sm(u,E,0,null),aw(u,0)}if(function(a){for(let u=gf(a);null!==u;u=Pm(u)){if(!u[2])continue;const l=u[9];for(let h=0;h<l.length;h++){const p=l[h],g=p[3];0==(1024&p[2])&&Zg(g,1),p[2]|=1024}}}(u),function(a){for(let u=gf(a);null!==u;u=Pm(u))for(let l=10;l<u.length;l++){const h=u[l],p=h[1];$g(h)&&Qu(p,h,p.template,h[8])}}(u),null!==a.contentQueries&&Sf(a,u),!g)if(y){const E=a.contentCheckHooks;null!==E&&qh(u,E)}else{const E=a.contentHooks;null!==E&&sm(u,E,1),aw(u,1)}!function(a,u){const l=a.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const p=l[h];if(p<0)ds(~p);else{const g=p,y=l[++h],v=l[++h];Xg(y,g),v(2,u[g])}}}finally{ds(-1)}}(a,u);const v=a.components;null!==v&&function(a,u){for(let l=0;l<u.length;l++)cy(a,u[l])}(u,v);const w=a.viewQuery;if(null!==w&&hy(2,w,h),!g)if(y){const E=a.viewCheckHooks;null!==E&&qh(u,E)}else{const E=a.viewHooks;null!==E&&sm(u,E,2),aw(u,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,Zg(u[3],-1))}finally{rm()}}function VA(a,u,l,h){const p=u[10],g=!ta(),y=Kb(u);try{g&&!y&&p.begin&&p.begin(),y&&ga(a,u,h),Qu(a,u,l,h)}finally{g&&!y&&p.end&&p.end()}}function Af(a,u,l,h,p){const g=Er(),y=2&h;try{ds(-1),y&&u.length>20&&v0(a,u,20,ta()),l(h,p)}finally{ds(g)}}function Jm(a,u,l){if(Vg(u)){const p=u.directiveEnd;for(let g=u.directiveStart;g<p;g++){const y=a.data[g];y.contentQueries&&y.contentQueries(1,l[g],g)}}}function Xm(a,u,l){!Wg()||(function(a,u,l,h){const p=l.directiveStart,g=l.directiveEnd;a.firstCreatePass||Du(l,u),Lt(h,u);const y=l.initialInputs;for(let v=p;v<g;v++){const w=a.data[v],E=Ti(w);E&&GA(u,l,w);const T=Ac(u,a,v,l);Lt(T,u),null!==y&&qA(0,v-p,T,w,0,y),E&&(Zr(l.index,u)[8]=T)}}(a,u,l,Ai(l,u)),128==(128&l.flags)&&function(a,u,l){const h=l.directiveStart,p=l.directiveEnd,y=l.index,v=nt.lFrame.currentDirectiveIndex;try{ds(y);for(let w=h;w<p;w++){const E=a.data[w],T=u[w];em(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Un(E,T)}}finally{ds(-1),em(v)}}(a,u,l))}function ey(a,u,l=Ai){const h=u.localNames;if(null!==h){let p=u.index+1;for(let g=0;g<h.length;g+=2){const y=h[g+1],v=-1===y?l(u,a):a[y];a[p++]=v}}}function Xn(a){const u=a.tView;return null===u||u.incompleteFirstPass?a.tView=ws(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):u}function ws(a,u,l,h,p,g,y,v,w,E){const T=20+h,A=T+p,R=function(a,u){const l=[];for(let h=0;h<u;h++)l.push(h<a?null:Qe);return l}(T,A),F="function"==typeof E?E():E;return R[1]={type:a,blueprint:R,template:l,queries:null,viewQuery:v,declTNode:u,data:R.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:w,consts:F,incompleteFirstPass:!1}}function nd(a,u,l,h){const p=sd(u);null===l?p.push(h):(p.push(l),a.firstCreatePass&&fy(a).push(h,p.length-1))}function Mf(a,u,l){for(let h in a)if(a.hasOwnProperty(h)){const p=a[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(u,p):l[h]=[u,p]}return l}function Tr(a,u,l,h,p,g,y,v){const w=Ai(u,l);let T,E=u.inputs;!v&&null!=E&&(T=E[h])?(mr(a,l,T,h,p),Vh(u)&&function(a,u){const l=Zr(u,a);16&l[2]||(l[2]|=64)}(l,u.index)):3&u.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),p=null!=y?y(p,u.value||"",h):p,sn(g)?g.setProperty(w,h,p):cw(h)||(w.setProperty?w.setProperty(h,p):w[h]=p))}function iy(a,u,l,h){let p=!1;if(Wg()){const g=function(a,u,l){const h=a.directiveRegistry;let p=null;if(h)for(let g=0;g<h.length;g++){const y=h[g];y0(l,y.selectors,!1)&&(p||(p=[]),Nn(Du(l,u),a,y.type),Ti(y)?(xf(a,l),p.unshift(y)):p.push(y))}return p}(a,u,l),y=null===h?null:{"":-1};if(null!==g){p=!0,ay(l,a.data.length,g.length);for(let T=0;T<g.length;T++){const A=g[T];A.providersResolver&&A.providersResolver(A)}let v=!1,w=!1,E=bs(a,u,g.length,null);for(let T=0;T<g.length;T++){const A=g[T];l.mergedAttrs=um(l.mergedAttrs,A.hostAttrs),k0(a,l,u,E,A),HA(E,A,y),null!==A.contentQueries&&(l.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(l.flags|=128);const R=A.type.prototype;!v&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(l.index),v=!0),!w&&(R.ngOnChanges||R.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(l.index),w=!0),E++}!function(a,u){const h=u.directiveEnd,p=a.data,g=u.attrs,y=[];let v=null,w=null;for(let E=u.directiveStart;E<h;E++){const T=p[E],A=T.inputs,R=null===g||g0(u)?null:uy(A,g);y.push(R),v=Mf(A,E,v),w=Mf(T.outputs,E,w)}null!==v&&(v.hasOwnProperty("class")&&(u.flags|=16),v.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=y,u.inputs=v,u.outputs=w}(a,l)}y&&function(a,u,l){if(u){const h=a.localNames=[];for(let p=0;p<u.length;p+=2){const g=l[u[p+1]];if(null==g)throw new ht("301",`Export of name '${u[p+1]}' not found!`);h.push(u[p],g)}}}(l,h,y)}return l.mergedAttrs=um(l.mergedAttrs,l.attrs),p}function Rf(a,u,l,h,p,g){const y=g.hostBindings;if(y){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const w=~u.index;(function(a){let u=a.length;for(;u>0;){const l=a[--u];if("number"==typeof l&&l<0)return l}return 0})(v)!=w&&v.push(w),v.push(h,p,y)}}function Un(a,u){null!==a.hostBindings&&a.hostBindings(1,u)}function xf(a,u){u.flags|=2,(a.components||(a.components=[])).push(u.index)}function HA(a,u,l){if(l){if(u.exportAs)for(let h=0;h<u.exportAs.length;h++)l[u.exportAs[h]]=a;Ti(u)&&(l[""]=a)}}function ay(a,u,l){a.flags|=1,a.directiveStart=u,a.directiveEnd=u+l,a.providerIndexes=u}function k0(a,u,l,h,p){a.data[h]=p;const g=p.factory||(p.factory=ea(p.type)),y=new na(g,Ti(p),null);a.blueprint[h]=y,l[h]=y,Rf(a,u,0,h,bs(a,l,p.hostVars,Qe),p)}function GA(a,u,l){const h=Ai(u,a),p=Xn(l),g=a[10],y=od(a,Ku(a,p,null,l.onPush?64:16,h,u,g,g.createRenderer(h,l),null,null));a[u.index]=y}function ai(a,u,l,h,p,g){const y=Ai(a,u);!function(a,u,l,h,p,g,y){if(null==g)sn(a)?a.removeAttribute(u,p,l):u.removeAttribute(p);else{const v=null==y?Re(g):y(g,h||"",p);sn(a)?a.setAttribute(u,p,v,l):l?u.setAttributeNS(l,p,v):u.setAttribute(p,v)}}(u[11],y,g,a.value,l,h,p)}function qA(a,u,l,h,p,g){const y=g[u];if(null!==y){const v=h.setInput;for(let w=0;w<y.length;){const E=y[w++],T=y[w++],A=y[w++];null!==v?h.setInput(l,A,E,T):l[T]=A}}}function uy(a,u){let l=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===l&&(l=[]),l.push(p,a[p],u[h+1])),h+=2}else h+=2;else h+=4}return l}function F0(a,u,l,h){return new Array(a,!0,!1,u,null,0,h,l,null,null)}function cy(a,u){const l=Zr(u,a);if($g(l)){const h=l[1];80&l[2]?Qu(h,l,h.template,l[8]):l[5]>0&&kf(l)}}function kf(a){for(let h=gf(a);null!==h;h=Pm(h))for(let p=10;p<h.length;p++){const g=h[p];if(1024&g[2]){const y=g[1];Qu(y,g,y.template,g[8])}else g[5]>0&&kf(g)}const l=a[1].components;if(null!==l)for(let h=0;h<l.length;h++){const p=Zr(l[h],a);$g(p)&&p[5]>0&&kf(p)}}function $A(a,u){const l=Zr(u,a),h=l[1];(function(a,u){for(let l=u.length;l<a.blueprint.length;l++)u.push(a.blueprint[l])})(h,l),ga(h,l,l[8])}function od(a,u){return a[13]?a[14][4]=u:a[13]=u,a[14]=u,u}function Ff(a){for(;a;){a[2]|=64;const u=Bu(a);if(_u(a)&&!u)return a;a=u}return null}function dy(a,u,l){const h=u[10];h.begin&&h.begin();try{Qu(a,u,a.template,l)}catch(p){throw py(u,p),p}finally{h.end&&h.end()}}function L0(a){!function(a){for(let u=0;u<a.components.length;u++){const l=a.components[u],h=uf(l),p=h[1];VA(p,h,p.template,l)}}(a[8])}function hy(a,u,l){iw(0),u(a,l)}const V0=(()=>Promise.resolve(null))();function sd(a){return a[7]||(a[7]=[])}function fy(a){return a.cleanup||(a.cleanup=[])}function py(a,u){const l=a[9],h=l?l.get(Vu,null):null;h&&h.handleError(u)}function mr(a,u,l,h,p){for(let g=0;g<l.length;){const y=l[g++],v=l[g++],w=u[y],E=a.data[y];null!==E.setInput?E.setInput(w,p,h,v):w[v]=p}}function fo(a,u,l){const h=jh(u,a);!function(a,u,l){sn(a)?a.setValue(u,l):u.textContent=l}(a[11],h,l)}function Cs(a,u,l){let h=l?a.styles:null,p=l?a.classes:null,g=0;if(null!==u)for(let y=0;y<u.length;y++){const v=u[y];"number"==typeof v?g=v:1==g?p=K(p,v):2==g&&(h=K(h,v+": "+u[++y]+";"))}l?a.styles=h:a.stylesWithoutHost=h,l?a.classes=p:a.classesWithoutHost=p}const ma=new ln("INJECTOR",-1);class gy{get(u,l=Pc){if(l===Pc){const h=new Error(`NullInjectorError: No provider for ${V(u)}!`);throw h.name="NullInjectorError",h}return l}}const Ho=new ln("Set Injector scope."),ya={},my={};let ad;function ud(){return void 0===ad&&(ad=new gy),ad}function yy(a,u=null,l=null,h){return new YA(a,l,u||ud(),h)}class YA{constructor(u,l,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Mi(l,v=>this.processProvider(v,u,l)),Mi([u],v=>this.processInjectorType(v,[],g)),this.records.set(ma,_a(void 0,this));const y=this.records.get(Ho);this.scope=null!=y?y.value:null,this.source=p||("object"==typeof u?null:V(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,l=Pc,h=Be.Default){this.assertNotDestroyed();const p=Ou(this),g=Mo(void 0);try{if(!(h&Be.SkipSelf)){let v=this.records.get(u);if(void 0===v){const w=("function"==typeof(a=u)||"object"==typeof a&&a instanceof ln)&&ct(u);v=w&&this.injectableDefInScope(w)?_a(cd(u),ya):null,this.records.set(u,v)}if(null!=v)return this.hydrate(u,v)}return(h&Be.Self?ud():this.parent).get(u,l=h&Be.Optional&&l===Pc?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Ru]=y[Ru]||[]).unshift(V(u)),p)throw y;return Ln(y,u,"R3InjectorError",this.source)}throw y}finally{Mo(g),Ou(p)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((h,p)=>u.push(V(p))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,l,h){if(!(u=ce(u)))return!1;let p=wn(u);const g=null==p&&u.ngModule||void 0,y=void 0===g?u:g,v=-1!==h.indexOf(y);if(void 0!==g&&(p=wn(g)),null==p)return!1;if(null!=p.imports&&!v){let T;h.push(y);try{Mi(p.imports,A=>{this.processInjectorType(A,l,h)&&(void 0===T&&(T=[]),T.push(A))})}finally{}if(void 0!==T)for(let A=0;A<T.length;A++){const{ngModule:R,providers:F}=T[A];Mi(F,j=>this.processProvider(j,R,F||_e))}}this.injectorDefTypes.add(y);const w=ea(y)||(()=>new y);this.records.set(y,_a(w,ya));const E=p.providers;if(null!=E&&!v){const T=u;Mi(E,A=>this.processProvider(A,T,E))}return void 0!==g&&void 0!==u.providers}processProvider(u,l,h){let p=va(u=ce(u))?u:ce(u&&u.provide);const g=by(a=u)?_a(void 0,a.useValue):_a(vy(a),ya);var a;if(va(u)||!0!==u.multi)this.records.get(p);else{let y=this.records.get(p);y||(y=_a(void 0,ya,!0),y.factory=()=>ms(y.multi),this.records.set(p,y)),p=u,y.multi.push(u)}this.records.set(p,g)}hydrate(u,l){return l.value===ya&&(l.value=my,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(a=l.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var a}injectableDefInScope(u){if(!u.providedIn)return!1;const l=ce(u.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function cd(a){const u=ct(a),l=null!==u?u.factory:ea(a);if(null!==l)return l;if(a instanceof ln)throw new Error(`Token ${V(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const u=a.length;if(u>0){const h=No(u,"?");throw new Error(`Can't resolve all parameters for ${V(a)}: (${h.join(", ")}).`)}const l=function(a){const u=a&&(a[jt]||a[sr]);if(u){const l=function(a){if(a.hasOwnProperty("name"))return a.name;const u=(""+a).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),u}return null}(a);return null!==l?()=>l.factory(a):()=>new a}(a);throw new Error("unreachable")}function vy(a,u,l){let h;if(va(a)){const p=ce(a);return ea(p)||cd(p)}if(by(a))h=()=>ce(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...ms(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>yn(ce(a.useExisting));else{const p=ce(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return ea(p)||cd(p);h=()=>new p(...ms(a.deps))}return h}function _a(a,u,l=!1){return{factory:a,value:u,multi:l?[]:void 0}}function by(a){return null!==a&&"object"==typeof a&&Yh in a}function va(a){return"function"==typeof a}const wa=function(a,u,l){return function(a,u=null,l=null,h){const p=yy(a,u,l,h);return p._resolveInjectorDefTypes(),p}({name:l},u,a,l)};class At{static create(u,l){return Array.isArray(u)?wa(u,l,""):wa(u.providers,u.parent,u.name||"")}}function qf(a,u){Gh(uf(a)[1],En())}function Ea(a){let u=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),l=!0;const h=[a];for(;u;){let p;if(Ti(a))p=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");p=u.\u0275dir}if(p){if(l){h.push(p);const y=a;y.inputs=My(a.inputs),y.declaredInputs=My(a.declaredInputs),y.outputs=My(a.outputs);const v=p.hostBindings;v&&iI(a,v);const w=p.viewQuery,E=p.contentQueries;if(w&&Tn(a,w),E&&K0(a,E),H(a.inputs,p.inputs),H(a.declaredInputs,p.declaredInputs),H(a.outputs,p.outputs),Ti(p)&&p.data.animation){const T=a.data;T.animation=(T.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let y=0;y<g.length;y++){const v=g[y];v&&v.ngInherit&&v(a),v===Ea&&(l=!1)}}u=Object.getPrototypeOf(u)}!function(a){let u=0,l=null;for(let h=a.length-1;h>=0;h--){const p=a[h];p.hostVars=u+=p.hostVars,p.hostAttrs=um(p.hostAttrs,l=um(l,p.hostAttrs))}}(h)}function My(a){return a===q?{}:a===_e?[]:a}function Tn(a,u){const l=a.viewQuery;a.viewQuery=l?(h,p)=>{u(h,p),l(h,p)}:u}function K0(a,u){const l=a.contentQueries;a.contentQueries=l?(h,p,g)=>{u(h,p,g),l(h,p,g)}:u}function iI(a,u){const l=a.hostBindings;a.hostBindings=l?(h,p)=>{u(h,p),l(h,p)}:u}At.THROW_IF_NOT_FOUND=Pc,At.NULL=new gy,At.\u0275prov=bn({token:At,providedIn:"any",factory:()=>yn(ma)}),At.__NG_ELEMENT_ID__=-1;let _d=null;function Da(){if(!_d){const a=k.Symbol;if(a&&a.iterator)_d=a.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<u.length;++l){const h=u[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(_d=h)}}}return _d}class Lr{constructor(u){this.wrapped=u}static wrap(u){return new Lr(u)}static unwrap(u){return Lr.isWrapped(u)?u.wrapped:u}static isWrapped(u){return u instanceof Lr}}function il(a){return!!Oy(a)&&(Array.isArray(a)||!(a instanceof Map)&&Da()in a)}function Oy(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function li(a,u,l){return a[u]=l}function er(a,u,l){return!Object.is(a[u],l)&&(a[u]=l,!0)}function vd(a,u,l,h){const p=me();return er(p,Cu(),u)&&(mt(),ai(un(),p,a,u,l,h)),vd}function ol(a,u,l,h){return er(a,Cu(),l)?u+Re(l)+h:Qe}function Sa(a,u,l,h,p,g){const v=function(a,u,l,h){const p=er(a,u,l);return er(a,u+1,h)||p}(a,no(),l,p);return ko(2),v?u+Re(l)+h+Re(p)+g:Qe}function Vy(a,u,l,h,p,g,y,v){const w=me(),E=mt(),T=a+20,A=E.firstCreatePass?function(a,u,l,h,p,g,y,v,w){const E=u.consts,T=jo(u,a,4,y||null,cs(E,v));iy(u,l,T,cs(E,w)),Gh(u,T);const A=T.tViews=ws(2,T,h,p,g,u.directiveRegistry,u.pipeRegistry,null,u.schemas,E);return null!==u.queries&&(u.queries.template(u,T),A.queries=u.queries.embeddedTView(T)),T}(T,E,w,u,l,h,p,g,y):E.data[T];to(A,!1);const R=w[11].createComment("");Qc(E,w,R,A),Lt(R,w),od(w,w[T]=F0(R,w,R,A)),Uh(A)&&Xm(E,w,A),null!=y&&ey(w,A,v)}function Ra(a){return vc(nt.lFrame.contextLView,20+a)}function Br(a,u=Be.Default){const l=me();return null===l?yn(a,u):Dn(En(),l,ce(a),u)}function Ms(a,u,l){const h=me();return er(h,Cu(),u)&&Tr(mt(),un(),h,a,u,h[11],l,!1),Ms}function $f(a,u,l,h,p){const y=p?"class":"style";mr(a,l,u.inputs[y],y,h)}function Sd(a,u,l,h){const p=me(),g=mt(),y=20+a,v=p[11],w=p[y]=Fm(v,u,nt.lFrame.currentNamespace),E=g.firstCreatePass?function(a,u,l,h,p,g,y){const v=u.consts,E=jo(u,a,2,p,cs(v,g));return iy(u,l,E,cs(v,y)),null!==E.attrs&&Cs(E,E.attrs,!1),null!==E.mergedAttrs&&Cs(E,E.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,E),E}(y,g,p,0,u,l,h):g.data[y];to(E,!0);const T=E.mergedAttrs;null!==T&&Eu(v,w,T);const A=E.classes;null!==A&&bf(v,w,A);const R=E.styles;null!==R&&h0(v,w,R),64!=(64&E.flags)&&Qc(g,p,w,E),0===nt.lFrame.elementDepthCount&&Lt(w,p),nt.lFrame.elementDepthCount++,Uh(E)&&(Xm(g,p,E),Jm(g,E,p)),null!==h&&ey(p,E)}function ll(){let a=En();Qg()?bu():(a=a.parent,to(a,!1));const u=a;nt.lFrame.elementDepthCount--;const l=mt();l.firstCreatePass&&(Gh(l,a),Vg(a)&&l.queries.elementEnd(a)),null!=u.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(u)&&$f(l,u,me(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(u)&&$f(l,u,me(),u.stylesWithoutHost,!1)}function Zf(a,u,l,h){Sd(a,u,l,h),ll()}function Yf(a,u,l){const h=me(),p=mt(),g=a+20,y=p.firstCreatePass?function(a,u,l,h,p){const g=u.consts,y=cs(g,h),v=jo(u,a,8,"ng-container",y);return null!==y&&Cs(v,y,!0),iy(u,l,v,cs(g,p)),null!==u.queries&&u.queries.elementStart(u,v),v}(g,p,h,u,l):p.data[g];to(y,!0);const v=h[g]=h[11].createComment("");Qc(p,h,v,y),Lt(v,h),Uh(y)&&(Xm(p,h,y),Jm(p,y,h)),null!=l&&ey(h,y)}function cl(){let a=En();const u=mt();Qg()?bu():(a=a.parent,to(a,!1)),u.firstCreatePass&&(Gh(u,a),Vg(a)&&u.queries.elementEnd(a))}function jr(){return me()}function Wf(a){return!!a&&"function"==typeof a.then}function Bn(a){return!!a&&"function"==typeof a.subscribe}const Ky=Bn;function Kf(a,u,l,h){const p=me(),g=mt(),y=En();return function(a,u,l,h,p,g,y,v){const w=Uh(h),T=a.firstCreatePass&&fy(a),A=u[8],R=sd(u);let F=!0;if(3&h.type||v){const z=Ai(h,u),we=v?v(z):z,de=R.length,Ne=v?Xe=>v(an(Xe[h.index])):h.index;if(sn(l)){let Xe=null;if(!v&&w&&(Xe=function(a,u,l,h){const p=a.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const y=p[g];if(y===l&&p[g+1]===h){const v=u[7],w=p[g+2];return v.length>w?v[w]:null}"string"==typeof y&&(g+=2)}return null}(a,u,p,h.index)),null!==Xe)(Xe.__ngLastListenerFn__||Xe).__ngNextListenerFn__=g,Xe.__ngLastListenerFn__=g,F=!1;else{g=Qy(h,u,A,g,!1);const bt=l.listen(we,p,g);R.push(g,bt),T&&T.push(p,Ne,de,de+1)}}else g=Qy(h,u,A,g,!0),we.addEventListener(p,g,y),R.push(g),T&&T.push(p,Ne,de,y)}else g=Qy(h,u,A,g,!1);const j=h.outputs;let re;if(F&&null!==j&&(re=j[p])){const z=re.length;if(z)for(let we=0;we<z;we+=2){const Zn=u[re[we]][re[we+1]].subscribe(g),Wi=R.length;R.push(g,Zn),T&&T.push(p,h.index,Wi,-(Wi+1))}}}(g,p,p[11],y,a,u,!!l,h),Kf}function Hr(a,u,l,h){try{return!1!==l(h)}catch(p){return py(a,p),!1}}function Qy(a,u,l,h,p){return function g(y){if(y===Function)return h;const v=2&a.flags?Zr(a.index,u):u;0==(32&u[2])&&Ff(v);let w=Hr(u,0,h,y),E=g.__ngNextListenerFn__;for(;E;)w=Hr(u,0,E,y)&&w,E=E.__ngNextListenerFn__;return p&&!1===w&&(y.preventDefault(),y.returnValue=!1),w}}function sC(a=1){return function(a){return(nt.lFrame.contextLView=function(a,u){for(;a>0;)u=u[15],a--;return u}(a,nt.lFrame.contextLView))[8]}(a)}function hI(a,u){let l=null;const h=function(a){const u=a.attrs;if(null!=u){const l=u.indexOf(5);if(0==(1&l))return u[l+1]}return null}(a);for(let p=0;p<u.length;p++){const g=u[p];if("*"!==g){if(null===h?y0(a,g,!0):MA(h,g))return p}else l=p}return l}function Jy(a){const u=me()[16][6];if(!u.projection){const h=u.projection=No(a?a.length:1,null),p=h.slice();let g=u.child;for(;null!==g;){const y=a?hI(g,a):0;null!==y&&(p[y]?p[y].projectionNext=g:h[y]=g,p[y]=g),g=g.next}}}function aC(a,u=0,l){const h=me(),p=mt(),g=jo(p,20+a,16,null,l||null);null===g.projection&&(g.projection=u),bu(),64!=(64&g.flags)&&function(a,u,l){Gm(u[11],0,u,l,pr(a,l,u),vf(l.parent||u[6],l,u))}(p,h,g)}function Xy(a,u,l){return Jf(a,"",u,"",l),Xy}function Jf(a,u,l,h,p){const g=me(),y=ol(g,u,l,h);return y!==Qe&&Tr(mt(),un(),g,a,y,g[11],p,!1),Jf}function Rd(a,u,l,h,p){const g=a[l+1],y=null===u;let v=h?Ni(g):Li(g),w=!1;for(;0!==v&&(!1===w||y);){const T=a[v+1];n_(a[v],u)&&(w=!0,a[v+1]=h?Vo(T):$m(T)),v=h?Ni(T):Li(T)}w&&(a[l+1]=h?$m(g):Vo(g))}function n_(a,u){return null===a||null==u||(Array.isArray(a)?a[1]:a)===u||!(!Array.isArray(a)||"string"!=typeof u)&&Fr(a,u)>=0}const _n={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ep(a){return a.substring(_n.key,_n.keyEnd)}function pl(a){return a.substring(_n.value,_n.valueEnd)}function i_(a,u){const l=_n.textEnd;let h=_n.key=yo(a,u,l);return l===h?-1:(h=_n.keyEnd=function(a,u,l){let h;for(;u<l&&(45===(h=a.charCodeAt(u))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)u++;return u}(a,h,l),h=o_(a,h,l),h=_n.value=yo(a,h,l),h=_n.valueEnd=function(a,u,l){let h=-1,p=-1,g=-1,y=u,v=y;for(;y<l;){const w=a.charCodeAt(y++);if(59===w)return v;34===w||39===w?v=y=s_(a,w,y,l):u===y-4&&85===g&&82===p&&76===h&&40===w?v=y=s_(a,41,y,l):w>32&&(v=y),g=p,p=h,h=-33&w}return v}(a,h,l),o_(a,h,l))}function yo(a,u,l){for(;u<l&&a.charCodeAt(u)<=32;)u++;return u}function o_(a,u,l,h){return(u=yo(a,u,l))<l&&u++,u}function s_(a,u,l,h){let p=-1,g=l;for(;g<h;){const y=a.charCodeAt(g++);if(y==u&&92!==p)return g;p=92==y&&92===p?0:y}throw new Error}function u_(a,u,l){return tr(a,u,l,!1),u_}function l_(a,u){return tr(a,u,null,!0),l_}function Ui(a){!function(a,u,l,h){const p=mt(),g=ko(2);p.firstUpdatePass&&c_(p,null,g,h);const y=me();if(l!==Qe&&er(y,g,l)){const v=p.data[Er()];if(f_(v,h)&&!Fa(p,g)){let w=h?v.classesWithoutHost:v.stylesWithoutHost;null!==w&&(l=K(w,l||"")),$f(p,v,y,l,h)}else!function(a,u,l,h,p,g,y,v){p===Qe&&(p=_e);let w=0,E=0,T=0<p.length?p[0]:null,A=0<g.length?g[0]:null;for(;null!==T||null!==A;){const R=w<p.length?p[w+1]:void 0,F=E<g.length?g[E+1]:void 0;let re,j=null;T===A?(w+=2,E+=2,R!==F&&(j=A,re=F)):null===A||null!==T&&T<A?(w+=2,j=T):(E+=2,j=A,re=F),null!==j&&d_(a,u,l,h,j,re,y,v),T=w<p.length?p[w]:null,A=E<g.length?g[E]:null}}(p,v,y,y[11],y[g+1],y[g+1]=function(a,u,l){if(null==l||""===l)return _e;const h=[],p=Pi(l);if(Array.isArray(p))for(let g=0;g<p.length;g++)a(h,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&a(h,g,p[g]);else"string"==typeof p&&u(h,p);return h}(a,u,l),h,g)}}(np,gl,a,!1)}function gl(a,u){for(let l=function(a){return function(a){_n.key=0,_n.keyEnd=0,_n.value=0,_n.valueEnd=0,_n.textEnd=a.length}(a),i_(a,yo(a,0,_n.textEnd))}(u);l>=0;l=i_(u,l))np(a,ep(u),pl(u))}function tr(a,u,l,h){const p=me(),g=mt(),y=ko(2);g.firstUpdatePass&&c_(g,a,y,h),u!==Qe&&er(p,y,u)&&d_(g,g.data[Er()],p,p[11],a,p[y+1]=function(a,u){return null==a||("string"==typeof u?a+=u:"object"==typeof a&&(a=V(Pi(a)))),a}(u,l),h,y)}function Fa(a,u){return u>=a.expandoStartIndex}function c_(a,u,l,h){const p=a.data;if(null===p[l+1]){const g=p[Er()],y=Fa(a,l);f_(g,h)&&null===u&&!y&&(u=!1),u=function(a,u,l,h){const p=function(a){const u=nt.lFrame.currentDirectiveIndex;return-1===u?null:a[u]}(a);let g=h?u.residualClasses:u.residualStyles;if(null===p)0===(h?u.classBindings:u.styleBindings)&&(l=Rs(l=ml(null,a,u,l,h),u.attrs,h),g=null);else{const y=u.directiveStylingLast;if(-1===y||a[y]!==p)if(l=ml(p,a,u,l,h),null===g){let w=function(a,u,l){const h=l?u.classBindings:u.styleBindings;if(0!==Li(h))return a[Ni(h)]}(a,u,h);void 0!==w&&Array.isArray(w)&&(w=ml(null,a,u,w[1],h),w=Rs(w,u.attrs,h),function(a,u,l,h){a[Ni(l?u.classBindings:u.styleBindings)]=h}(a,u,h,w))}else g=function(a,u,l){let h;const p=u.directiveEnd;for(let g=1+u.directiveStylingLast;g<p;g++)h=Rs(h,a[g].hostAttrs,l);return Rs(h,u.attrs,l)}(a,u,h)}return void 0!==g&&(h?u.residualClasses=g:u.residualStyles=g),l}(p,g,u,h),function(a,u,l,h,p,g){let y=g?u.classBindings:u.styleBindings,v=Ni(y),w=Li(y);a[h]=l;let T,E=!1;if(Array.isArray(l)){const A=l;T=A[1],(null===T||Fr(A,T)>0)&&(E=!0)}else T=l;if(p)if(0!==w){const R=Ni(a[v+1]);a[h+1]=$u(R,v),0!==R&&(a[R+1]=M(a[R+1],h)),a[v+1]=function(a,u){return 131071&a|u<<17}(a[v+1],h)}else a[h+1]=$u(v,0),0!==v&&(a[v+1]=M(a[v+1],h)),v=h;else a[h+1]=$u(w,0),0===v?v=h:a[w+1]=M(a[w+1],h),w=h;E&&(a[h+1]=$m(a[h+1])),Rd(a,T,h,!0),Rd(a,T,h,!1),function(a,u,l,h,p){const g=p?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof u&&Fr(g,u)>=0&&(l[h+1]=Vo(l[h+1]))}(u,T,a,h,g),y=$u(v,w),g?u.classBindings=y:u.styleBindings=y}(p,g,u,l,y,h)}}function ml(a,u,l,h,p){let g=null;const y=l.directiveEnd;let v=l.directiveStylingLast;for(-1===v?v=l.directiveStart:v++;v<y&&(g=u[v],h=Rs(h,g.hostAttrs,p),g!==a);)v++;return null!==a&&(l.directiveStylingLast=v),h}function Rs(a,u,l){const h=l?1:2;let p=-1;if(null!==u)for(let g=0;g<u.length;g++){const y=u[g];"number"==typeof y?p=y:p===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Yr(a,y,!!l||u[++g]))}return void 0===a?null:a}function np(a,u,l){Yr(a,u,Pi(l))}function d_(a,u,l,h,p,g,y,v){if(!(3&u.type))return;const w=a.data,E=w[v+1];Os(function(a){return 1==(1&a)}(E)?h_(w,u,l,p,Li(E),y):void 0)||(Os(g)||function(a){return 2==(2&a)}(E)&&(g=h_(w,null,l,p,v,y)),function(a,u,l,h,p){const g=sn(a);if(u)p?g?a.addClass(l,h):l.classList.add(h):g?a.removeClass(l,h):l.classList.remove(h);else{let y=-1===h.indexOf("-")?void 0:lo.DashCase;if(null==p)g?a.removeStyle(l,h,y):l.style.removeProperty(h);else{const v="string"==typeof p&&p.endsWith("!important");v&&(p=p.slice(0,-10),y|=lo.Important),g?a.setStyle(l,h,p,y):l.style.setProperty(h,p,v?"important":"")}}}(h,y,jh(Er(),l),p,g))}function h_(a,u,l,h,p,g){const y=null===u;let v;for(;p>0;){const w=a[p],E=Array.isArray(w),T=E?w[1]:w,A=null===T;let R=l[p+1];R===Qe&&(R=A?_e:void 0);let F=A?dm(R,h):T===h?R:void 0;if(E&&!Os(F)&&(F=dm(w,h)),Os(F)&&(v=F,y))return v;const j=a[p+1];p=y?Ni(j):Li(j)}if(null!==u){let w=g?u.residualClasses:u.residualStyles;null!=w&&(v=dm(w,h))}return v}function Os(a){return void 0!==a}function f_(a,u){return 0!=(a.flags&(u?16:32))}function p_(a,u=""){const l=me(),h=mt(),p=a+20,g=h.firstCreatePass?jo(h,p,1,u,null):h.data[p],y=l[p]=function(a,u){return sn(a)?a.createText(u):a.createTextNode(u)}(l[11],u);Qc(h,l,y,g),to(g,!1)}function rp(a){return Qt("",a,""),rp}function Qt(a,u,l){const h=me(),p=ol(h,a,u,l);return p!==Qe&&fo(h,Er(),p),Qt}function vt(a,u,l,h,p){const g=me(),y=Sa(g,a,u,l,h,p);return y!==Qe&&fo(g,Er(),y),vt}function mC(a,u,l){Ui(ol(me(),a,u,l))}function D_(a,u,l){const h=me();return er(h,Cu(),u)&&Tr(mt(),un(),h,a,u,h[11],l,!0),D_}const Jo=void 0;var kd=["en",[["a","p"],["AM","PM"],Jo],[["AM","PM"],Jo,Jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jo,"{1} 'at' {0}",Jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const u=Math.floor(Math.abs(a)),l=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let Ar={};function ap(a){const u=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let l=S_(u);if(l)return l;const h=u.split("-")[0];if(l=S_(h),l)return l;if("en"===h)return kd;throw new Error(`Missing locale data for the locale "${a}".`)}function T_(a){return ap(a)[je.PluralCase]}function S_(a){return a in Ar||(Ar[a]=k.ng&&k.ng.common&&k.ng.common.locales&&k.ng.common.locales[a]),Ar[a]}var je=(()=>((je=je||{})[je.LocaleId=0]="LocaleId",je[je.DayPeriodsFormat=1]="DayPeriodsFormat",je[je.DayPeriodsStandalone=2]="DayPeriodsStandalone",je[je.DaysFormat=3]="DaysFormat",je[je.DaysStandalone=4]="DaysStandalone",je[je.MonthsFormat=5]="MonthsFormat",je[je.MonthsStandalone=6]="MonthsStandalone",je[je.Eras=7]="Eras",je[je.FirstDayOfWeek=8]="FirstDayOfWeek",je[je.WeekendRange=9]="WeekendRange",je[je.DateFormat=10]="DateFormat",je[je.TimeFormat=11]="TimeFormat",je[je.DateTimeFormat=12]="DateTimeFormat",je[je.NumberSymbols=13]="NumberSymbols",je[je.NumberFormats=14]="NumberFormats",je[je.CurrencyCode=15]="CurrencyCode",je[je.CurrencySymbol=16]="CurrencySymbol",je[je.CurrencyName=17]="CurrencyName",je[je.Currencies=18]="Currencies",je[je.Directionality=19]="Directionality",je[je.PluralCase=20]="PluralCase",je[je.ExtraData=21]="ExtraData",je))();const Fd="en-US";let Na=Fd;function ks(a){Ot(a,"Expected localeId to be defined"),"string"==typeof a&&(Na=a.toLowerCase().replace(/_/g,"-"))}function Tl(a,u,l,h,p){if(a=ce(a),Array.isArray(a))for(let g=0;g<a.length;g++)Tl(a[g],u,l,h,p);else{const g=mt(),y=me();let v=va(a)?a:ce(a.provide),w=vy(a);const E=En(),T=1048575&E.providerIndexes,A=E.directiveStart,R=E.providerIndexes>>20;if(va(a)||!a.multi){const F=new na(w,p,Br),j=P_(v,u,p?T:T+R,A);-1===j?(Nn(Du(E,y),g,v),Vs(g,a,u.length),u.push(v),E.directiveStart++,E.directiveEnd++,p&&(E.providerIndexes+=1048576),l.push(F),y.push(F)):(l[j]=F,y[j]=F)}else{const F=P_(v,u,T+R,A),j=P_(v,u,T,T+R),re=F>=0&&l[F],z=j>=0&&l[j];if(p&&!z||!p&&!re){Nn(Du(E,y),g,v);const we=function(a,u,l,h,p){const g=new na(a,l,Br);return g.multi=[],g.index=u,g.componentProviders=0,x_(g,p,h&&!l),g}(p?WC:kI,l.length,p,h,w);!p&&z&&(l[j].providerFactory=we),Vs(g,a,u.length,0),u.push(v),E.directiveStart++,E.directiveEnd++,p&&(E.providerIndexes+=1048576),l.push(we),y.push(we)}else Vs(g,a,F>-1?F:j,x_(l[p?j:F],w,!p&&h));!p&&h&&z&&l[j].componentProviders++}}}function Vs(a,u,l,h){const p=va(u);if(p||function(a){return!!a.useClass}(u)){const y=(u.useClass||u).prototype.ngOnDestroy;if(y){const v=a.destroyHooks||(a.destroyHooks=[]);if(!p&&u.multi){const w=v.indexOf(l);-1===w?v.push(l,[h,y]):v[w+1].push(h,y)}else v.push(l,y)}}}function x_(a,u,l){return l&&a.componentProviders++,a.multi.push(u)-1}function P_(a,u,l,h){for(let p=l;p<h;p++)if(u[p]===a)return p;return-1}function kI(a,u,l,h){return vo(this.multi,[])}function WC(a,u,l,h){const p=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=Ac(l,l[1],this.providerFactory.index,h);g=v.slice(0,y),vo(p,g);for(let w=y;w<v.length;w++)g.push(v[w])}else g=[],vo(p,g);return g}function vo(a,u){for(let l=0;l<a.length;l++)u.push((0,a[l])());return u}function KC(a,u=[]){return l=>{l.providersResolver=(h,p)=>function(a,u,l){const h=mt();if(h.firstCreatePass){const p=Ti(a);Tl(l,h.data,h.blueprint,p,!0),Tl(u,h.data,h.blueprint,p,!1)}}(h,p?p(a):a,u)}}class vp{}const Sl="ngComponent";class F_{resolveComponentFactory(u){throw function(a){const u=Error(`No component factory found for ${V(a)}. Did you add it to @NgModule.entryComponents?`);return u[Sl]=a,u}(u)}}class qa{}function jd(...a){}function za(a,u){return new bo(Ai(a,u))}qa.NULL=new F_;const eE=function(){return za(En(),me())};let bo=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=eE,a})();function L_(a){return a instanceof bo?a.nativeElement:a}class ns{}let Al=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>tE(),a})();const tE=function(){const a=me(),l=Zr(En().index,a);return function(a){return a[11]}(Po(l)?l:a)};let V_=(()=>{class a{}return a.\u0275prov=bn({token:a,providedIn:"root",factory:()=>null}),a})();class nE{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Hd=new nE("12.2.5");class kn{constructor(){}supports(u){return il(u)}create(u){return new jI(u)}}const BI=(a,u)=>u;class jI{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||BI}forEachItem(u){let l;for(l=this._itHead;null!==l;l=l._next)u(l)}forEachOperation(u){let l=this._itHead,h=this._removalsHead,p=0,g=null;for(;l||h;){const y=!h||l&&l.currentIndex<iE(h,p,g)?l:h,v=iE(y,p,g),w=y.currentIndex;if(y===h)p--,h=h._nextRemoved;else if(l=l._next,null==y.previousIndex)p++;else{g||(g=[]);const E=v-p,T=w-p;if(E!=T){for(let R=0;R<E;R++){const F=R<g.length?g[R]:g[R]=0,j=F+R;T<=j&&j<E&&(g[R]=F+1)}g[y.previousIndex]=T-E}}v!==w&&u(y,v,w)}}forEachPreviousItem(u){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachMovedItem(u){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}forEachIdentityChange(u){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)u(l)}diff(u){if(null==u&&(u=[]),!il(u))throw new Error(`Error trying to diff '${V(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let p,g,y,l=this._itHead,h=!1;if(Array.isArray(u)){this.length=u.length;for(let v=0;v<this.length;v++)g=u[v],y=this._trackByFn(v,g),null!==l&&Object.is(l.trackById,y)?(h&&(l=this._verifyReinsertion(l,g,y,v)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,y,v),h=!0),l=l._next}else p=0,function(a,u){if(Array.isArray(a))for(let l=0;l<a.length;l++)u(a[l]);else{const l=a[Da()]();let h;for(;!(h=l.next()).done;)u(h.value)}}(u,v=>{y=this._trackByFn(p,v),null!==l&&Object.is(l.trackById,y)?(h&&(l=this._verifyReinsertion(l,v,y,p)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,y,p),h=!0),l=l._next,p++}),this.length=p;return this._truncate(l),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,l,h,p){let g;return null===u?g=this._itTail:(g=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._reinsertAfter(u,g,p)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._moveAfter(u,g,p)):u=this._addAfter(new HI(l,h),g,p),u}_verifyReinsertion(u,l,h,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?u=this._reinsertAfter(g,u._prev,p):u.currentIndex!=p&&(u.currentIndex=p,this._addToMoves(u,p)),u}_truncate(u){for(;null!==u;){const l=u._next;this._addToRemovals(this._unlink(u)),u=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const p=u._prevRemoved,g=u._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(u,l,h),this._addToMoves(u,h),u}_moveAfter(u,l,h){return this._unlink(u),this._insertAfter(u,l,h),this._addToMoves(u,h),u}_addAfter(u,l,h){return this._insertAfter(u,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,l,h){const p=null===l?this._itHead:l._next;return u._next=p,u._prev=l,null===p?this._itTail=u:p._prev=u,null===l?this._itHead=u:l._next=u,null===this._linkedRecords&&(this._linkedRecords=new rE),this._linkedRecords.put(u),u.currentIndex=h,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const l=u._prev,h=u._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,u}_addToMoves(u,l){return u.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rE),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,l){return u.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class HI{constructor(u,l){this.item=u,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GI{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,u))return h;return null}remove(u){const l=u._prevDup,h=u._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class rE{constructor(){this.map=new Map}put(u){const l=u.trackById;let h=this.map.get(l);h||(h=new GI,this.map.set(l,h)),h.add(u)}get(u,l){const p=this.map.get(u);return p?p.get(u,l):null}remove(u){const l=u.trackById;return this.map.get(l).remove(u)&&this.map.delete(l),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iE(a,u,l){const h=a.previousIndex;if(null===h)return h;let p=0;return l&&h<l.length&&(p=l[h]),h+u+p}class Hn{constructor(){}supports(u){return u instanceof Map||Oy(u)}create(){return new oE}}class oE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let l;for(l=this._mapHead;null!==l;l=l._next)u(l)}forEachPreviousItem(u){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)u(l)}forEachChangedItem(u){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}diff(u){if(u){if(!(u instanceof Map||Oy(u)))throw new Error(`Error trying to diff '${V(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(u,(h,p)=>{if(l&&l.key===p)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(p,h);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,l){if(u){const h=u._prev;return l._next=u,l._prev=h,u._prev=l,h&&(h._next=l),u===this._mapHead&&(this._mapHead=l),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(u,l){if(this._records.has(u)){const p=this._records.get(u);this._maybeAddToChanges(p,l);const g=p._prev,y=p._next;return g&&(g._next=y),y&&(y._prev=g),p._next=null,p._prev=null,p}const h=new sE(u);return this._records.set(u,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,l){Object.is(l,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=l,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,l){u instanceof Map?u.forEach(l):Object.keys(u).forEach(h=>l(u[h],h))}}class sE{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wp(){return new Gd([new kn])}let Gd=(()=>{class a{constructor(l){this.factories=l}static create(l,h){if(null!=h){const p=h.factories.slice();l=l.concat(p)}return new a(l)}static extend(l){return{provide:a,useFactory:h=>a.create(l,h||wp()),deps:[[a,new ys,new oo]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(a){return a.name||typeof a}(l)}'`)}}return a.\u0275prov=bn({token:a,providedIn:"root",factory:wp}),a})();function B_(){return new Cp([new Hn])}let Cp=(()=>{class a{constructor(l){this.factories=l}static create(l,h){if(h){const p=h.factories.slice();l=l.concat(p)}return new a(l)}static extend(l){return{provide:a,useFactory:h=>a.create(l,h||B_()),deps:[[a,new ys,new oo]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(h)return h;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return a.\u0275prov=bn({token:a,providedIn:"root",factory:B_}),a})();function Il(a,u,l,h,p=!1){for(;null!==l;){const g=u[l.index];if(null!==g&&h.push(an(g)),mn(g))for(let v=10;v<g.length;v++){const w=g[v],E=w[1].firstChild;null!==E&&Il(w[1],w,E,h)}const y=l.type;if(8&y)Il(a,u,l.child,h);else if(32&y){const v=Rm(l,u);let w;for(;w=v();)h.push(w)}else if(16&y){const v=CA(u,l);if(Array.isArray(v))h.push(...v);else{const w=Bu(u[16]);Il(w[1],w,v,h,!0)}}l=p?l.projectionNext:l.next}return h}class $a{constructor(u,l){this._lView=u,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,l=u[1];return Il(l,u,l.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(mn(u)){const l=u[8],h=l?l.indexOf(this):-1;h>-1&&(Lm(u,h),oa(l,h))}this._attachedToViewContainer=!1}l0(this._lView[1],this._lView)}onDestroy(u){nd(this._lView[1],this._lView,null,u)}markForCheck(){Ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){dy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,u,l){wu(!0);try{dy(a,u,l)}finally{wu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,Jc(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class aE extends $a{constructor(u){super(u),this._view=u}detectChanges(){L0(this._view)}checkNoChanges(){!function(a){wu(!0);try{L0(a)}finally{wu(!1)}}(this._view)}get context(){return null}}const $I=function(a){return function(a,u,l){if(Vh(a)&&!l){const h=Zr(a.index,u);return new $a(h,h)}return 47&a.type?new $a(u[16],u):null}(En(),me(),16==(16&a))};let ZI=(()=>{class a{}return a.__NG_ELEMENT_ID__=$I,a})();const Ep=[new Hn],j_=new Gd([new kn]),lE=new Cp(Ep),KI=function(){return Za(En(),me())};let zd=(()=>{class a{}return a.__NG_ELEMENT_ID__=KI,a})();const QI=zd,$d=class extends QI{constructor(u,l,h){super(),this._declarationLView=u,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(u){const l=this._declarationTContainer.tViews,h=Ku(this._declarationLView,l,u,16,null,l.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(l)),ga(l,h,u),new $a(h)}};function Za(a,u){return 4&a.type?new $d(u,a,za(a,u)):null}class ji{}class Dp{}const H_=function(){return G_(En(),me())};let Hi=(()=>{class a{}return a.__NG_ELEMENT_ID__=H_,a})();const JI=Hi,fE=class extends JI{constructor(u,l,h){super(),this._lContainer=u,this._hostTNode=l,this._hostLView=h}get element(){return za(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const u=ra(this._hostTNode,this._hostLView);if(dw(u)){const l=Tc(u,this._hostLView),h=Dc(u);return new Fo(l[1].data[h+8],l)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const l=pE(this._lContainer);return null!==l&&l[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,l,h){const p=u.createEmbeddedView(l||{});return this.insert(p,h),p}createComponent(u,l,h,p,g){const y=h||this.parentInjector;if(!g&&null==u.ngModule&&y){const w=y.get(ji,null);w&&(g=w)}const v=u.create(y,p,void 0,g);return this.insert(v.hostView,l),v}insert(u,l){const h=u._lView,p=h[1];if(mn(h[3])){const T=this.indexOf(u);if(-1!==T)this.detach(T);else{const A=h[3],R=new fE(A,A[6],A[3]);R.detach(R.indexOf(u))}}const g=this._adjustIndex(l),y=this._lContainer;!function(a,u,l,h){const p=10+h,g=l.length;h>0&&(l[p-1][4]=u),h<g-10?(u[4]=l[p],Zh(l,10+h,u)):(l.push(u),u[4]=null),u[3]=l;const y=u[17];null!==y&&l!==y&&function(a,u){const l=a[9];u[16]!==u[3][3][16]&&(a[2]=!0),null===l?a[9]=[u]:l.push(u)}(y,u);const v=u[19];null!==v&&v.insertView(a),u[2]|=128}(p,h,y,g);const v=Lo(g,y),w=h[11],E=_f(w,y[7]);return null!==E&&function(a,u,l,h,p,g){h[0]=p,h[6]=u,Jc(a,h,l,1,p,g)}(p,y[6],w,h,E,v),u.attachToViewContainerRef(),Zh(Rl(y),g,u),u}move(u,l){return this.insert(u,l)}indexOf(u){const l=pE(this._lContainer);return null!==l?l.indexOf(u):-1}remove(u){const l=this._adjustIndex(u,-1),h=Lm(this._lContainer,l);h&&(oa(Rl(this._lContainer),l),l0(h[1],h))}detach(u){const l=this._adjustIndex(u,-1),h=Lm(this._lContainer,l);return h&&null!=oa(Rl(this._lContainer),l)?new $a(h):null}_adjustIndex(u,l=0){return null==u?this.length+l:u}};function pE(a){return a[8]}function Rl(a){return a[8]||(a[8]=[])}function G_(a,u){let l;const h=u[a.index];if(mn(h))l=h;else{let p;if(8&a.type)p=an(h);else{const g=u[11];p=g.createComment("");const y=Ai(a,u);co(g,_f(g,y),p,function(a,u){return sn(a)?a.nextSibling(u):u.nextSibling}(g,y),!1)}u[a.index]=l=F0(h,u,p,a),od(u,l)}return new fE(l,a,u)}const Ul={};class qi extends qa{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const l=Qn(u);return new BE(l,this.ngModule)}}function Bs(a){const u=[];for(let l in a)a.hasOwnProperty(l)&&u.push({propName:a[l],templateName:l});return u}const Lp=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>n0});class BE extends vp{constructor(u,l){super(),this.componentDef=u,this.ngModule=l,this.componentType=u.type,this.selector=u.selectors.map(RA).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Bs(this.componentDef.inputs)}get outputs(){return Bs(this.componentDef.outputs)}create(u,l,h,p){const g=(p=p||this.ngModule)?function(a,u){return{get:(l,h,p)=>{const g=a.get(l,Ul,p);return g!==Ul||h===Ul?g:u.get(l,h,p)}}}(u,p.injector):u,y=g.get(ns,Wb),v=g.get(V_,null),w=y.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",T=h?function(a,u,l){if(sn(a))return a.selectRootElement(u,l===nn.ShadowDom);let h="string"==typeof u?a.querySelector(u):u;return h.textContent="",h}(w,h,this.componentDef.encapsulation):Fm(y.createRenderer(null,this.componentDef),E,function(a){const u=a.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(E)),A=this.componentDef.onPush?576:528,R=function(a,u){return{components:[],scheduler:a||n0,clean:V0,playerHandler:u||null,flags:0}}(),F=ws(0,null,null,1,0,null,null,null,null,null),j=Ku(null,F,R,A,null,null,y,w,v,g);let re,z;Ec(j);try{const we=function(a,u,l,h,p,g){const y=l[1];l[20]=a;const w=jo(y,20,2,"#host",null),E=w.mergedAttrs=u.hostAttrs;null!==E&&(Cs(w,E,!0),null!==a&&(Eu(p,a,E),null!==w.classes&&bf(p,a,w.classes),null!==w.styles&&h0(p,a,w.styles)));const T=h.createRenderer(a,u),A=Ku(l,Xn(u),null,u.onPush?64:16,l[20],w,h,T,g||null,null);return y.firstCreatePass&&(Nn(Du(w,l),y,u.type),xf(y,w),ay(w,l.length,1)),od(l,A),l[20]=A}(T,this.componentDef,j,y,w);if(T)if(h)Eu(w,T,["ng-version",Hd.full]);else{const{attrs:de,classes:Ne}=function(a){const u=[],l=[];let h=1,p=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===p?""!==g&&u.push(g,a[++h]):8===p&&l.push(g);else{if(!Fi(p))break;p=g}h++}return{attrs:u,classes:l}}(this.componentDef.selectors[0]);de&&Eu(w,T,de),Ne&&Ne.length>0&&bf(w,T,Ne.join(" "))}if(z=vu(F,20),void 0!==l){const de=z.projection=[];for(let Ne=0;Ne<this.ngContentSelectors.length;Ne++){const Xe=l[Ne];de.push(null!=Xe?Array.from(Xe):null)}}re=function(a,u,l,h,p){const g=l[1],y=function(a,u,l){const h=En();a.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),k0(a,h,u,bs(a,u,1,null),l));const p=Ac(u,a,h.directiveStart,h);Lt(p,u);const g=Ai(h,u);return g&&Lt(g,u),p}(g,l,u);if(h.components.push(y),a[8]=y,p&&p.forEach(w=>w(y,u)),u.contentQueries){const w=En();u.contentQueries(1,y,w.directiveStart)}const v=En();return!g.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(ds(v.index),Rf(l[1],v,0,v.directiveStart,v.directiveEnd,u),Un(u,y)),y}(we,this.componentDef,j,R,[qf]),ga(F,j,null)}finally{rm()}return new HE(this.componentType,re,za(z,j),j,z)}}class HE extends class{}{constructor(u,l,h,p,g){super(),this.location=h,this._rootLView=p,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new aE(p),this.componentType=u}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}const bi=new Map;class mM extends ji{constructor(u,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qi(this);const h=Rr(u),p=u[ar]||null;p&&ks(p),this._bootstrapComponents=uo(h.bootstrap),this._r3Injector=yy(u,l,[{provide:ji,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],V(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,l=At.THROW_IF_NOT_FOUND,h=Be.Default){return u===At||u===ji||u===ma?this:this._r3Injector.get(u,l,h)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class pv extends Dp{constructor(u){super(),this.moduleType=u,null!==Rr(u)&&function(a){const u=new Set;!function l(h){const p=Rr(h,!0),g=p.id;null!==g&&(function(a,u,l){if(u&&u!==l)throw new Error(`Duplicate module registered for ${a} - ${V(u)} vs ${V(u.name)}`)}(g,bi.get(g),h),bi.set(g,h));const y=uo(p.imports);for(const v of y)u.has(v)||(u.add(v),l(v))}(a)}(u)}create(u){return new mM(this.moduleType,u)}}function Up(a,u,l){const h=Or()+a,p=me();return p[h]===Qe?li(p,h,l?u.call(l):u()):function(a,u){return a[u]}(p,h)}function Bp(a,u,l,h){return _v(me(),Or(),a,u,l,h)}function _v(a,u,l,h,p,g){const y=u+l;return er(a,y,p)?li(a,y+1,g?h.call(g,p):h(p)):function(a,u){const l=a[u];return l===Qe?void 0:l}(a,y+1)}function wo(a,u){const l=mt();let h;const p=a+20;l.firstCreatePass?(h=function(a,u){if(u)for(let l=u.length-1;l>=0;l--){const h=u[l];if(a===h.name)return h}throw new ht("302",`The pipe '${a}' could not be found!`)}(u,l.pipeRegistry),l.data[p]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(p,h.onDestroy)):h=l.data[p];const g=h.factory||(h.factory=ea(h.type)),y=Mo(Br);try{const v=lm(!1),w=g();return lm(v),function(a,u,l,h){l>=a.data.length&&(a.data[l]=null,a.blueprint[l]=null),u[l]=h}(l,me(),p,w),w}finally{Mo(y)}}function is(a,u,l){const h=a+20,p=me(),g=vc(p,h);return function(a,u){Lr.isWrapped(u)&&(u=Lr.unwrap(u),a[no()]=Qe);return u}(p,function(a,u){return a[1].data[u].pure}(p,h)?_v(p,Or(),u,g.transform,l,g):g.transform(l))}function jp(a){return u=>{setTimeout(a,void 0,u)}}const zi=class extends d.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,l,h){var p,g,y;let v=u,w=l||(()=>null),E=h;if(u&&"object"==typeof u){const A=u;v=null===(p=A.next)||void 0===p?void 0:p.bind(A),w=null===(g=A.error)||void 0===g?void 0:g.bind(A),E=null===(y=A.complete)||void 0===y?void 0:y.bind(A)}this.__isAsync&&(w=jp(w),v&&(v=jp(v)),E&&(E=jp(E)));const T=super.subscribe({next:v,error:w,complete:E});return u instanceof J.w&&u.add(T),T}};function QE(){return this._results[Da()]()}class jl{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Da(),h=jl.prototype;h[l]||(h[l]=QE)}get changes(){return this._changes||(this._changes=new zi)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,l){return this._results.reduce(u,l)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,l){const h=this;h.dirty=!1;const p=si(u);(this._changesDetected=!function(a,u,l){if(a.length!==u.length)return!1;for(let h=0;h<a.length;h++){let p=a[h],g=u[h];if(l&&(p=l(p),g=l(g)),g!==p)return!1}return!0}(h._results,p,l))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ih{constructor(u){this.queryList=u,this.matches=null}clone(){return new ih(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hl{constructor(u=[]){this.queries=u}createEmbeddedView(u){const l=u.queries;if(null!==l){const h=null!==u.contentQueries?u.contentQueries[0]:l.length,p=[];for(let g=0;g<h;g++){const y=l.getByIndex(g);p.push(this.queries[y.indexInDeclarationView].clone())}return new Hl(p)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let l=0;l<this.queries.length;l++)null!==Dv(u,l).matches&&this.queries[l].setDirty()}}class eD{constructor(u,l,h=null){this.predicate=u,this.flags=l,this.read=h}}class vv{constructor(u=[]){this.queries=u}elementStart(u,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(u,l)}elementEnd(u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(u)}embeddedTView(u){let l=null;for(let h=0;h<this.length;h++){const p=null!==l?l.length:0,g=this.getByIndex(h).embeddedTView(u,p);g&&(g.indexInDeclarationView=h,null!==l?l.push(g):l=[g])}return null!==l?new vv(l):null}template(u,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(u,l)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class Co{constructor(u,l=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(u,l){this.isApplyingToNode(l)&&this.matchTNode(u,l)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,l){this.elementStart(u,l)}embeddedTView(u,l){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,l),new Co(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=u.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(u,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=h[p];this.matchTNodeWithReadOption(u,l,tu(l,g)),this.matchTNodeWithReadOption(u,l,Sc(l,u,g,!1,!1))}else h===zd?4&l.type&&this.matchTNodeWithReadOption(u,l,-1):this.matchTNodeWithReadOption(u,l,Sc(l,u,h,!1,!1))}matchTNodeWithReadOption(u,l,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===bo||p===Hi||p===zd&&4&l.type)this.addMatch(l.index,-2);else{const g=Sc(l,u,p,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,h)}}addMatch(u,l){null===this.matches?this.matches=[u,l]:this.matches.push(u,l)}}function tu(a,u){const l=a.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===u)return l[h+1];return null}function nD(a,u,l,h){return-1===l?function(a,u){return 11&a.type?za(a,u):4&a.type?Za(a,u):null}(u,a):-2===l?function(a,u,l){return l===bo?za(u,a):l===zd?Za(u,a):l===Hi?G_(u,a):void 0}(a,u,h):Ac(a,a[1],l,u)}function Hp(a,u,l,h){const p=u[19].queries[h];if(null===p.matches){const g=a.data,y=l.matches,v=[];for(let w=0;w<y.length;w+=2){const E=y[w];v.push(E<0?null:nD(u,g[E],y[w+1],l.metadata.read))}p.matches=v}return p.matches}function bv(a,u,l,h){const p=a.queries.getByIndex(l),g=p.matches;if(null!==g){const y=Hp(a,u,p,l);for(let v=0;v<g.length;v+=2){const w=g[v];if(w>0)h.push(y[v/2]);else{const E=g[v+1],T=u[-w];for(let A=10;A<T.length;A++){const R=T[A];R[17]===R[3]&&bv(R[1],R,E,h)}if(null!==T[9]){const A=T[9];for(let R=0;R<A.length;R++){const F=A[R];bv(F[1],F,E,h)}}}}}return h}function wv(a){const u=me(),l=mt(),h=rw();iw(h+1);const p=Dv(l,h);if(a.dirty&&Kb(u)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const g=p.crossesNgTemplate?bv(l,u,h,[]):Hp(l,u,p,h);a.reset(g,L_),a.notifyOnChanges()}return!0}return!1}function Cv(a,u,l){const h=mt();h.firstCreatePass&&(oD(h,new eD(a,u,l),-1),2==(2&u)&&(h.staticViewQueries=!0)),sh(h,me(),u)}function Ev(a,u,l,h){const p=mt();if(p.firstCreatePass){const g=En();oD(p,new eD(u,l,h),g.index),function(a,u){const l=a.contentQueries||(a.contentQueries=[]);u!==(l.length?l[l.length-1]:-1)&&l.push(a.queries.length-1,u)}(p,a),2==(2&l)&&(p.staticContentQueries=!0)}sh(p,me(),l)}function rD(){return a=me(),u=rw(),a[19].queries[u].queryList;var a,u}function sh(a,u,l){const h=new jl(4==(4&l));nd(a,u,h,h.destroy),null===u[19]&&(u[19]=new Hl),u[19].queries.push(new ih(h))}function oD(a,u,l){null===a.queries&&(a.queries=new vv),a.queries.track(new Co(u,l))}function Dv(a,u){return a.queries.getByIndex(u)}function ah(a,u){return Za(a,u)}const Xp=new ln("Application Initializer");let iu=(()=>{class a{constructor(l){this.appInits=l,this.resolve=jd,this.reject=jd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(Wf(g))l.push(g);else if(Ky(g)){const y=new Promise((v,w)=>{g.subscribe({complete:v,error:w})});l.push(y)}}Promise.all(l).then(()=>{h()}).catch(p=>{this.reject(p)}),0===l.length&&h(),this.initialized=!0}}return a.\u0275fac=function(l){return new(l||a)(yn(Xp,8))},a.\u0275prov=bn({token:a,factory:a.\u0275fac}),a})();const Vv=new ln("AppId"),bD={provide:Vv,useFactory:function(){return`${eg()}${eg()}${eg()}`},deps:[]};function eg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uv=new ln("Platform Initializer"),Bv=new ln("Platform ID"),wD=new ln("appBootstrapListener");let jv=(()=>{class a{log(l){console.log(l)}warn(l){console.warn(l)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=bn({token:a,factory:a.\u0275fac}),a})();const Zl=new ln("LocaleId"),Hv=new ln("DefaultCurrencyCode");class TD{constructor(u,l){this.ngModuleFactory=u,this.componentFactories=l}}const rr=function(a){return new pv(a)},ss=rr,vx=function(a){return Promise.resolve(rr(a))},Gv=function(a){const u=rr(a),h=uo(Rr(a).declarations).reduce((p,g)=>{const y=Qn(g);return y&&p.push(new BE(y)),p},[]);return new TD(u,h)},qv=Gv,$v=function(a){return Promise.resolve(Gv(a))};let dh=(()=>{class a{constructor(){this.compileModuleSync=ss,this.compileModuleAsync=vx,this.compileModuleAndAllComponentsSync=qv,this.compileModuleAndAllComponentsAsync=$v}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=bn({token:a,factory:a.\u0275fac}),a})();const Ex=(()=>Promise.resolve(0))();function SD(a){"undefined"==typeof Zone?Ex.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ci{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zi(!1),this.onMicrotaskEmpty=new zi(!1),this.onStable=new zi(!1),this.onError=new zi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&l,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let a=k.requestAnimationFrame,u=k.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&u){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const h=u[Zone.__symbol__("OriginalDelegate")];h&&(u=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(a){const u=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(k,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Wl(a),a.isCheckStableRunning=!0,Yl(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Wl(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,p,g,y,v)=>{try{return AD(a),l.invokeTask(p,g,y,v)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&u(),ng(a)}},onInvoke:(l,h,p,g,y,v,w)=>{try{return AD(a),l.invoke(p,g,y,v,w)}finally{a.shouldCoalesceRunChangeDetection&&u(),ng(a)}},onHasTask:(l,h,p,g)=>{l.hasTask(p,g),h===p&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Wl(a),Yl(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,h,p,g)=>(l.handleError(p,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ci.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ci.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,l,h){return this._inner.run(u,l,h)}runTask(u,l,h,p){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+p,u,ZM,jd,jd);try{return g.runTask(y,l,h)}finally{g.cancelTask(y)}}runGuarded(u,l,h){return this._inner.runGuarded(u,l,h)}runOutsideAngular(u){return this._outer.run(u)}}const ZM={};function Yl(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Wl(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function AD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function ng(a){a._nesting--,Yl(a)}class rg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zi,this.onMicrotaskEmpty=new zi,this.onStable=new zi,this.onError=new zi}run(u,l,h){return u.apply(l,h)}runGuarded(u,l,h){return u.apply(l,h)}runOutsideAngular(u){return u()}runTask(u,l,h,p){return u.apply(l,h)}}let ID=(()=>{class a{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ci.assertNotInAngularZone(),SD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())SD(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,p){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:p})}whenStable(l,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,h,p){return[]}}return a.\u0275fac=function(l){return new(l||a)(yn(Ci))},a.\u0275prov=bn({token:a,factory:a.\u0275fac}),a})(),MD=(()=>{class a{constructor(){this._applications=new Map,ig.addToWindow(this)}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return ig.findTestabilityInTree(this,l,h)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=bn({token:a,factory:a.\u0275fac}),a})();class RD{addToWindow(u){}findTestabilityInTree(u,l,h){return null}}function YM(a){ig=a}let ig=new RD,OD=!0,WM=!1;function Zv(){return WM=!0,OD}function Yv(){if(WM)throw new Error("Cannot enable prod mode after platform setup.");OD=!1}let $i;const ug=new ln("AllowMultipleToken");class kD{constructor(u,l){this.name=u,this.token=l}}function Kv(a,u,l=[]){const h=`Platform: ${u}`,p=new ln(h);return(g=[])=>{let y=Ql();if(!y||y.injector.get(ug,!1))if(a)a(l.concat(g).concat({provide:p,useValue:!0}));else{const v=l.concat(g).concat({provide:p,useValue:!0},{provide:Ho,useValue:"platform"});!function(a){if($i&&!$i.destroyed&&!$i.injector.get(ug,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$i=a.get(lg);const u=a.get(Uv,null);u&&u.forEach(l=>l())}(At.create({providers:v,name:h}))}return function(a){const u=Ql();if(!u)throw new Error("No platform exists!");if(!u.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return u}(p)}}function Ql(){return $i&&!$i.destroyed?$i:null}let lg=(()=>{class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const v=function(a,u){let l;return l="noop"===a?new rg:("zone.js"===a?void 0:a)||new Ci({enableLongStackTrace:Zv(),shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),l}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),w=[{provide:Ci,useValue:v}];return v.run(()=>{const E=At.create({providers:w,parent:this.injector,name:l.moduleType.name}),T=l.create(E),A=T.injector.get(Vu,null);if(!A)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const R=v.onError.subscribe({next:F=>{A.handleError(F)}});T.onDestroy(()=>{Jl(this._modules,T),R.unsubscribe()})}),function(a,u,l){try{const h=l();return Wf(h)?h.catch(p=>{throw u.runOutsideAngular(()=>a.handleError(p)),p}):h}catch(h){throw u.runOutsideAngular(()=>a.handleError(h)),h}}(A,v,()=>{const R=T.injector.get(iu);return R.runInitializers(),R.donePromise.then(()=>(ks(T.injector.get(Zl,Fd)||Fd),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,h=[]){const p=XM({},h);return function(a,u,l){const h=new pv(l);return Promise.resolve(h)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(l){const h=l.injector.get(as);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${V(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(l){return new(l||a)(yn(At))},a.\u0275prov=bn({token:a,factory:a.\u0275fac}),a})();function XM(a,u){return Array.isArray(u)?u.reduce(XM,a):Object.assign(Object.assign({},a),u)}let as=(()=>{class a{constructor(l,h,p,g,y){this._zone=l,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new he.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new he.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ci.assertNotInAngularZone(),SD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Ci.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ae.T)(v,w.pipe(a=>(0,X.x)()(function(a,u){return function(h){let p;p="function"==typeof a?a:function(){return a};const g=Object.create(h,ue.N);return g.source=h,g.subjectFactory=p,g}}(L)(a))))}bootstrap(l,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=l instanceof vp?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(p.componentType);const g=function(a){return a.isBoundToModule}(p)?void 0:this._injector.get(ji),v=p.create(At.NULL,[],h||p.selector,g),w=v.location.nativeElement,E=v.injector.get(ID,null),T=E&&v.injector.get(MD);return E&&T&&T.registerApplication(w,E),v.onDestroy(()=>{this.detachView(v.hostView),Jl(this.components,v),T&&T.unregisterApplication(w)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Jl(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(wD,[]).concat(this._bootstrapListeners).forEach(p=>p(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(l){return new(l||a)(yn(Ci),yn(At),yn(Vu),yn(qa),yn(iu))},a.\u0275prov=bn({token:a,factory:a.\u0275fac}),a})();function Jl(a,u){const l=a.indexOf(u);l>-1&&a.splice(l,1)}class Sx{}class LD{}const VD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let UD=(()=>{class a{constructor(l,h){this._compiler=l,this._config=h||VD}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[h,p]=l.split("#");return void 0===p&&(p="default"),P(8255)(h).then(g=>g[p]).then(g=>BD(g,h,p)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(l){let[h,p]=l.split("#"),g="NgFactory";return void 0===p&&(p="default",g=""),P(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(y=>y[p+g]).then(y=>BD(y,h,p))}}return a.\u0275fac=function(l){return new(l||a)(yn(dh),yn(LD,8))},a.\u0275prov=bn({token:a,factory:a.\u0275fac}),a})();function BD(a,u,l){if(!a)throw new Error(`Cannot find '${l}' in '${u}'`);return a}const iR=function(a){return null},$D=Kv(null,"core",[{provide:Bv,useValue:"unknown"},{provide:lg,deps:[At]},{provide:MD,deps:[]},{provide:jv,deps:[]}]),lR=[{provide:as,useClass:as,deps:[Ci,At,Vu,qa,iu]},{provide:Lp,deps:[Ci],useFactory:function(a){let u=[];return a.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(l){u.push(l)}}},{provide:iu,useClass:iu,deps:[[new oo,Xp]]},{provide:dh,useClass:dh,deps:[]},bD,{provide:Gd,useFactory:function(){return j_},deps:[]},{provide:Cp,useFactory:function(){return lE},deps:[]},{provide:Zl,useFactory:function(a){return ks(a=a||"undefined"!=typeof $localize&&$localize.locale||Fd),a},deps:[[new Pu(Zl),new oo,new ys]]},{provide:Hv,useValue:"USD"}];let WD=(()=>{class a{constructor(l){}}return a.\u0275fac=function(l){return new(l||a)(yn(as))},a.\u0275mod=Fh({type:a}),a.\u0275inj=ls({providers:lR}),a})()},57:(Fe,ge,P)=>{"use strict";P.d(ge,{hO:()=>ni,xv:()=>ce,Dh:()=>le,HU:()=>U,GT:()=>pe,sI:()=>zt,on:()=>ht,ss:()=>H,pX:()=>K,yq:()=>fn});var d=P(7771),J=P(3637),he=P(3342),ae=P(9673),ue=P(9746),ne=P(3018),$=P(2329);function X(){}Fe=P.hmd(Fe);class L{constructor(ie,Y=d.N){this.zone=ie,this.delegate=Y}now(){return this.delegate.now()}schedule(ie,Y,Q){const be=this.zone;return this.delegate.schedule(function(Oe){be.runGuarded(()=>{ie.apply(this,[Oe])})},Y,Q)}}class x{constructor(ie){this.zone=ie,this.task=null}call(ie,Y){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",X,{},X,X)),Y.pipe((0,he.b)({next:Q,complete:Q,error:Q})).subscribe(ie).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class U{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new L(Zone.current)),this.insideAngular=ie.run(()=>new L(Zone.current,J.z))}}function H(W){return function(Y){return(Y=Y.lift(new x(W.ngZone))).pipe((0,ae.R)(W.outsideAngular),(0,ue.QV)(W.insideAngular))}}const V=["ngOnDestroy"],K=(W,ie,Y,Q={})=>new Proxy(W,{get:(be,ee)=>Y.runOutsideAngular(()=>{var Oe;if(W[ee])return(null===(Oe=null==Q?void 0:Q.spy)||void 0===Oe?void 0:Oe.get)&&Q.spy.get(ee,W[ee]),W[ee];if(V.indexOf(ee)>-1)return()=>{};const Ke=ie.toPromise().then(en=>{const Le=en&&en[ee];return"function"==typeof Le?Le.bind(en):Le&&Le.then?Le.then(tn=>Y.run(()=>tn)):Y.run(()=>Le)});return new Proxy(()=>{},{get:(en,Le)=>Ke[Le],apply:(en,Le,tn)=>Ke.then(Ze=>{var Me;const st=Ze&&Ze(...tn);return(null===(Me=null==Q?void 0:Q.spy)||void 0===Me?void 0:Me.apply)&&Q.spy.apply(ee,tn,st),st})})})}),pe=(W,ie)=>{ie.forEach(Y=>{Object.getOwnPropertyNames(Y.prototype||Y).forEach(Q=>{Object.defineProperty(W.prototype,Q,Object.getOwnPropertyDescriptor(Y.prototype||Y,Q))})})},le=new ne.OlP("angularfire2.app.options"),ce=new ne.OlP("angularfire2.app.nameOrConfig"),ke=new ne.GfV("6.1.5");function ht(W,ie,Y){const be="object"==typeof Y&&Y||{};be.name=be.name||"string"==typeof Y&&Y||"[DEFAULT]";const Oe=$.Z.apps.filter(Ke=>Ke&&Ke.name===be.name)[0]||ie.runOutsideAngular(()=>$.Z.initializeApp(W,be));try{JSON.stringify(W)!==JSON.stringify(Oe.options)&&lt("error",`${Oe.name} Firebase App already initialized with different options${Fe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return Oe}const fn=()=>{lt("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},lt=(W,...ie)=>{(0,ne.X6Q)()&&"undefined"!=typeof console&&console[W](...ie)};function zt(W,ie,Y,Q,be){const[ee,...Oe]=globalThis.\u0275AngularfireInstanceCache.get(W)||[];if(ee){try{be.some((Ke,en)=>{const Le=Oe[en];return Ke&&"object"==typeof Ke?JSON.stringify(Ke)!==JSON.stringify(Le):Ke!==Le})&&lt("error",`${ie} was already initialized on the ${Y.name} Firebase App instance with different settings.${Fe.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ke){}return ee}{const Ke=Q();return globalThis.\u0275AngularfireInstanceCache.set(W,[Ke,...be]),Ke}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Bt={provide:class{},useFactory:ht,deps:[le,ne.R0b,[new ne.FiY,ce]]};let ni=(()=>{class W{constructor(Y){$.Z.registerVersion("angularfire",ke.full,Y.toString()),$.Z.registerVersion("angular",ne.q4F.full)}static initializeApp(Y,Q){return{ngModule:W,providers:[{provide:le,useValue:Y},{provide:ce,useValue:Q}]}}}return W.\u0275fac=function(Y){return new(Y||W)(ne.LFG(ne.Lbi))},W.\u0275mod=ne.oAB({type:W}),W.\u0275inj=ne.cJS({providers:[Bt]}),W})()},9759:(Fe,ge,P)=>{"use strict";P.d(ge,{Z:()=>tn});var ue,lt,d=P(4762),J=P(4685),he=P(6034),ae=P(300),ne=((ue={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ue["bad-app-name"]="Illegal App name: '{$appName}",ue["duplicate-app"]="Firebase App named '{$appName}' already exists",ue["app-deleted"]="Firebase App named '{$appName}' already deleted",ue["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ue["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ue),$=new J.LL("app","Firebase",ne),X="@firebase/app",Re="[DEFAULT]",zt=((lt={})[X]="fire-core",lt["@firebase/analytics"]="fire-analytics",lt["@firebase/app-check"]="fire-app-check",lt["@firebase/auth"]="fire-auth",lt["@firebase/database"]="fire-rtdb",lt["@firebase/functions"]="fire-fn",lt["@firebase/installations"]="fire-iid",lt["@firebase/messaging"]="fire-fcm",lt["@firebase/performance"]="fire-perf",lt["@firebase/remote-config"]="fire-rc",lt["@firebase/storage"]="fire-gcs",lt["@firebase/firestore"]="fire-fst",lt["fire-js"]="fire-js",lt["firebase-wrapper"]="fire-js-all",lt),Bt=new ae.Yd("@firebase/app"),ni=function(){function Ze(Me,st,Vt){var Ot=this;this.firebase_=Vt,this.isDeleted_=!1,this.name_=st.name,this.automaticDataCollectionEnabled_=st.automaticDataCollectionEnabled||!1,this.options_=(0,J.p$)(Me),this.container=new he.H0(st.name),this._addComponent(new he.wA("app",function(){return Ot},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(gt){return Ot._addComponent(gt)})}return Object.defineProperty(Ze.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Me){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Me},enumerable:!1,configurable:!0}),Object.defineProperty(Ze.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ze.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ze.prototype.delete=function(){var Me=this;return new Promise(function(st){Me.checkDestroyed_(),st()}).then(function(){return Me.firebase_.INTERNAL.removeApp(Me.name_),Promise.all(Me.container.getProviders().map(function(st){return st.delete()}))}).then(function(){Me.isDeleted_=!0})},Ze.prototype._getService=function(Me,st){var Vt;void 0===st&&(st=Re),this.checkDestroyed_();var Ot=this.container.getProvider(Me);return!Ot.isInitialized()&&"EXPLICIT"===(null===(Vt=Ot.getComponent())||void 0===Vt?void 0:Vt.instantiationMode)&&Ot.initialize(),Ot.getImmediate({identifier:st})},Ze.prototype._removeServiceInstance=function(Me,st){void 0===st&&(st=Re),this.container.getProvider(Me).clearInstance(st)},Ze.prototype._addComponent=function(Me){try{this.container.addComponent(Me)}catch(st){Bt.debug("Component "+Me.name+" failed to register with FirebaseApp "+this.name,st)}},Ze.prototype._addOrOverwriteComponent=function(Me){this.container.addOrOverwriteComponent(Me)},Ze.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ze.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw $.create("app-deleted",{appName:this.name_})},Ze}();ni.prototype.name&&ni.prototype.options||ni.prototype.delete||console.log("dc");var Q=function Y(){var Ze=function(Ze){var Me={},st=new Map,Vt={__esModule:!0,initializeApp:function(ct,Et){void 0===Et&&(Et={}),("object"!=typeof Et||null===Et)&&(Et={name:Et});var or=Et;void 0===or.name&&(or.name=Re);var wn=or.name;if("string"!=typeof wn||!wn)throw $.create("bad-app-name",{appName:String(wn)});if((0,J.r3)(Me,wn))throw $.create("duplicate-app",{appName:wn});var jt=new Ze(ct,or,Vt);return Me[wn]=jt,jt},app:gt,registerVersion:function(ct,Et,ri){var or,wn=null!==(or=zt[ct])&&void 0!==or?or:ct;ri&&(wn+="-"+ri);var jt=wn.match(/\s|\//),Mn=Et.match(/\s|\//);if(jt||Mn){var sr=['Unable to register library "'+wn+'" with version "'+Et+'":'];return jt&&sr.push('library name "'+wn+'" contains illegal characters (whitespace or "/")'),jt&&Mn&&sr.push("and"),Mn&&sr.push('version name "'+Et+'" contains illegal characters (whitespace or "/")'),void Bt.warn(sr.join(" "))}Pg(new he.wA(wn+"-version",function(){return{library:wn,version:Et}},"VERSION"))},setLogLevel:ae.Ub,onLog:function(ct,Et){if(null!==ct&&"function"!=typeof ct)throw $.create("invalid-log-argument");(0,ae.Am)(ct,Et)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Pg,removeApp:function(ct){delete Me[ct]},components:st,useAsService:function(ct,Et){return"serverAuth"===Et?null:Et}}};function gt(ct){if(!(0,J.r3)(Me,ct=ct||Re))throw $.create("no-app",{appName:ct});return Me[ct]}function Pg(ct){var Et=ct.name;if(st.has(Et))return Bt.debug("There were multiple attempts to register component "+Et+"."),"PUBLIC"===ct.type?Vt[Et]:null;if(st.set(Et,ct),"PUBLIC"===ct.type){var ri=function(Mn){if(void 0===Mn&&(Mn=gt()),"function"!=typeof Mn[Et])throw $.create("invalid-app-argument",{appName:Et});return Mn[Et]()};void 0!==ct.serviceProps&&(0,J.ZB)(ri,ct.serviceProps),Vt[Et]=ri,Ze.prototype[Et]=function(){for(var Mn=[],sr=0;sr<arguments.length;sr++)Mn[sr]=arguments[sr];return this._getService.bind(this,Et).apply(this,ct.multipleInstances?Mn:[])}}for(var or=0,wn=Object.keys(Me);or<wn.length;or++)Me[wn[or]]._addComponent(ct);return"PUBLIC"===ct.type?Vt[Et]:null}return Vt.default=Vt,Object.defineProperty(Vt,"apps",{get:function(){return Object.keys(Me).map(function(ct){return Me[ct]})}}),gt.App=Ze,Vt}(ni);return Ze.INTERNAL=(0,d.pi)((0,d.pi)({},Ze.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(st){(0,J.ZB)(Ze,st)},createSubscribe:J.ne,ErrorFactory:J.LL,deepExtend:J.ZB}),Ze}(),be=function(){function Ze(Me){this.container=Me}return Ze.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(st){if(function(Ze){var Me=Ze.getComponent();return"VERSION"===(null==Me?void 0:Me.type)}(st)){var Vt=st.getImmediate();return Vt.library+"/"+Vt.version}return null}).filter(function(st){return st}).join(" ")},Ze}();if((0,J.jU)()&&void 0!==self.firebase){Bt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ke=self.firebase.SDK_VERSION;Ke&&Ke.indexOf("LITE")>=0&&Bt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var en=Q.initializeApp;Q.initializeApp=function(){for(var Ze=[],Me=0;Me<arguments.length;Me++)Ze[Me]=arguments[Me];return(0,J.UG)()&&Bt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),en.apply(void 0,Ze)};var Ze,Le=Q;(Ze=Le).INTERNAL.registerComponent(new he.wA("platform-logger",function(st){return new be(st)},"PRIVATE")),Ze.registerVersion(X,"0.6.30",undefined),Ze.registerVersion("fire-js","");const tn=Le},6034:(Fe,ge,P)=>{"use strict";P.d(ge,{wA:()=>he,H0:()=>X});var d=P(4762),J=P(4685),he=function(){function L(x,U,H){this.name=x,this.instanceFactory=U,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return L.prototype.setInstantiationMode=function(x){return this.instantiationMode=x,this},L.prototype.setMultipleInstances=function(x){return this.multipleInstances=x,this},L.prototype.setServiceProps=function(x){return this.serviceProps=x,this},L.prototype.setInstanceCreatedCallback=function(x){return this.onInstanceCreated=x,this},L}(),ae="[DEFAULT]",ue=function(){function L(x,U){this.name=x,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return L.prototype.get=function(x){var U=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(U)){var H=new J.BH;if(this.instancesDeferred.set(U,H),this.isInitialized(U)||this.shouldAutoInitialize())try{var V=this.getOrInitializeService({instanceIdentifier:U});V&&H.resolve(V)}catch(K){}}return this.instancesDeferred.get(U).promise},L.prototype.getImmediate=function(x){var U,H=this.normalizeInstanceIdentifier(null==x?void 0:x.identifier),V=null!==(U=null==x?void 0:x.optional)&&void 0!==U&&U;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(V)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(K){if(V)return null;throw K}},L.prototype.getComponent=function(){return this.component},L.prototype.setComponent=function(x){var U,H;if(x.name!==this.name)throw Error("Mismatching Component "+x.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=x,this.shouldAutoInitialize()){if(function(L){return"EAGER"===L.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(ht){}try{for(var V=(0,d.XA)(this.instancesDeferred.entries()),K=V.next();!K.done;K=V.next()){var pe=(0,d.CR)(K.value,2),ce=pe[1],Ge=this.normalizeInstanceIdentifier(pe[0]);try{var ke=this.getOrInitializeService({instanceIdentifier:Ge});ce.resolve(ke)}catch(ht){}}}catch(ht){U={error:ht}}finally{try{K&&!K.done&&(H=V.return)&&H.call(V)}finally{if(U)throw U.error}}}},L.prototype.clearInstance=function(x){void 0===x&&(x=ae),this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)},L.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var x;return(0,d.Jh)(this,function(U){switch(U.label){case 0:return x=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(x.filter(function(H){return"INTERNAL"in H}).map(function(H){return H.INTERNAL.delete()}))),(0,d.CR)(x.filter(function(H){return"_delete"in H}).map(function(H){return H._delete()}))))];case 1:return U.sent(),[2]}})})},L.prototype.isComponentSet=function(){return null!=this.component},L.prototype.isInitialized=function(x){return void 0===x&&(x=ae),this.instances.has(x)},L.prototype.getOptions=function(x){return void 0===x&&(x=ae),this.instancesOptions.get(x)||{}},L.prototype.initialize=function(x){var U,H;void 0===x&&(x={});var V=x.options,K=void 0===V?{}:V,pe=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(pe))throw Error(this.name+"("+pe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var le=this.getOrInitializeService({instanceIdentifier:pe,options:K});try{for(var ce=(0,d.XA)(this.instancesDeferred.entries()),Ge=ce.next();!Ge.done;Ge=ce.next()){var ke=(0,d.CR)(Ge.value,2),fn=ke[1];pe===this.normalizeInstanceIdentifier(ke[0])&&fn.resolve(le)}}catch(Re){U={error:Re}}finally{try{Ge&&!Ge.done&&(H=ce.return)&&H.call(ce)}finally{if(U)throw U.error}}return le},L.prototype.onInit=function(x,U){var H,V=this.normalizeInstanceIdentifier(U),K=null!==(H=this.onInitCallbacks.get(V))&&void 0!==H?H:new Set;K.add(x),this.onInitCallbacks.set(V,K);var pe=this.instances.get(V);return pe&&x(pe,V),function(){K.delete(x)}},L.prototype.invokeOnInitCallbacks=function(x,U){var H,V,K=this.onInitCallbacks.get(U);if(K)try{for(var pe=(0,d.XA)(K),le=pe.next();!le.done;le=pe.next()){var ce=le.value;try{ce(x,U)}catch(Ge){}}}catch(Ge){H={error:Ge}}finally{try{le&&!le.done&&(V=pe.return)&&V.call(pe)}finally{if(H)throw H.error}}},L.prototype.getOrInitializeService=function(x){var U=x.instanceIdentifier,H=x.options,V=void 0===H?{}:H,K=this.instances.get(U);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:ne(U),options:V}),this.instances.set(U,K),this.instancesOptions.set(U,V),this.invokeOnInitCallbacks(K,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,K)}catch(pe){}return K||null},L.prototype.normalizeInstanceIdentifier=function(x){return void 0===x&&(x=ae),this.component?this.component.multipleInstances?x:ae:x},L.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},L}();function ne(L){return L===ae?void 0:L}var X=function(){function L(x){this.name=x,this.providers=new Map}return L.prototype.addComponent=function(x){var U=this.getProvider(x.name);if(U.isComponentSet())throw new Error("Component "+x.name+" has already been registered with "+this.name);U.setComponent(x)},L.prototype.addOrOverwriteComponent=function(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)},L.prototype.getProvider=function(x){if(this.providers.has(x))return this.providers.get(x);var U=new ue(x,this);return this.providers.set(x,U),U},L.prototype.getProviders=function(){return Array.from(this.providers.values())},L}()},300:(Fe,ge,P)=>{"use strict";function d(){for(var H=0,V=0,K=arguments.length;V<K;V++)H+=arguments[V].length;var pe=Array(H),le=0;for(V=0;V<K;V++)for(var ce=arguments[V],Ge=0,ke=ce.length;Ge<ke;Ge++,le++)pe[le]=ce[Ge];return pe}P.d(ge,{in:()=>ae,Yd:()=>L,Ub:()=>x,Am:()=>U});var J,he=[],ae=(()=>{return(H=ae||(ae={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",ae;var H})(),ue={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ne=ae.INFO,$=((J={})[ae.DEBUG]="log",J[ae.VERBOSE]="log",J[ae.INFO]="info",J[ae.WARN]="warn",J[ae.ERROR]="error",J),X=function(H,V){for(var K=[],pe=2;pe<arguments.length;pe++)K[pe-2]=arguments[pe];if(!(V<H.logLevel)){var le=(new Date).toISOString(),ce=$[V];if(!ce)throw new Error("Attempted to log a message with an invalid logType (value: "+V+")");console[ce].apply(console,d(["["+le+"]  "+H.name+":"],K))}},L=function(){function H(V){this.name=V,this._logLevel=ne,this._logHandler=X,this._userLogHandler=null,he.push(this)}return Object.defineProperty(H.prototype,"logLevel",{get:function(){return this._logLevel},set:function(V){if(!(V in ae))throw new TypeError('Invalid value "'+V+'" assigned to `logLevel`');this._logLevel=V},enumerable:!1,configurable:!0}),H.prototype.setLogLevel=function(V){this._logLevel="string"==typeof V?ue[V]:V},Object.defineProperty(H.prototype,"logHandler",{get:function(){return this._logHandler},set:function(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(V){this._userLogHandler=V},enumerable:!1,configurable:!0}),H.prototype.debug=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ae.DEBUG],V)),this._logHandler.apply(this,d([this,ae.DEBUG],V))},H.prototype.log=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ae.VERBOSE],V)),this._logHandler.apply(this,d([this,ae.VERBOSE],V))},H.prototype.info=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ae.INFO],V)),this._logHandler.apply(this,d([this,ae.INFO],V))},H.prototype.warn=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ae.WARN],V)),this._logHandler.apply(this,d([this,ae.WARN],V))},H.prototype.error=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ae.ERROR],V)),this._logHandler.apply(this,d([this,ae.ERROR],V))},H}();function x(H){he.forEach(function(V){V.setLogLevel(H)})}function U(H,V){for(var K=function(Ge){var ke=null;V&&V.level&&(ke=ue[V.level]),Ge.userLogHandler=null===H?null:function(ht,fn){for(var lt=[],Re=2;Re<arguments.length;Re++)lt[Re-2]=arguments[Re];var zt=lt.map(function(Bt){if(null==Bt)return null;if("string"==typeof Bt)return Bt;if("number"==typeof Bt||"boolean"==typeof Bt)return Bt.toString();if(Bt instanceof Error)return Bt.message;try{return JSON.stringify(Bt)}catch(ni){return null}}).filter(function(Bt){return Bt}).join(" ");fn>=(null!=ke?ke:ht.logLevel)&&H({level:ae[fn].toLowerCase(),message:zt,args:lt,type:ht.name})}},pe=0,le=he;pe<le.length;pe++)K(le[pe])}},4685:(Fe,ge,P)=>{"use strict";P.d(ge,{BH:()=>K,LL:()=>Oe,ZR:()=>ee,r3:()=>gt,Sg:()=>pe,ne:()=>or,p$:()=>U,ZB:()=>H,m9:()=>rn,z$:()=>le,jU:()=>ke,ru:()=>ht,d:()=>lt,w1:()=>Re,uI:()=>ce,UG:()=>Ge,b$:()=>fn,G6:()=>ni,Mn:()=>zt});var d=P(4762),ue=function(B){for(var k=[],Z=0,se=0;se<B.length;se++){var q=B.charCodeAt(se);q<128?k[Z++]=q:q<2048?(k[Z++]=q>>6|192,k[Z++]=63&q|128):55296==(64512&q)&&se+1<B.length&&56320==(64512&B.charCodeAt(se+1))?(q=65536+((1023&q)<<10)+(1023&B.charCodeAt(++se)),k[Z++]=q>>18|240,k[Z++]=q>>12&63|128,k[Z++]=q>>6&63|128,k[Z++]=63&q|128):(k[Z++]=q>>12|224,k[Z++]=q>>6&63|128,k[Z++]=63&q|128)}return k},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(B,k){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Z=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[],q=0;q<B.length;q+=3){var _e=B[q],$e=q+1<B.length,Dt=$e?B[q+1]:0,St=q+2<B.length,Tt=St?B[q+2]:0,Kn=(15&Dt)<<2|Tt>>6,pu=63&Tt;St||(pu=64,$e||(Kn=64)),se.push(Z[_e>>2],Z[(3&_e)<<4|Dt>>4],Z[Kn],Z[pu])}return se.join("")},encodeString:function(B,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(B):this.encodeByteArray(ue(B),k)},decodeString:function(B,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(B):function(B){for(var k=[],Z=0,se=0;Z<B.length;){var q=B[Z++];if(q<128)k[se++]=String.fromCharCode(q);else if(q>191&&q<224){var _e=B[Z++];k[se++]=String.fromCharCode((31&q)<<6|63&_e)}else if(q>239&&q<365){var St=((7&q)<<18|(63&(_e=B[Z++]))<<12|(63&($e=B[Z++]))<<6|63&B[Z++])-65536;k[se++]=String.fromCharCode(55296+(St>>10)),k[se++]=String.fromCharCode(56320+(1023&St))}else{_e=B[Z++];var $e=B[Z++];k[se++]=String.fromCharCode((15&q)<<12|(63&_e)<<6|63&$e)}}return k.join("")}(this.decodeStringToByteArray(B,k))},decodeStringToByteArray:function(B,k){this.init_();for(var Z=k?this.charToByteMapWebSafe_:this.charToByteMap_,se=[],q=0;q<B.length;){var _e=Z[B.charAt(q++)],Dt=q<B.length?Z[B.charAt(q)]:0,Tt=++q<B.length?Z[B.charAt(q)]:64,gn=++q<B.length?Z[B.charAt(q)]:64;if(++q,null==_e||null==Dt||null==Tt||null==gn)throw Error();se.push(_e<<2|Dt>>4),64!==Tt&&(se.push(Dt<<4&240|Tt>>2),64!==gn&&se.push(Tt<<6&192|gn))}return se},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},L=function(B){return function(B){var k=ue(B);return $.encodeByteArray(k,!0)}(B).replace(/\./g,"")};function U(B){return H(void 0,B)}function H(B,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return k}for(var se in k)!k.hasOwnProperty(se)||!V(se)||(B[se]=H(B[se],k[se]));return B}function V(B){return"__proto__"!==B}var K=function(){function B(){var k=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Z,se){k.resolve=Z,k.reject=se})}return B.prototype.wrapCallback=function(k){var Z=this;return function(se,q){se?Z.reject(se):Z.resolve(q),"function"==typeof k&&(Z.promise.catch(function(){}),1===k.length?k(se):k(se,q))}},B}();function pe(B,k){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var se=k||"demo-project",q=B.iat||0,_e=B.sub||B.user_id;if(!_e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var $e=(0,d.pi)({iss:"https://securetoken.google.com/"+se,aud:se,iat:q,exp:q+3600,auth_time:q,sub:_e,user_id:_e,firebase:{sign_in_provider:"custom",identities:{}}},B);return[L(JSON.stringify({alg:"none",type:"JWT"})),L(JSON.stringify($e)),""].join(".")}function le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(le())}function Ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function ke(){return"object"==typeof self&&self.self===self}function ht(){var B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function fn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){return le().indexOf("Electron/")>=0}function Re(){var B=le();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function zt(){return le().indexOf("MSAppHost/")>=0}function ni(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var ee=function(B){function k(Z,se,q){var _e=B.call(this,se)||this;return _e.code=Z,_e.customData=q,_e.name="FirebaseError",Object.setPrototypeOf(_e,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(_e,Oe.prototype.create),_e}return(0,d.ZT)(k,B),k}(Error),Oe=function(){function B(k,Z,se){this.service=k,this.serviceName=Z,this.errors=se}return B.prototype.create=function(k){for(var Z=[],se=1;se<arguments.length;se++)Z[se-1]=arguments[se];var q=Z[0]||{},_e=this.service+"/"+k,$e=this.errors[k],Dt=$e?Ke($e,q):"Error",St=this.serviceName+": "+Dt+" ("+_e+").",Tt=new ee(_e,St,q);return Tt},B}();function Ke(B,k){return B.replace(en,function(Z,se){var q=k[se];return null!=q?String(q):"<"+se+"?>"})}var en=/\{\$([^}]+)}/g;function gt(B,k){return Object.prototype.hasOwnProperty.call(B,k)}function or(B,k){var Z=new wn(B,k);return Z.subscribe.bind(Z)}!function(){function B(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var k=1;k<this.blockSize;++k)this.pad_[k]=0;this.reset()}B.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},B.prototype.compress_=function(k,Z){Z||(Z=0);var se=this.W_;if("string"==typeof k)for(var q=0;q<16;q++)se[q]=k.charCodeAt(Z)<<24|k.charCodeAt(Z+1)<<16|k.charCodeAt(Z+2)<<8|k.charCodeAt(Z+3),Z+=4;else for(q=0;q<16;q++)se[q]=k[Z]<<24|k[Z+1]<<16|k[Z+2]<<8|k[Z+3],Z+=4;for(q=16;q<80;q++)se[q]=4294967295&((_e=se[q-3]^se[q-8]^se[q-14]^se[q-16])<<1|_e>>>31);var gn,Kn,$e=this.chain_[0],Dt=this.chain_[1],St=this.chain_[2],Tt=this.chain_[3],ar=this.chain_[4];for(q=0;q<80;q++){q<40?q<20?(gn=Tt^Dt&(St^Tt),Kn=1518500249):(gn=Dt^St^Tt,Kn=1859775393):q<60?(gn=Dt&St|Tt&(Dt|St),Kn=2400959708):(gn=Dt^St^Tt,Kn=3395469782);var _e=($e<<5|$e>>>27)+gn+ar+Kn+se[q]&4294967295;ar=Tt,Tt=St,St=4294967295&(Dt<<30|Dt>>>2),Dt=$e,$e=_e}this.chain_[0]=this.chain_[0]+$e&4294967295,this.chain_[1]=this.chain_[1]+Dt&4294967295,this.chain_[2]=this.chain_[2]+St&4294967295,this.chain_[3]=this.chain_[3]+Tt&4294967295,this.chain_[4]=this.chain_[4]+ar&4294967295},B.prototype.update=function(k,Z){if(null!=k){void 0===Z&&(Z=k.length);for(var se=Z-this.blockSize,q=0,_e=this.buf_,$e=this.inbuf_;q<Z;){if(0===$e)for(;q<=se;)this.compress_(k,q),q+=this.blockSize;if("string"==typeof k){for(;q<Z;)if(_e[$e]=k.charCodeAt(q),++q,++$e===this.blockSize){this.compress_(_e),$e=0;break}}else for(;q<Z;)if(_e[$e]=k[q],++q,++$e===this.blockSize){this.compress_(_e),$e=0;break}}this.inbuf_=$e,this.total_+=Z}},B.prototype.digest=function(){var k=[],Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&Z,Z/=256;this.compress_(this.buf_);var q=0;for(se=0;se<5;se++)for(var _e=24;_e>=0;_e-=8)k[q]=this.chain_[se]>>_e&255,++q;return k}}();var wn=function(){function B(k,Z){var se=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(function(){k(se)}).catch(function(q){se.error(q)})}return B.prototype.next=function(k){this.forEachObserver(function(Z){Z.next(k)})},B.prototype.error=function(k){this.forEachObserver(function(Z){Z.error(k)}),this.close(k)},B.prototype.complete=function(){this.forEachObserver(function(k){k.complete()}),this.close()},B.prototype.subscribe=function(k,Z,se){var _e,q=this;if(void 0===k&&void 0===Z&&void 0===se)throw new Error("Missing Observer.");void 0===(_e=function(B,k){if("object"!=typeof B||null===B)return!1;for(var Z=0,se=["next","error","complete"];Z<se.length;Z++){var q=se[Z];if(q in B&&"function"==typeof B[q])return!0}return!1}(k)?k:{next:k,error:Z,complete:se}).next&&(_e.next=sr),void 0===_e.error&&(_e.error=sr),void 0===_e.complete&&(_e.complete=sr);var $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{q.finalError?_e.error(q.finalError):_e.complete()}catch(Dt){}}),this.observers.push(_e),$e},B.prototype.unsubscribeOne=function(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},B.prototype.forEachObserver=function(k){if(!this.finalized)for(var Z=0;Z<this.observers.length;Z++)this.sendOne(Z,k)},B.prototype.sendOne=function(k,Z){var se=this;this.task.then(function(){if(void 0!==se.observers&&void 0!==se.observers[k])try{Z(se.observers[k])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})},B.prototype.close=function(k){var Z=this;this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(function(){Z.observers=void 0,Z.onNoObservers=void 0}))},B}();function sr(){}function rn(B){return B&&B._delegate?B._delegate:B}},2329:(Fe,ge,P)=>{"use strict";P.d(ge,{Z:()=>d.Z});var d=P(9759);d.Z.registerVersion("firebase","8.10.0","app"),d.Z.SDK_VERSION="8.10.0"},1593:(Fe,ge,P)=>{"use strict";P.d(ge,{P:()=>$});var d=P(9193),J=P(5917),he=P(7574);class ${constructor(L,x,U){this.kind=L,this.value=x,this.error=U,this.hasValue="N"===L}observe(L){switch(this.kind){case"N":return L.next&&L.next(this.value);case"E":return L.error&&L.error(this.error);case"C":return L.complete&&L.complete()}}do(L,x,U){switch(this.kind){case"N":return L&&L(this.value);case"E":return x&&x(this.error);case"C":return U&&U()}}accept(L,x,U){return L&&"function"==typeof L.next?this.observe(L):this.do(L,x,U)}toObservable(){switch(this.kind){case"N":return(0,J.of)(this.value);case"E":return X=this.error,new he.y(x=>x.error(X));case"C":return(0,d.c)()}var X;throw new Error("unexpected notification kind value")}static createNext(L){return void 0!==L?new $("N",L):$.undefinedValueNotification}static createError(L){return new $("E",void 0,L)}static createComplete(){return $.completeNotification}}$.completeNotification=new $("C"),$.undefinedValueNotification=new $("N",void 0)},7574:(Fe,ge,P)=>{"use strict";P.d(ge,{y:()=>U});var d=P(7393),he=P(9181),ae=P(6490),ne=P(6554),$=P(4487);var x=P(2494);let U=(()=>{class V{constructor(pe){this._isScalar=!1,pe&&(this._subscribe=pe)}lift(pe){const le=new V;return le.source=this,le.operator=pe,le}subscribe(pe,le,ce){const{operator:Ge}=this,ke=function(V,K,pe){if(V){if(V instanceof d.L)return V;if(V[he.b])return V[he.b]()}return V||K||pe?new d.L(V,K,pe):new d.L(ae.c)}(pe,le,ce);if(ke.add(Ge?Ge.call(ke,this.source):this.source||x.v.useDeprecatedSynchronousErrorHandling&&!ke.syncErrorThrowable?this._subscribe(ke):this._trySubscribe(ke)),x.v.useDeprecatedSynchronousErrorHandling&&ke.syncErrorThrowable&&(ke.syncErrorThrowable=!1,ke.syncErrorThrown))throw ke.syncErrorValue;return ke}_trySubscribe(pe){try{return this._subscribe(pe)}catch(le){x.v.useDeprecatedSynchronousErrorHandling&&(pe.syncErrorThrown=!0,pe.syncErrorValue=le),function(V){for(;V;){const{closed:K,destination:pe,isStopped:le}=V;if(K||le)return!1;V=pe&&pe instanceof d.L?pe:null}return!0}(pe)?pe.error(le):console.warn(le)}}forEach(pe,le){return new(le=H(le))((ce,Ge)=>{let ke;ke=this.subscribe(ht=>{try{pe(ht)}catch(fn){Ge(fn),ke&&ke.unsubscribe()}},Ge,ce)})}_subscribe(pe){const{source:le}=this;return le&&le.subscribe(pe)}[ne.L](){return this}pipe(...pe){return 0===pe.length?this:function(V){return 0===V.length?$.y:1===V.length?V[0]:function(pe){return V.reduce((le,ce)=>ce(le),pe)}}(pe)(this)}toPromise(pe){return new(pe=H(pe))((le,ce)=>{let Ge;this.subscribe(ke=>Ge=ke,ke=>ce(ke),()=>le(Ge))})}}return V.create=K=>new V(K),V})();function H(V){if(V||(V=x.v.Promise||Promise),!V)throw new Error("no Promise impl found");return V}},6490:(Fe,ge,P)=>{"use strict";P.d(ge,{c:()=>he});var d=P(2494),J=P(4449);const he={closed:!0,next(ae){},error(ae){if(d.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,J.z)(ae)},complete(){}}},9765:(Fe,ge,P)=>{"use strict";P.d(ge,{Yc:()=>$,xQ:()=>X});var d=P(7574),J=P(7393),he=P(5319),ae=P(7971),ue=P(8858),ne=P(9181);class $ extends J.L{constructor(U){super(U),this.destination=U}}let X=(()=>{class x extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ne.b](){return new $(this)}lift(H){const V=new L(this,this);return V.operator=H,V}next(H){if(this.closed)throw new ae.N;if(!this.isStopped){const{observers:V}=this,K=V.length,pe=V.slice();for(let le=0;le<K;le++)pe[le].next(H)}}error(H){if(this.closed)throw new ae.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:V}=this,K=V.length,pe=V.slice();for(let le=0;le<K;le++)pe[le].error(H);this.observers.length=0}complete(){if(this.closed)throw new ae.N;this.isStopped=!0;const{observers:H}=this,V=H.length,K=H.slice();for(let pe=0;pe<V;pe++)K[pe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new ae.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new ae.N;return this.hasError?(H.error(this.thrownError),he.w.EMPTY):this.isStopped?(H.complete(),he.w.EMPTY):(this.observers.push(H),new ue.W(this,H))}asObservable(){const H=new d.y;return H.source=this,H}}return x.create=(U,H)=>new L(U,H),x})();class L extends X{constructor(U,H){super(),this.destination=U,this.source=H}next(U){const{destination:H}=this;H&&H.next&&H.next(U)}error(U){const{destination:H}=this;H&&H.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:H}=this;return H?this.source.subscribe(U):he.w.EMPTY}}},8858:(Fe,ge,P)=>{"use strict";P.d(ge,{W:()=>J});var d=P(5319);class J extends d.w{constructor(ae,ue){super(),this.subject=ae,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ae=this.subject,ue=ae.observers;if(this.subject=null,!ue||0===ue.length||ae.isStopped||ae.closed)return;const ne=ue.indexOf(this.subscriber);-1!==ne&&ue.splice(ne,1)}}},7393:(Fe,ge,P)=>{"use strict";P.d(ge,{L:()=>$});var d=P(9105),J=P(6490),he=P(5319),ae=P(9181),ue=P(2494),ne=P(4449);class $ extends he.w{constructor(x,U,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=J.c;break;case 1:if(!x){this.destination=J.c;break}if("object"==typeof x){x instanceof $?(this.syncErrorThrowable=x.syncErrorThrowable,this.destination=x,x.add(this)):(this.syncErrorThrowable=!0,this.destination=new X(this,x));break}default:this.syncErrorThrowable=!0,this.destination=new X(this,x,U,H)}}[ae.b](){return this}static create(x,U,H){const V=new $(x,U,H);return V.syncErrorThrowable=!1,V}next(x){this.isStopped||this._next(x)}error(x){this.isStopped||(this.isStopped=!0,this._error(x))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(x){this.destination.next(x)}_error(x){this.destination.error(x),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:x}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=x,this}}class X extends ${constructor(x,U,H,V){super(),this._parentSubscriber=x;let K,pe=this;(0,d.m)(U)?K=U:U&&(K=U.next,H=U.error,V=U.complete,U!==J.c&&(pe=Object.create(U),(0,d.m)(pe.unsubscribe)&&this.add(pe.unsubscribe.bind(pe)),pe.unsubscribe=this.unsubscribe.bind(this))),this._context=pe,this._next=K,this._error=H,this._complete=V}next(x){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;ue.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,x)&&this.unsubscribe():this.__tryOrUnsub(this._next,x)}}error(x){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:H}=ue.v;if(this._error)H&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,x),this.unsubscribe()):(this.__tryOrUnsub(this._error,x),this.unsubscribe());else if(U.syncErrorThrowable)H?(U.syncErrorValue=x,U.syncErrorThrown=!0):(0,ne.z)(x),this.unsubscribe();else{if(this.unsubscribe(),H)throw x;(0,ne.z)(x)}}}complete(){if(!this.isStopped){const{_parentSubscriber:x}=this;if(this._complete){const U=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&x.syncErrorThrowable?(this.__tryOrSetError(x,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(x,U){try{x.call(this._context,U)}catch(H){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw H;(0,ne.z)(H)}}__tryOrSetError(x,U,H){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,H)}catch(V){return ue.v.useDeprecatedSynchronousErrorHandling?(x.syncErrorValue=V,x.syncErrorThrown=!0,!0):((0,ne.z)(V),!0)}return!1}_unsubscribe(){const{_parentSubscriber:x}=this;this._context=null,this._parentSubscriber=null,x.unsubscribe()}}},5319:(Fe,ge,P)=>{"use strict";P.d(ge,{w:()=>ne});var d=P(9796),J=P(1555),he=P(9105);const ue=(()=>{function X(L){return Error.call(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((x,U)=>`${U+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L,this}return X.prototype=Object.create(Error.prototype),X})();class ne{constructor(L){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,L&&(this._ctorUnsubscribe=!0,this._unsubscribe=L)}unsubscribe(){let L;if(this.closed)return;let{_parentOrParents:x,_ctorUnsubscribe:U,_unsubscribe:H,_subscriptions:V}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,x instanceof ne)x.remove(this);else if(null!==x)for(let K=0;K<x.length;++K)x[K].remove(this);if((0,he.m)(H)){U&&(this._unsubscribe=void 0);try{H.call(this)}catch(K){L=K instanceof ue?$(K.errors):[K]}}if((0,d.k)(V)){let K=-1,pe=V.length;for(;++K<pe;){const le=V[K];if((0,J.K)(le))try{le.unsubscribe()}catch(ce){L=L||[],ce instanceof ue?L=L.concat($(ce.errors)):L.push(ce)}}}if(L)throw new ue(L)}add(L){let x=L;if(!L)return ne.EMPTY;switch(typeof L){case"function":x=new ne(L);case"object":if(x===this||x.closed||"function"!=typeof x.unsubscribe)return x;if(this.closed)return x.unsubscribe(),x;if(!(x instanceof ne)){const V=x;x=new ne,x._subscriptions=[V]}break;default:throw new Error("unrecognized teardown "+L+" added to Subscription.")}let{_parentOrParents:U}=x;if(null===U)x._parentOrParents=this;else if(U instanceof ne){if(U===this)return x;x._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return x;U.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[x]:H.push(x),x}remove(L){const x=this._subscriptions;if(x){const U=x.indexOf(L);-1!==U&&x.splice(U,1)}}}var X;function $(X){return X.reduce((L,x)=>L.concat(x instanceof ue?x.errors:x),[])}ne.EMPTY=((X=new ne).closed=!0,X)},2494:(Fe,ge,P)=>{"use strict";P.d(ge,{v:()=>J});let d=!1;const J={Promise:void 0,set useDeprecatedSynchronousErrorHandling(he){if(he){const ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ae.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=he},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(Fe,ge,P)=>{"use strict";P.d(ge,{IY:()=>ae,Ds:()=>ne,ft:()=>X});var d=P(7393),J=P(7574),he=P(7444);class ae extends d.L{constructor(x){super(),this.parent=x}_next(x){this.parent.notifyNext(x)}_error(x){this.parent.notifyError(x),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ne extends d.L{notifyNext(x){this.destination.next(x)}notifyError(x){this.destination.error(x)}notifyComplete(){this.destination.complete()}}function X(L,x){if(x.closed)return;if(L instanceof J.y)return L.subscribe(x);let U;try{U=(0,he.s)(L)(x)}catch(H){x.error(H)}return U}},2441:(Fe,ge,P)=>{"use strict";P.d(ge,{c:()=>ue,N:()=>ne});var d=P(9765),J=P(7574),he=P(5319),ae=P(1307);class ue extends J.y{constructor(U,H){super(),this.source=U,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new he.w,U.add(this.source.subscribe(new $(this.getSubject(),this))),U.closed&&(this._connection=null,U=he.w.EMPTY)),U}refCount(){return(0,ae.x)()(this)}}const ne=(()=>{const x=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:x._subscribe},_isComplete:{value:x._isComplete,writable:!0},getSubject:{value:x.getSubject},connect:{value:x.connect},refCount:{value:x.refCount}}})();class $ extends d.Yc{constructor(U,H){super(U),this.connectable=H}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const H=U._connection;U._refCount=0,U._subject=null,U._connection=null,H&&H.unsubscribe()}}}},9193:(Fe,ge,P)=>{"use strict";P.d(ge,{E:()=>J,c:()=>he});var d=P(7574);const J=new d.y(ue=>ue.complete());function he(ue){return ue?function(ue){return new d.y(ne=>ue.schedule(()=>ne.complete()))}(ue):J}},4402:(Fe,ge,P)=>{"use strict";P.d(ge,{D:()=>pe});var d=P(7574),J=P(7444),he=P(5319),ae=P(6554),$=P(4087),X=P(377),U=P(4072),H=P(9489);function pe(le,ce){return ce?function(le,ce){if(null!=le){if(function(le){return le&&"function"==typeof le[ae.L]}(le))return function(le,ce){return new d.y(Ge=>{const ke=new he.w;return ke.add(ce.schedule(()=>{const ht=le[ae.L]();ke.add(ht.subscribe({next(fn){ke.add(ce.schedule(()=>Ge.next(fn)))},error(fn){ke.add(ce.schedule(()=>Ge.error(fn)))},complete(){ke.add(ce.schedule(()=>Ge.complete()))}}))})),ke})}(le,ce);if((0,U.t)(le))return function(le,ce){return new d.y(Ge=>{const ke=new he.w;return ke.add(ce.schedule(()=>le.then(ht=>{ke.add(ce.schedule(()=>{Ge.next(ht),ke.add(ce.schedule(()=>Ge.complete()))}))},ht=>{ke.add(ce.schedule(()=>Ge.error(ht)))}))),ke})}(le,ce);if((0,H.z)(le))return(0,$.r)(le,ce);if(function(le){return le&&"function"==typeof le[X.hZ]}(le)||"string"==typeof le)return function(le,ce){if(!le)throw new Error("Iterable cannot be null");return new d.y(Ge=>{const ke=new he.w;let ht;return ke.add(()=>{ht&&"function"==typeof ht.return&&ht.return()}),ke.add(ce.schedule(()=>{ht=le[X.hZ](),ke.add(ce.schedule(function(){if(Ge.closed)return;let fn,lt;try{const Re=ht.next();fn=Re.value,lt=Re.done}catch(Re){return void Ge.error(Re)}lt?Ge.complete():(Ge.next(fn),this.schedule())}))})),ke})}(le,ce)}throw new TypeError((null!==le&&typeof le||le)+" is not observable")}(le,ce):le instanceof d.y?le:new d.y((0,J.s)(le))}},6693:(Fe,ge,P)=>{"use strict";P.d(ge,{n:()=>ae});var d=P(7574),J=P(5015),he=P(4087);function ae(ue,ne){return ne?(0,he.r)(ue,ne):new d.y((0,J.V)(ue))}},6682:(Fe,ge,P)=>{"use strict";P.d(ge,{T:()=>ue});var d=P(7574),J=P(4869),he=P(3282),ae=P(6693);function ue(...ne){let $=Number.POSITIVE_INFINITY,X=null,L=ne[ne.length-1];return(0,J.K)(L)?(X=ne.pop(),ne.length>1&&"number"==typeof ne[ne.length-1]&&($=ne.pop())):"number"==typeof L&&($=ne.pop()),null===X&&1===ne.length&&ne[0]instanceof d.y?ne[0]:(0,he.J)($)((0,ae.n)(ne,X))}},5917:(Fe,ge,P)=>{"use strict";P.d(ge,{of:()=>ae});var d=P(4869),J=P(6693),he=P(4087);function ae(...ue){let ne=ue[ue.length-1];return(0,d.K)(ne)?(ue.pop(),(0,he.r)(ue,ne)):(0,J.n)(ue)}},8002:(Fe,ge,P)=>{"use strict";P.d(ge,{U:()=>J});var d=P(7393);function J(ue,ne){return function(X){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return X.lift(new he(ue,ne))}}class he{constructor(ne,$){this.project=ne,this.thisArg=$}call(ne,$){return $.subscribe(new ae(ne,this.project,this.thisArg))}}class ae extends d.L{constructor(ne,$,X){super(ne),this.project=$,this.count=0,this.thisArg=X||this}_next(ne){let $;try{$=this.project.call(this.thisArg,ne,this.count++)}catch(X){return void this.destination.error(X)}this.destination.next($)}}},3282:(Fe,ge,P)=>{"use strict";P.d(ge,{J:()=>he});var d=P(9773),J=P(4487);function he(ae=Number.POSITIVE_INFINITY){return(0,d.zg)(J.y,ae)}},9773:(Fe,ge,P)=>{"use strict";P.d(ge,{zg:()=>ae});var d=P(8002),J=P(4402),he=P(5345);function ae(X,L,x=Number.POSITIVE_INFINITY){return"function"==typeof L?U=>U.pipe(ae((H,V)=>(0,J.D)(X(H,V)).pipe((0,d.U)((K,pe)=>L(H,K,V,pe))),x)):("number"==typeof L&&(x=L),U=>U.lift(new ue(X,x)))}class ue{constructor(L,x=Number.POSITIVE_INFINITY){this.project=L,this.concurrent=x}call(L,x){return x.subscribe(new ne(L,this.project,this.concurrent))}}class ne extends he.Ds{constructor(L,x,U=Number.POSITIVE_INFINITY){super(L),this.project=x,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(L){this.active<this.concurrent?this._tryNext(L):this.buffer.push(L)}_tryNext(L){let x;const U=this.index++;try{x=this.project(L,U)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(x)}_innerSub(L){const x=new he.IY(this),U=this.destination;U.add(x);const H=(0,he.ft)(L,x);H!==x&&U.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(L){this.destination.next(L)}notifyComplete(){const L=this.buffer;this.active--,L.length>0?this._next(L.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Fe,ge,P)=>{"use strict";P.d(ge,{QV:()=>he,ht:()=>ue});var d=P(7393),J=P(1593);function he($,X=0){return function(x){return x.lift(new ae($,X))}}class ae{constructor(X,L=0){this.scheduler=X,this.delay=L}call(X,L){return L.subscribe(new ue(X,this.scheduler,this.delay))}}class ue extends d.L{constructor(X,L,x=0){super(X),this.scheduler=L,this.delay=x}static dispatch(X){const{notification:L,destination:x}=X;L.observe(x),this.unsubscribe()}scheduleMessage(X){this.destination.add(this.scheduler.schedule(ue.dispatch,this.delay,new ne(X,this.destination)))}_next(X){this.scheduleMessage(J.P.createNext(X))}_error(X){this.scheduleMessage(J.P.createError(X)),this.unsubscribe()}_complete(){this.scheduleMessage(J.P.createComplete()),this.unsubscribe()}}class ne{constructor(X,L){this.notification=X,this.destination=L}}},1307:(Fe,ge,P)=>{"use strict";P.d(ge,{x:()=>J});var d=P(7393);function J(){return function(ne){return ne.lift(new he(ne))}}class he{constructor(ne){this.connectable=ne}call(ne,$){const{connectable:X}=this;X._refCount++;const L=new ae(ne,X),x=$.subscribe(L);return L.closed||(L.connection=X.connect()),x}}class ae extends d.L{constructor(ne,$){super(ne),this.connectable=$}_unsubscribe(){const{connectable:ne}=this;if(!ne)return void(this.connection=null);this.connectable=null;const $=ne._refCount;if($<=0)return void(this.connection=null);if(ne._refCount=$-1,$>1)return void(this.connection=null);const{connection:X}=this,L=ne._connection;this.connection=null,L&&(!X||L===X)&&L.unsubscribe()}}},9673:(Fe,ge,P)=>{"use strict";P.d(ge,{R:()=>ue});var d=P(7574),J=P(4581),he=P(6561);class ae extends d.y{constructor(X,L=0,x=J.e){super(),this.source=X,this.delayTime=L,this.scheduler=x,(!(0,he.k)(L)||L<0)&&(this.delayTime=0),(!x||"function"!=typeof x.schedule)&&(this.scheduler=J.e)}static create(X,L=0,x=J.e){return new ae(X,L,x)}static dispatch(X){const{source:L,subscriber:x}=X;return this.add(L.subscribe(x))}_subscribe(X){return this.scheduler.schedule(ae.dispatch,this.delayTime,{source:this.source,subscriber:X})}}function ue($,X=0){return function(x){return x.lift(new ne($,X))}}class ne{constructor(X,L){this.scheduler=X,this.delay=L}call(X,L){return new ae(L,this.delay,this.scheduler).subscribe(X)}}},3342:(Fe,ge,P)=>{"use strict";P.d(ge,{b:()=>ae});var d=P(7393);function J(){}var he=P(9105);function ae($,X,L){return function(U){return U.lift(new ue($,X,L))}}class ue{constructor(X,L,x){this.nextOrObserver=X,this.error=L,this.complete=x}call(X,L){return L.subscribe(new ne(X,this.nextOrObserver,this.error,this.complete))}}class ne extends d.L{constructor(X,L,x,U){super(X),this._tapNext=J,this._tapError=J,this._tapComplete=J,this._tapError=x||J,this._tapComplete=U||J,(0,he.m)(L)?(this._context=this,this._tapNext=L):L&&(this._context=L,this._tapNext=L.next||J,this._tapError=L.error||J,this._tapComplete=L.complete||J)}_next(X){try{this._tapNext.call(this._context,X)}catch(L){return void this.destination.error(L)}this.destination.next(X)}_error(X){try{this._tapError.call(this._context,X)}catch(L){return void this.destination.error(L)}this.destination.error(X)}_complete(){try{this._tapComplete.call(this._context)}catch(X){return void this.destination.error(X)}return this.destination.complete()}}},4087:(Fe,ge,P)=>{"use strict";P.d(ge,{r:()=>he});var d=P(7574),J=P(5319);function he(ae,ue){return new d.y(ne=>{const $=new J.w;let X=0;return $.add(ue.schedule(function(){X!==ae.length?(ne.next(ae[X++]),ne.closed||$.add(this.schedule())):ne.complete()})),$})}},6465:(Fe,ge,P)=>{"use strict";P.d(ge,{o:()=>he});var d=P(5319);class J extends d.w{constructor(ue,ne){super()}schedule(ue,ne=0){return this}}class he extends J{constructor(ue,ne){super(ue,ne),this.scheduler=ue,this.work=ne,this.pending=!1}schedule(ue,ne=0){if(this.closed)return this;this.state=ue;const $=this.id,X=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(X,$,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(X,this.id,ne),this}requestAsyncId(ue,ne,$=0){return setInterval(ue.flush.bind(ue,this),$)}recycleAsyncId(ue,ne,$=0){if(null!==$&&this.delay===$&&!1===this.pending)return ne;clearInterval(ne)}execute(ue,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $=this._execute(ue,ne);if($)return $;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ne){let X,$=!1;try{this.work(ue)}catch(L){$=!0,X=!!L&&L||new Error(L)}if($)return this.unsubscribe(),X}_unsubscribe(){const ue=this.id,ne=this.scheduler,$=ne.actions,X=$.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==X&&$.splice(X,1),null!=ue&&(this.id=this.recycleAsyncId(ne,ue,null)),this.delay=null}}},6102:(Fe,ge,P)=>{"use strict";P.d(ge,{v:()=>J});let d=(()=>{class he{constructor(ue,ne=he.now){this.SchedulerAction=ue,this.now=ne}schedule(ue,ne=0,$){return new this.SchedulerAction(this,ue).schedule($,ne)}}return he.now=()=>Date.now(),he})();class J extends d{constructor(ae,ue=d.now){super(ae,()=>J.delegate&&J.delegate!==this?J.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ae,ue=0,ne){return J.delegate&&J.delegate!==this?J.delegate.schedule(ae,ue,ne):super.schedule(ae,ue,ne)}flush(ae){const{actions:ue}=this;if(this.active)return void ue.push(ae);let ne;this.active=!0;do{if(ne=ae.execute(ae.state,ae.delay))break}while(ae=ue.shift());if(this.active=!1,ne){for(;ae=ue.shift();)ae.unsubscribe();throw ne}}}},4581:(Fe,ge,P)=>{"use strict";P.d(ge,{e:()=>H,E:()=>U});let d=1;const J=Promise.resolve(),he={};function ae(V){return V in he&&(delete he[V],!0)}const ue={setImmediate(V){const K=d++;return he[K]=!0,J.then(()=>ae(K)&&V()),K},clearImmediate(V){ae(V)}};var $=P(6465),L=P(6102);const U=new class extends L.v{flush(K){this.active=!0,this.scheduled=void 0;const{actions:pe}=this;let le,ce=-1,Ge=pe.length;K=K||pe.shift();do{if(le=K.execute(K.state,K.delay))break}while(++ce<Ge&&(K=pe.shift()));if(this.active=!1,le){for(;++ce<Ge&&(K=pe.shift());)K.unsubscribe();throw le}}}(class extends $.o{constructor(K,pe){super(K,pe),this.scheduler=K,this.work=pe}requestAsyncId(K,pe,le=0){return null!==le&&le>0?super.requestAsyncId(K,pe,le):(K.actions.push(this),K.scheduled||(K.scheduled=ue.setImmediate(K.flush.bind(K,null))))}recycleAsyncId(K,pe,le=0){if(null!==le&&le>0||null===le&&this.delay>0)return super.recycleAsyncId(K,pe,le);0===K.actions.length&&(ue.clearImmediate(pe),K.scheduled=void 0)}}),H=U},3637:(Fe,ge,P)=>{"use strict";P.d(ge,{z:()=>he,P:()=>ae});var d=P(6465);const he=new(P(6102).v)(d.o),ae=he},7771:(Fe,ge,P)=>{"use strict";P.d(ge,{c:()=>ne,N:()=>ue});var d=P(6465),he=P(6102);const ue=new class extends he.v{}(class extends d.o{constructor(X,L){super(X,L),this.scheduler=X,this.work=L}schedule(X,L=0){return L>0?super.schedule(X,L):(this.delay=L,this.state=X,this.scheduler.flush(this),this)}execute(X,L){return L>0||this.closed?super.execute(X,L):this._execute(X,L)}requestAsyncId(X,L,x=0){return null!==x&&x>0||null===x&&this.delay>0?super.requestAsyncId(X,L,x):X.flush(this)}}),ne=ue},377:(Fe,ge,P)=>{"use strict";P.d(ge,{hZ:()=>J});const J="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Fe,ge,P)=>{"use strict";P.d(ge,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Fe,ge,P)=>{"use strict";P.d(ge,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Fe,ge,P)=>{"use strict";P.d(ge,{N:()=>J});const J=(()=>{function he(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return he.prototype=Object.create(Error.prototype),he})()},4449:(Fe,ge,P)=>{"use strict";function d(J){setTimeout(()=>{throw J},0)}P.d(ge,{z:()=>d})},4487:(Fe,ge,P)=>{"use strict";function d(J){return J}P.d(ge,{y:()=>d})},9796:(Fe,ge,P)=>{"use strict";P.d(ge,{k:()=>d});const d=Array.isArray||(J=>J&&"number"==typeof J.length)},9489:(Fe,ge,P)=>{"use strict";P.d(ge,{z:()=>d});const d=J=>J&&"number"==typeof J.length&&"function"!=typeof J},9105:(Fe,ge,P)=>{"use strict";function d(J){return"function"==typeof J}P.d(ge,{m:()=>d})},6561:(Fe,ge,P)=>{"use strict";P.d(ge,{k:()=>J});var d=P(9796);function J(he){return!(0,d.k)(he)&&he-parseFloat(he)+1>=0}},1555:(Fe,ge,P)=>{"use strict";function d(J){return null!==J&&"object"==typeof J}P.d(ge,{K:()=>d})},4072:(Fe,ge,P)=>{"use strict";function d(J){return!!J&&"function"!=typeof J.subscribe&&"function"==typeof J.then}P.d(ge,{t:()=>d})},4869:(Fe,ge,P)=>{"use strict";function d(J){return J&&"function"==typeof J.schedule}P.d(ge,{K:()=>d})},7444:(Fe,ge,P)=>{"use strict";P.d(ge,{s:()=>U});var d=P(5015),J=P(4449),ae=P(377),ne=P(6554),X=P(9489),L=P(4072),x=P(1555);const U=H=>{if(H&&"function"==typeof H[ne.L])return(H=>V=>{const K=H[ne.L]();if("function"!=typeof K.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return K.subscribe(V)})(H);if((0,X.z)(H))return(0,d.V)(H);if((0,L.t)(H))return(H=>V=>(H.then(K=>{V.closed||(V.next(K),V.complete())},K=>V.error(K)).then(null,J.z),V))(H);if(H&&"function"==typeof H[ae.hZ])return(H=>V=>{const K=H[ae.hZ]();for(;;){let pe;try{pe=K.next()}catch(le){return V.error(le),V}if(pe.done){V.complete();break}if(V.next(pe.value),V.closed)break}return"function"==typeof K.return&&V.add(()=>{K.return&&K.return()}),V})(H);{const K=`You provided ${(0,x.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(K)}}},5015:(Fe,ge,P)=>{"use strict";P.d(ge,{V:()=>d});const d=J=>he=>{for(let ae=0,ue=J.length;ae<ue&&!he.closed;ae++)he.next(J[ae]);he.complete()}},9177:(Fe,ge,P)=>{"use strict";var d=P(3018);let J=null;function he(){return J}const $=new d.OlP("DocumentToken");let X=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,d.Yz7)({factory:L,token:i,providedIn:"platform"}),i})();function L(){return(0,d.LFG)(U)}const x=new d.OlP("Location Initialized");let U=(()=>{class i extends X{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(t){const o=he().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=he().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,s){H()?this._history.pushState(t,o,s):this.location.hash=s}replaceState(t,o,s){H()?this._history.replaceState(t,o,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($))},i.\u0275prov=(0,d.Yz7)({factory:V,token:i,providedIn:"platform"}),i})();function H(){return!!window.history.pushState}function V(){return new U((0,d.LFG)($))}function K(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function pe(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function le(i){return i&&"?"!==i[0]?"?"+i:i}let ce=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,d.Yz7)({factory:Ge,token:i,providedIn:"root"}),i})();function Ge(i){const e=(0,d.LFG)($).location;return new ht((0,d.LFG)(X),e&&e.origin||"")}const ke=new d.OlP("appBaseHref");let ht=(()=>{class i extends ce{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return K(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+le(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${o}${s}`:o}pushState(t,o,s,c){const f=this.prepareExternalUrl(s+le(c));this._platformLocation.pushState(t,o,f)}replaceState(t,o,s,c){const f=this.prepareExternalUrl(s+le(c));this._platformLocation.replaceState(t,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,s;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(X),d.LFG(ke,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),fn=(()=>{class i extends ce{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=K(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,s,c){let f=this.prepareExternalUrl(s+le(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,o,f)}replaceState(t,o,s,c){let f=this.prepareExternalUrl(s+le(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,s;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(X),d.LFG(ke,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),lt=(()=>{class i{constructor(t,o){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=pe(Bt(s)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+le(o))}normalize(t){return i.stripTrailingSlash(function(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,Bt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,o="",s=null){this._platformStrategy.pushState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+le(o)),s)}replaceState(t,o="",s=null){this._platformStrategy.replaceState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+le(o)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var o,s;null===(s=(o=this._platformStrategy).historyGo)||void 0===s||s.call(o,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(s=>s(t,o))}subscribe(t,o,s){return this._subject.subscribe({next:t,error:o,complete:s})}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(ce),d.LFG(X))},i.normalizeQueryParams=le,i.joinWithSlash=K,i.stripTrailingSlash=pe,i.\u0275prov=(0,d.Yz7)({factory:Re,token:i,providedIn:"root"}),i})();function Re(){return new lt((0,d.LFG)(ce),(0,d.LFG)(X))}function Bt(i){return i.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Percent=1]="Percent",W[W.Currency=2]="Currency",W[W.Scientific=3]="Scientific",W))(),ie=(()=>((ie=ie||{})[ie.Zero=0]="Zero",ie[ie.One=1]="One",ie[ie.Two=2]="Two",ie[ie.Few=3]="Few",ie[ie.Many=4]="Many",ie[ie.Other=5]="Other",ie))(),Y=(()=>((Y=Y||{})[Y.Format=0]="Format",Y[Y.Standalone=1]="Standalone",Y))(),Q=(()=>((Q=Q||{})[Q.Narrow=0]="Narrow",Q[Q.Abbreviated=1]="Abbreviated",Q[Q.Wide=2]="Wide",Q[Q.Short=3]="Short",Q))(),be=(()=>((be=be||{})[be.Short=0]="Short",be[be.Medium=1]="Medium",be[be.Long=2]="Long",be[be.Full=3]="Full",be))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function Vt(i,e){return jt((0,d.cg1)(i)[d.wAp.DateFormat],e)}function Ot(i,e){return jt((0,d.cg1)(i)[d.wAp.TimeFormat],e)}function gt(i,e){return jt((0,d.cg1)(i)[d.wAp.DateTimeFormat],e)}function Ir(i,e){const t=(0,d.cg1)(i),o=t[d.wAp.NumberSymbols][e];if(void 0===o){if(e===ee.CurrencyDecimal)return t[d.wAp.NumberSymbols][ee.Decimal];if(e===ee.CurrencyGroup)return t[d.wAp.NumberSymbols][ee.Group]}return o}const ct=d.kL8;function Et(i){if(!i[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jt(i,e){for(let t=e;t>-1;t--)if(void 0!==i[t])return i[t];throw new Error("Locale data API: locale data undefined")}function Mn(i){const[e,t]=i.split(":");return{hours:+e,minutes:+t}}const kh=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fu={},Mo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pn=(()=>((pn=pn||{})[pn.Short=0]="Short",pn[pn.ShortGMT=1]="ShortGMT",pn[pn.Long=2]="Long",pn[pn.Extended=3]="Extended",pn))(),Ye=(()=>((Ye=Ye||{})[Ye.FullYear=0]="FullYear",Ye[Ye.Month=1]="Month",Ye[Ye.Date=2]="Date",Ye[Ye.Hours=3]="Hours",Ye[Ye.Minutes=4]="Minutes",Ye[Ye.Seconds=5]="Seconds",Ye[Ye.FractionalSeconds=6]="FractionalSeconds",Ye[Ye.Day=7]="Day",Ye))(),ze=(()=>((ze=ze||{})[ze.DayPeriods=0]="DayPeriods",ze[ze.Days=1]="Days",ze[ze.Months=2]="Months",ze[ze.Eras=3]="Eras",ze))();function Mr(i,e,t,o){let s=function(i){if(Fg(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[s,c=1,f=1]=i.split("-").map(m=>+m);return lc(s,c-1,f)}const t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let o;if(o=i.match(kh))return function(i){const e=new Date(0);let t=0,o=0;const s=i[8]?e.setUTCFullYear:e.setFullYear,c=i[8]?e.setUTCHours:e.setHours;i[9]&&(t=Number(i[9]+i[10]),o=Number(i[9]+i[11])),s.call(e,Number(i[1]),Number(i[2])-1,Number(i[3]));const f=Number(i[4]||0)-t,m=Number(i[5]||0)-o,_=Number(i[6]||0),b=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return c.call(e,f,m,_,b),e}(o)}const e=new Date(i);if(!Fg(e))throw new Error(`Unable to convert "${i}" into a date`);return e}(i);e=Xi(t,e)||e;let m,f=[];for(;e;){if(m=Mo.exec(e),!m){f.push(e);break}{f=f.concat(m.slice(1));const C=f.pop();if(!C)break;e=C}}let _=s.getTimezoneOffset();o&&(_=Kn(o,_),s=function(i,e,t){const s=i.getTimezoneOffset();return function(i,e){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+e),i}(i,-1*(Kn(e,s)-s))}(s,o));let b="";return f.forEach(C=>{const D=function(i){if(ar[i])return ar[i];let e;switch(i){case"G":case"GG":case"GGG":e=k(ze.Eras,Q.Abbreviated);break;case"GGGG":e=k(ze.Eras,Q.Wide);break;case"GGGGG":e=k(ze.Eras,Q.Narrow);break;case"y":e=rn(Ye.FullYear,1,0,!1,!0);break;case"yy":e=rn(Ye.FullYear,2,0,!0,!0);break;case"yyy":e=rn(Ye.FullYear,3,0,!1,!0);break;case"yyyy":e=rn(Ye.FullYear,4,0,!1,!0);break;case"Y":e=Tt(1);break;case"YY":e=Tt(2,!0);break;case"YYY":e=Tt(3);break;case"YYYY":e=Tt(4);break;case"M":case"L":e=rn(Ye.Month,1,1);break;case"MM":case"LL":e=rn(Ye.Month,2,1);break;case"MMM":e=k(ze.Months,Q.Abbreviated);break;case"MMMM":e=k(ze.Months,Q.Wide);break;case"MMMMM":e=k(ze.Months,Q.Narrow);break;case"LLL":e=k(ze.Months,Q.Abbreviated,Y.Standalone);break;case"LLLL":e=k(ze.Months,Q.Wide,Y.Standalone);break;case"LLLLL":e=k(ze.Months,Q.Narrow,Y.Standalone);break;case"w":e=St(1);break;case"ww":e=St(2);break;case"W":e=St(1,!0);break;case"d":e=rn(Ye.Date,1);break;case"dd":e=rn(Ye.Date,2);break;case"c":case"cc":e=rn(Ye.Day,1);break;case"ccc":e=k(ze.Days,Q.Abbreviated,Y.Standalone);break;case"cccc":e=k(ze.Days,Q.Wide,Y.Standalone);break;case"ccccc":e=k(ze.Days,Q.Narrow,Y.Standalone);break;case"cccccc":e=k(ze.Days,Q.Short,Y.Standalone);break;case"E":case"EE":case"EEE":e=k(ze.Days,Q.Abbreviated);break;case"EEEE":e=k(ze.Days,Q.Wide);break;case"EEEEE":e=k(ze.Days,Q.Narrow);break;case"EEEEEE":e=k(ze.Days,Q.Short);break;case"a":case"aa":case"aaa":e=k(ze.DayPeriods,Q.Abbreviated);break;case"aaaa":e=k(ze.DayPeriods,Q.Wide);break;case"aaaaa":e=k(ze.DayPeriods,Q.Narrow);break;case"b":case"bb":case"bbb":e=k(ze.DayPeriods,Q.Abbreviated,Y.Standalone,!0);break;case"bbbb":e=k(ze.DayPeriods,Q.Wide,Y.Standalone,!0);break;case"bbbbb":e=k(ze.DayPeriods,Q.Narrow,Y.Standalone,!0);break;case"B":case"BB":case"BBB":e=k(ze.DayPeriods,Q.Abbreviated,Y.Format,!0);break;case"BBBB":e=k(ze.DayPeriods,Q.Wide,Y.Format,!0);break;case"BBBBB":e=k(ze.DayPeriods,Q.Narrow,Y.Format,!0);break;case"h":e=rn(Ye.Hours,1,-12);break;case"hh":e=rn(Ye.Hours,2,-12);break;case"H":e=rn(Ye.Hours,1);break;case"HH":e=rn(Ye.Hours,2);break;case"m":e=rn(Ye.Minutes,1);break;case"mm":e=rn(Ye.Minutes,2);break;case"s":e=rn(Ye.Seconds,1);break;case"ss":e=rn(Ye.Seconds,2);break;case"S":e=rn(Ye.FractionalSeconds,1);break;case"SS":e=rn(Ye.FractionalSeconds,2);break;case"SSS":e=rn(Ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=se(pn.Short);break;case"ZZZZZ":e=se(pn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=se(pn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=se(pn.Long);break;default:return null}return ar[i]=e,e}(C);b+=D?D(s,t,_):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function lc(i,e,t){const o=new Date(0);return o.setFullYear(i,e,t),o.setHours(0,0,0),o}function Xi(i,e){const t=function(i){return(0,d.cg1)(i)[d.wAp.LocaleId]}(i);if(fu[t]=fu[t]||{},fu[t][e])return fu[t][e];let o="";switch(e){case"shortDate":o=Vt(i,be.Short);break;case"mediumDate":o=Vt(i,be.Medium);break;case"longDate":o=Vt(i,be.Long);break;case"fullDate":o=Vt(i,be.Full);break;case"shortTime":o=Ot(i,be.Short);break;case"mediumTime":o=Ot(i,be.Medium);break;case"longTime":o=Ot(i,be.Long);break;case"fullTime":o=Ot(i,be.Full);break;case"short":const s=Xi(i,"shortTime"),c=Xi(i,"shortDate");o=nn(gt(i,be.Short),[s,c]);break;case"medium":const f=Xi(i,"mediumTime"),m=Xi(i,"mediumDate");o=nn(gt(i,be.Medium),[f,m]);break;case"long":const _=Xi(i,"longTime"),b=Xi(i,"longDate");o=nn(gt(i,be.Long),[_,b]);break;case"full":const C=Xi(i,"fullTime"),D=Xi(i,"fullDate");o=nn(gt(i,be.Full),[C,D])}return o&&(fu[t][e]=o),o}function nn(i,e){return e&&(i=i.replace(/\{([^}]+)}/g,function(t,o){return null!=e&&o in e?e[o]:t})),i}function ii(i,e,t="-",o,s){let c="";(i<0||s&&i<=0)&&(s?i=1-i:(i=-i,c=t));let f=String(i);for(;f.length<e;)f="0"+f;return o&&(f=f.substr(f.length-e)),c+f}function rn(i,e,t=0,o=!1,s=!1){return function(c,f){let m=function(i,e){switch(i){case Ye.FullYear:return e.getFullYear();case Ye.Month:return e.getMonth();case Ye.Date:return e.getDate();case Ye.Hours:return e.getHours();case Ye.Minutes:return e.getMinutes();case Ye.Seconds:return e.getSeconds();case Ye.FractionalSeconds:return e.getMilliseconds();case Ye.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,c);if((t>0||m>-t)&&(m+=t),i===Ye.Hours)0===m&&-12===t&&(m=12);else if(i===Ye.FractionalSeconds)return function(i,e){return ii(i,3).substr(0,e)}(m,e);const _=Ir(f,ee.MinusSign);return ii(m,e,_,o,s)}}function k(i,e,t=Y.Format,o=!1){return function(s,c){return function(i,e,t,o,s,c){switch(t){case ze.Months:return function(i,e,t){const o=(0,d.cg1)(i),c=jt([o[d.wAp.MonthsFormat],o[d.wAp.MonthsStandalone]],e);return jt(c,t)}(e,s,o)[i.getMonth()];case ze.Days:return function(i,e,t){const o=(0,d.cg1)(i),c=jt([o[d.wAp.DaysFormat],o[d.wAp.DaysStandalone]],e);return jt(c,t)}(e,s,o)[i.getDay()];case ze.DayPeriods:const f=i.getHours(),m=i.getMinutes();if(c){const b=function(i){const e=(0,d.cg1)(i);return Et(e),(e[d.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?Mn(o):[Mn(o[0]),Mn(o[1])])}(e),C=function(i,e,t){const o=(0,d.cg1)(i);Et(o);const c=jt([o[d.wAp.ExtraData][0],o[d.wAp.ExtraData][1]],e)||[];return jt(c,t)||[]}(e,s,o),D=b.findIndex(S=>{if(Array.isArray(S)){const[I,O]=S,N=f>=I.hours&&m>=I.minutes,G=f<O.hours||f===O.hours&&m<O.minutes;if(I.hours<O.hours){if(N&&G)return!0}else if(N||G)return!0}else if(S.hours===f&&S.minutes===m)return!0;return!1});if(-1!==D)return C[D]}return function(i,e,t){const o=(0,d.cg1)(i),c=jt([o[d.wAp.DayPeriodsFormat],o[d.wAp.DayPeriodsStandalone]],e);return jt(c,t)}(e,s,o)[f<12?0:1];case ze.Eras:return function(i,e){return jt((0,d.cg1)(i)[d.wAp.Eras],e)}(e,o)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,c,i,e,t,o)}}function se(i){return function(e,t,o){const s=-1*o,c=Ir(t,ee.MinusSign),f=s>0?Math.floor(s/60):Math.ceil(s/60);switch(i){case pn.Short:return(s>=0?"+":"")+ii(f,2,c)+ii(Math.abs(s%60),2,c);case pn.ShortGMT:return"GMT"+(s>=0?"+":"")+ii(f,1,c);case pn.Long:return"GMT"+(s>=0?"+":"")+ii(f,2,c)+":"+ii(Math.abs(s%60),2,c);case pn.Extended:return 0===o?"Z":(s>=0?"+":"")+ii(f,2,c)+":"+ii(Math.abs(s%60),2,c);default:throw new Error(`Unknown zone width "${i}"`)}}}function Dt(i){return lc(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function St(i,e=!1){return function(t,o){let s;if(e){const c=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,f=t.getDate();s=1+Math.floor((f+c)/7)}else{const c=Dt(t),f=function(i){const e=lc(i,0,1).getDay();return lc(i,0,1+(e<=4?4:11)-e)}(c.getFullYear()),m=c.getTime()-f.getTime();s=1+Math.round(m/6048e5)}return ii(s,i,Ir(o,ee.MinusSign))}}function Tt(i,e=!1){return function(t,o){return ii(Dt(t).getFullYear(),i,Ir(o,ee.MinusSign),e)}}const ar={};function Kn(i,e){i=i.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?e:t}function Fg(i){return i instanceof Date&&!isNaN(i.valueOf())}const Ub=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Cn(i){const e=parseInt(i);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+i);return e}class eo{}let hc=(()=>{class i extends eo{constructor(t){super(),this.locale=t}getPluralCategory(t,o){switch(ct(o||this.locale)(t)){case ie.Zero:return"zero";case ie.One:return"one";case ie.Two:return"two";case ie.Few:return"few";case ie.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(d.soG))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function at(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const o=t.indexOf("="),[s,c]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(s.trim()===e)return decodeURIComponent(c)}return null}let Oo=(()=>{class i{constructor(t,o,s,c){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=s,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{o?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class Ng{constructor(e,t,o,s){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xo=(()=>{class i{constructor(t,o,s){this._viewContainer=t,this._template=o,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=[];t.forEachOperation((s,c,f)=>{if(null==s.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Ng(null,this._ngForOf,-1,-1),null===f?void 0:f),_=new Cr(s,m);o.push(_)}else if(null==f)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const m=this._viewContainer.get(c);this._viewContainer.move(m,f);const _=new Cr(s,m);o.push(_)}});for(let s=0;s<o.length;s++)this._perViewChange(o[s].view,o[s].record);for(let s=0,c=this._viewContainer.length;s<c;s++){const f=this._viewContainer.get(s);f.context.index=s,f.context.count=c,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(t,o){t.context.$implicit=o.item}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Cr{constructor(e,t){this.record=e,this.view=t}}let ur=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new Di,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Nt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Nt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.s_b),d.Y36(d.Rgc))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Di{constructor(){this.$implicit=null,this.ngIf=null}}function Nt(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Lg{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let gc=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const o=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(t)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),yu=(()=>{class i{constructor(t,o,s){this.ngSwitch=s,s._addCase(),this._view=new Lg(t,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(gc,9))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),Nh=(()=>{class i{constructor(t,o,s){s._addDefault(new Lg(t,o))}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(gc,9))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngSwitchDefault",""]]}),i})();function mn(i,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,d.AaK)(i)}'`)}class Vg{createSubscription(e,t){return e.subscribe({next:t,error:o=>{throw o}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Vh{createSubscription(e,t){return e.then(t,o=>{throw o})}dispose(e){}onDestroy(e){}}const Uh=new Vh,Ti=new Vg;let _u=(()=>{class i{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,o=>this._updateLatestValue(t,o))}_selectStrategy(t){if((0,d.QGY)(t))return Uh;if((0,d.F4k)(t))return Ti;throw mn(i,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,o){t===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.sBO,16))},i.\u0275pipe=d.Yjl({name:"async",type:i,pure:!1}),i})(),Hb=(()=>{class i{constructor(t){this.locale=t}transform(t,o="mediumDate",s,c){if(null==t||""===t||t!=t)return null;try{return Mr(t,o,c||this.locale,s)}catch(f){throw mn(i,f.message)}}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.soG,16))},i.\u0275pipe=d.Yjl({name:"date",type:i,pure:!0}),i})(),uS=(()=>{class i{constructor(t){this._locale=t}transform(t,o,s){if(!function(i){return!(null==i||""===i||i!=i)}(t))return null;s=s||this._locale;try{return function(i,e,t){return function(i,e,t,o,s,c,f=!1){let m="",_=!1;if(isFinite(i)){let b=function(i){let o,s,c,f,m,e=Math.abs(i)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(c=e.search(/e/i))>0?(s<0&&(s=c),s+=+e.slice(c+1),e=e.substring(0,c)):s<0&&(s=e.length),c=0;"0"===e.charAt(c);c++);if(c===(m=e.length))o=[0],s=1;else{for(m--;"0"===e.charAt(m);)m--;for(s-=c,o=[],f=0;c<=m;c++,f++)o[f]=Number(e.charAt(c))}return s>22&&(o=o.splice(0,21),t=s-1,s=1),{digits:o,exponent:t,integerLen:s}}(i);f&&(b=function(i){if(0===i.digits[0])return i;const e=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===e?i.digits.push(0,0):1===e&&i.digits.push(0),i.integerLen+=2),i}(b));let C=e.minInt,D=e.minFrac,S=e.maxFrac;if(c){const fe=c.match(Ub);if(null===fe)throw new Error(`${c} is not a valid digit info`);const ye=fe[1],De=fe[3],Se=fe[5];null!=ye&&(C=Cn(ye)),null!=De&&(D=Cn(De)),null!=Se?S=Cn(Se):null!=De&&D>S&&(S=D)}!function(i,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let o=i.digits,s=o.length-i.integerLen;const c=Math.min(Math.max(e,s),t);let f=c+i.integerLen,m=o[f];if(f>0){o.splice(Math.max(i.integerLen,f));for(let D=f;D<o.length;D++)o[D]=0}else{s=Math.max(0,s),i.integerLen=1,o.length=Math.max(1,f=c+1),o[0]=0;for(let D=1;D<f;D++)o[D]=0}if(m>=5)if(f-1<0){for(let D=0;D>f;D--)o.unshift(0),i.integerLen++;o.unshift(1),i.integerLen++}else o[f-1]++;for(;s<Math.max(0,c);s++)o.push(0);let _=0!==c;const b=e+i.integerLen,C=o.reduceRight(function(D,S,I,O){return O[I]=(S+=D)<10?S:S-10,_&&(0===O[I]&&I>=b?O.pop():_=!1),S>=10?1:0},0);C&&(o.unshift(C),i.integerLen++)}(b,D,S);let I=b.digits,O=b.integerLen;const N=b.exponent;let G=[];for(_=I.every(fe=>!fe);O<C;O++)I.unshift(0);for(;O<0;O++)I.unshift(0);O>0?G=I.splice(O,I.length):(G=I,I=[0]);const te=[];for(I.length>=e.lgSize&&te.unshift(I.splice(-e.lgSize,I.length).join(""));I.length>e.gSize;)te.unshift(I.splice(-e.gSize,I.length).join(""));I.length&&te.unshift(I.join("")),m=te.join(Ir(t,o)),G.length&&(m+=Ir(t,s)+G.join("")),N&&(m+=Ir(t,ee.Exponential)+"+"+N)}else m=Ir(t,ee.Infinity);return m=i<0&&!_?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(i,function(i,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=i.split(";"),s=o[0],c=o[1],f=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],m=f[0],_=f[1]||"";t.posPre=m.substr(0,m.indexOf("#"));for(let C=0;C<_.length;C++){const D=_.charAt(C);"0"===D?t.minFrac=t.maxFrac=C+1:"#"===D?t.maxFrac=C+1:t.posSuf+=D}const b=m.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,c){const C=s.length-t.posPre.length-t.posSuf.length,D=c.indexOf("#");t.negPre=c.substr(0,D).replace(/'/g,""),t.negSuf=c.substr(D+C).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(i,e){return(0,d.cg1)(i)[d.wAp.NumberFormats][e]}(e,W.Decimal),Ir(e,ee.MinusSign)),e,ee.Group,ee.Decimal,t)}(function(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(t),s,o)}catch(c){throw mn(i,c.message)}}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.soG,16))},i.\u0275pipe=d.Yjl({name:"number",type:i,pure:!0}),i})();let Ug=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:eo,useClass:hc}]}),i})();let Hg=(()=>{class i{}return i.\u0275prov=(0,d.Yz7)({token:i,providedIn:"root",factory:()=>new dS((0,d.LFG)($),window)}),i})();class dS{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let s=o.currentNode;for(;s;){const c=s.shadowRoot;if(c){const f=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(f)return f}s=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(o-c[0],s-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Bh(this.window.history)||Bh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Bh(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Gg{}class yc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new yc,J||(J=i)}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(_c=_c||document.querySelector("base"),_c?_c.getAttribute("href"):null);return null==t?null:function(i){zg=zg||document.createElement("a"),zg.setAttribute("href",i);const e=zg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return at(document.cookie,e)}}let zg,_c=null;const fS=new d.OlP("TRANSITION_ID"),pS=[{provide:d.ip1,useFactory:function(i,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const o=he(),s=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let c=0;c<s.length;c++)o.remove(s[c])})}},deps:[fS,$,d.zs3],multi:!0}];class an{static init(){(0,d.VLi)(new an)}addToWindow(e){d.dqk.getAngularTestability=(o,s=!0)=>{const c=e.findTestabilityInTree(o,s);if(null==c)throw new Error("Could not find testability for element.");return c},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(o=>{const s=d.dqk.getAllAngularTestabilities();let c=s.length,f=!1;const m=function(_){f=f||_,c--,0==c&&o(f)};s.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,o){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:o?he().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let gS=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const bc=new d.OlP("EventManagerPlugins");let Hh=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,s){return this._findPluginFor(o).addEventListener(t,o,s)}addGlobalEventListener(t,o,s){return this._findPluginFor(o).addGlobalEventListener(t,o,s)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const s=this._plugins;for(let c=0;c<s.length;c++){const f=s[c];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(bc),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Yg{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const s=he().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,o)}}let Wg=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),o.add(s))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),wc=(()=>{class i extends Wg{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,s){t.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,s.push(o.appendChild(f))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(Xb),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,s)=>{this._addStylesToHost(t,s,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Xb))}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function Xb(i){he().remove(i)}const me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},mt=/%COMP%/g;function bu(i,e,t){for(let o=0;o<e.length;o++){let s=e[o];Array.isArray(s)?bu(i,s,t):(s=s.replace(mt,i),t.push(s))}return t}function mS(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let ta=(()=>{class i{constructor(t,o,s){this.eventManager=t,this.sharedStylesHost=o,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new wu(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case d.ifc.Emulated:{let s=this.rendererByCompId.get(o.id);return s||(s=new Cu(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,s)),s.applyToHost(t),s}case 1:case d.ifc.ShadowDom:return new ko(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const s=bu(o.id,o.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(Hh),d.LFG(wc),d.LFG(d.AFp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class wu{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(me[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,o){e&&e.insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,s){if(s){t=s+":"+t;const c=me[s];c?e.setAttributeNS(c,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const s=me[o];s?e.removeAttributeNS(s,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,s){s&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,o,s&d.JOm.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mS(o)):this.eventManager.addEventListener(e,t,mS(o))}}class Cu extends wu{constructor(e,t,o,s){super(e),this.component=o;const c=bu(s+"-"+o.id,o.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(mt,s+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(mt,i)}(s+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class ko extends wu{constructor(e,t,o,s){super(e),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=bu(s.id,s.styles,[]);for(let f=0;f<c.length;f++){const m=document.createElement("style");m.textContent=c[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yS=(()=>{class i extends Yg{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,s){return t.addEventListener(o,s,!1),()=>this.removeEventListener(t,o,s)}removeEventListener(t,o,s){return t.removeEventListener(o,s)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Ec=["alt","control","meta","shift"],sw={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nm={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Er={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let ds=(()=>{class i extends Yg{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,s){const c=i.parseEventName(o),f=i.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>he().onAndCancel(t,c.domEventName,f))}static parseEventName(t){const o=t.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;const c=i._normalizeKey(o.pop());let f="";if(Ec.forEach(_=>{const b=o.indexOf(_);b>-1&&(o.splice(b,1),f+=_+".")}),f+=c,0!=o.length||0===c.length)return null;const m={};return m.domEventName=s,m.fullKey=f,m}static getEventFullKey(t){let o="",s=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&nm.hasOwnProperty(e)&&(e=nm[e]))}return sw[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Ec.forEach(c=>{c!=s&&Er[c](t)&&(o+=c+".")}),o+=s,o}static eventCallback(t,o,s){return c=>{i.getEventFullKey(c)===t&&s.runGuarded(()=>o(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const TS=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){yc.makeCurrent(),an.init()},multi:!0},{provide:$,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),hs=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:bc,useClass:yS,multi:!0,deps:[$,d.R0b,d.Lbi]},{provide:bc,useClass:ds,multi:!0,deps:[$]},[],{provide:ta,useClass:ta,deps:[Hh,wc,d.AFp]},{provide:d.FYo,useExisting:ta},{provide:Wg,useExisting:wc},{provide:wc,useClass:wc,deps:[$]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Hh,useClass:Hh,deps:[bc,d.R0b]},{provide:Gg,useClass:gS,deps:[]},[]];let na=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:d.AFp,useValue:t.appId},{provide:fS,useExisting:d.AFp},pS]}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(i,12))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:hs,imports:[Ug,d.hGG]}),i})();"undefined"!=typeof window&&window;var Ut=P(4402),Ve=P(5917),pt=P(9765),Du=P(7971);class xr extends pt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Du.N;return this._value}next(e){super.next(this._value=e)}}var Tu=P(4869),ra=P(9796),Nn=P(7393);class OS extends Nn.L{notifyNext(e,t,o,s,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class fw extends Nn.L{constructor(e,t,o){super(),this.parent=e,this.outerValue=t,this.outerIndex=o,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var pw=P(7444),Dn=P(7574);function gw(i,e,t,o,s=new fw(i,t,o)){if(!s.closed)return e instanceof Dn.y?e.subscribe(s):(0,pw.s)(e)(s)}var xS=P(6693);const mw={};function Sc(...i){let e,t;return(0,Tu.K)(i[i.length-1])&&(t=i.pop()),"function"==typeof i[i.length-1]&&(e=i.pop()),1===i.length&&(0,ra.k)(i[0])&&(i=i[0]),(0,xS.n)(i,t).lift(new Ac(e))}class Ac{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new PS(e,this.resultSelector))}}class PS extends OS{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(mw),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let o=0;o<t;o++)this.add(gw(this,e[o],void 0,o))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,o){const s=this.values,f=this.toRespond?s[o]===mw?--this.toRespond:this.toRespond:0;s[o]=t,0===f&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(o){return void this.destination.error(o)}this.destination.next(t)}}const Ic=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Fo=P(3282);function Mc(...i){return(0,Fo.J)(1)((0,Ve.of)(...i))}var Ii=P(9193);function ps(i){return new Dn.y(e=>{let t;try{t=i()}catch(s){return void e.error(s)}return(t?(0,Ut.D)(t):(0,Ii.c)()).subscribe(e)})}var Su=P(2441),He=P(8002),cr=P(5345);function Wt(i,e){return"function"==typeof e?t=>t.pipe(Wt((o,s)=>(0,Ut.D)(i(o,s)).pipe((0,He.U)((c,f)=>e(o,c,s,f))))):t=>t.lift(new ia(i))}class ia{constructor(e){this.project=e}call(e,t){return t.subscribe(new pO(e,this.project))}}class pO extends cr.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const o=this.index++;try{t=this.project(e,o)}catch(s){return void this.destination.error(s)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const o=new cr.IY(this),s=this.destination;s.add(o),this.innerSubscription=(0,cr.ft)(e,o),this.innerSubscription!==o&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const _w=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function gs(i){return e=>0===i?(0,Ii.c)():e.lift(new FS(i))}class FS{constructor(e){if(this.total=e,this.total<0)throw new _w}call(e,t){return t.subscribe(new ln(e,this.total))}}class ln extends Nn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,o=++this.count;o<=t&&(this.destination.next(e),o===t&&(this.destination.complete(),this.unsubscribe()))}}function ro(...i){const e=i[i.length-1];return(0,Tu.K)(e)?(i.pop(),t=>Mc(i,t,e)):t=>Mc(i,t)}function Au(i,e){let t=!1;return arguments.length>=2&&(t=!0),function(s){return s.lift(new gO(i,e,t))}}class gO{constructor(e,t,o=!1){this.accumulator=e,this.seed=t,this.hasSeed=o}call(e,t){return t.subscribe(new mO(e,this.accumulator,this.seed,this.hasSeed))}}class mO extends Nn.L{constructor(e,t,o,s){super(e),this.accumulator=t,this._seed=o,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let o;try{o=this.accumulator(this.seed,e,t)}catch(s){this.destination.error(s)}this.seed=o,this.destination.next(o)}}function Pr(i,e){return function(o){return o.lift(new yO(i,e))}}class yO{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new _O(e,this.predicate,this.thisArg))}}class _O extends Nn.L{constructor(e,t,o){super(e),this.predicate=t,this.thisArg=o,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(o){return void this.destination.error(o)}t&&this.destination.next(e)}}function Iu(i){return function(t){const o=new vO(i),s=t.lift(o);return o.caught=s}}class vO{constructor(e){this.selector=e}call(e,t){return t.subscribe(new bO(e,this.selector,this.caught))}}class bO extends cr.Ds{constructor(e,t,o){super(e),this.selector=t,this.caught=o}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const o=new cr.IY(this);this.add(o);const s=(0,cr.ft)(t,o);s!==o&&this.add(s)}}}var kr=P(9773);function io(i,e){return(0,kr.zg)(i,e,1)}function vw(i){return function(t){return 0===i?(0,Ii.c)():t.lift(new Rn(i))}}class Rn{constructor(e){if(this.total=e,this.total<0)throw new _w}call(e,t){return t.subscribe(new $h(e,this.total))}}class $h extends Nn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,o=this.total,s=this.count++;t.length<o?t.push(e):t[s%o]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const o=this.count>=this.total?this.total:this.count,s=this.ring;for(let c=0;c<o;c++){const f=t++%o;e.next(s[f])}}e.complete()}}function Rc(i=si){return e=>e.lift(new wO(i))}class wO{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new NS(e,this.errorFactory))}}class NS extends Nn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function si(){return new Ic}function Mi(i=null){return e=>e.lift(new Zh(i))}class Zh{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new oa(e,this.defaultValue))}}class oa extends Nn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var No=P(4487);function sa(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Pr((s,c)=>i(s,c,o)):No.y,gs(1),t?Mi(e):Rc(()=>new Ic))}var dr=P(3342),CO=P(1307),Ri=P(5319);function cm(i){return e=>e.lift(new Yr(i))}class Yr{constructor(e){this.callback=e}call(e,t){return t.subscribe(new dm(e,this.callback))}}class dm extends Nn.L{constructor(e,t){super(e),this.add(new Ri.w(t))}}class Fr{constructor(e,t){this.id=e,this.url=t}}class ww extends Fr{constructor(e,t,o="imperative",s=null){super(e,t),this.navigationTrigger=o,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mu extends Fr{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cw extends Fr{constructor(e,t,o){super(e,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class LS extends Fr{constructor(e,t,o){super(e,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VS extends Fr{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class US extends Fr{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BS extends Fr{constructor(e,t,o,s,c){super(e,t),this.urlAfterRedirects=o,this.state=s,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oc extends Fr{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hm extends Fr{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jS{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fm{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ru{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HS{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ew{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ft="primary";class pm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function kc(i){return new pm(i)}const Yh="ngNavigationCancelingError";function aa(i){const e=Error("NavigationCancelingError: "+i);return e[Yh]=!0,e}function GS(i,e,t){const o=t.path.split("/");if(o.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||o.length<i.length))return null;const s={};for(let c=0;c<o.length;c++){const f=o[c],m=i[c];if(f.startsWith(":"))s[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:i.slice(0,o.length),posParams:s}}function Oi(i,e){const t=i?Object.keys(i):void 0,o=e?Object.keys(e):void 0;if(!t||!o||t.length!=o.length)return!1;let s;for(let c=0;c<t.length;c++)if(s=t[c],!Dw(i[s],e[s]))return!1;return!0}function Dw(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),o=[...e].sort();return t.every((s,c)=>o[c]===s)}return i===e}function ms(i){return Array.prototype.concat.apply([],i)}function xu(i){return i.length>0?i[i.length-1]:null}function Ln(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function xi(i){return(0,d.CqO)(i)?i:(0,d.QGY)(i)?(0,Ut.D)(Promise.resolve(i)):(0,Ve.of)(i)}const Pu={exact:function Tw(i,e,t){if(!la(i.segments,e.segments)||!Lc(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const o in e.children)if(!i.children[o]||!Tw(i.children[o],e.children[o],t))return!1;return!0},subset:Wh},oo={exact:function(i,e){return Oi(i,e)},subset:function(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>Dw(i[t],e[t]))},ignored:()=>!0};function Fc(i,e,t){return Pu[t.paths](i.root,e.root,t.matrixParams)&&oo[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function Wh(i,e,t){return Nc(i,e,e.segments,t)}function Nc(i,e,t,o){if(i.segments.length>t.length){const s=i.segments.slice(0,t.length);return!(!la(s,t)||e.hasChildren()||!Lc(s,t,o))}if(i.segments.length===t.length){if(!la(i.segments,t)||!Lc(i.segments,t,o))return!1;for(const s in e.children)if(!i.children[s]||!Wh(i.children[s],e.children[s],o))return!1;return!0}{const s=t.slice(0,i.segments.length),c=t.slice(i.segments.length);return!!(la(i.segments,s)&&Lc(i.segments,s,o)&&i.children[ft])&&Nc(i.children[ft],e,c,o)}}function Lc(i,e,t){return e.every((o,s)=>oo[t](i[s].parameters,o.parameters))}class ua{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return SO.serialize(this)}}class yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ln(t,(o,s)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qh(this)}}class so{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=kc(this.parameters)),this._parameterMap}toString(){return qS(this)}}function la(i,e){return i.length===e.length&&i.every((t,o)=>t.path===e[o].path)}class Kh{}class Aw{parse(e){const t=new ZS(e);return new ua(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var i;return`${`/${Uc(e.root,!0)}`}${function(i){const e=Object.keys(i).map(t=>{const o=i[t];return Array.isArray(o)?o.map(s=>`${ca(t)}=${ca(s)}`).join("&"):`${ca(t)}=${ca(o)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${i=e.fragment,encodeURI(i)}`:""}`}}const SO=new Aw;function Qh(i){return i.segments.map(e=>qS(e)).join("/")}function Uc(i,e){if(!i.hasChildren())return Qh(i);if(e){const t=i.children[ft]?Uc(i.children[ft],!1):"",o=[];return Ln(i.children,(s,c)=>{c!==ft&&o.push(`${c}:${Uc(s,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function(i,e){let t=[];return Ln(i.children,(o,s)=>{s===ft&&(t=t.concat(e(o,s)))}),Ln(i.children,(o,s)=>{s!==ft&&(t=t.concat(e(o,s)))}),t}(i,(o,s)=>s===ft?[Uc(i.children[ft],!1)]:[`${s}:${Uc(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[ft]?`${Qh(i)}/${t[0]}`:`${Qh(i)}/(${t.join("//")})`}}function Iw(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ca(i){return Iw(i).replace(/%3B/gi,";")}function _s(i){return Iw(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jh(i){return decodeURIComponent(i)}function Mw(i){return Jh(i.replace(/\+/g,"%20"))}function qS(i){return`${_s(i.path)}${function(i){return Object.keys(i).map(e=>`;${_s(e)}=${_s(i[e])}`).join("")}(i.parameters)}`}const Rw=/^[^\/()?;=#]+/;function Bc(i){const e=i.match(Rw);return e?e[0]:""}const Ow=/^[^=?&#]+/,zS=/^[^?&#]+/;class ZS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[ft]=new yt(e,t)),o}parseSegment(){const e=Bc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new so(Jh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Bc(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const s=Bc(this.remaining);s&&(o=s,this.capture(o))}e[Jh(t)]=Jh(o)}parseQueryParam(e){const t=function(i){const e=i.match(Ow);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const f=function(i){const e=i.match(zS);return e?e[0]:""}(this.remaining);f&&(o=f,this.capture(o))}const s=Mw(t),c=Mw(o);if(e.hasOwnProperty(s)){let f=e[s];Array.isArray(f)||(f=[f],e[s]=f),f.push(c)}else e[s]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Bc(this.remaining),s=this.remaining[o.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let c;o.indexOf(":")>-1?(c=o.substr(0,o.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=ft);const f=this.parseChildren();t[c]=1===Object.keys(f).length?f[ft]:new yt([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ym(e,this._root);return t?t.children.map(o=>o.value):[]}firstChild(e){const t=ym(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Pi(e,this._root).map(t=>t.value)}}function ym(i,e){if(i===e.value)return e;for(const t of e.children){const o=ym(i,t);if(o)return o}return null}function Pi(i,e){if(i===e.value)return[e];for(const t of e.children){const o=Pi(i,t);if(o.length)return o.unshift(e),o}return[]}class Nr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ku(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class Pw extends xw{constructor(e,t){super(e),this.snapshot=t,_m(this,e)}toString(){return this.snapshot.toString()}}function kw(i,e){const t=function(i,e){const f=new ef([],{},{},"",{},ft,e,null,i.root,-1,{});return new Lw("",new Nr(f,[]))}(i,e),o=new xr([new so("",{})]),s=new xr({}),c=new xr({}),f=new xr({}),m=new xr(""),_=new ha(o,s,f,m,c,ft,e,t.root);return _.snapshot=t.root,new Pw(new Nr(_,[]),t)}class ha{constructor(e,t,o,s,c,f,m,_){this.url=e,this.params=t,this.queryParams=o,this.fragment=s,this.data=c,this.outlet=f,this.component=m,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(e=>kc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(e=>kc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fw(i,e="emptyOnly"){const t=i.pathFromRoot;let o=0;if("always"!==e)for(o=t.length-1;o>=1;){const s=t[o],c=t[o-1];if(s.routeConfig&&""===s.routeConfig.path)o--;else{if(c.component)break;o--}}return function(i){return i.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(o))}class ef{constructor(e,t,o,s,c,f,m,_,b,C,D){this.url=e,this.params=t,this.queryParams=o,this.fragment=s,this.data=c,this.outlet=f,this.component=m,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=C,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lw extends xw{constructor(e,t){super(t),this.url=e,_m(this,t)}toString(){return Vw(this._root)}}function _m(i,e){e.value._routerState=i,e.children.forEach(t=>_m(i,t))}function Vw(i){const e=i.children.length>0?` { ${i.children.map(Vw).join(", ")} } `:"";return`${i.value}${e}`}function Uw(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Oi(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),Oi(e.params,t.params)||i.params.next(t.params),function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Oi(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),Oi(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function vm(i,e){return Oi(i.params,e.params)&&function(i,e){return la(i,e)&&i.every((t,o)=>Oi(t.parameters,e[o].parameters))}(i.url,e.url)&&!(!i.parent!=!e.parent)&&(!i.parent||vm(i.parent,e.parent))}function Hc(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=e.value;const s=function(i,e,t){return e.children.map(o=>{for(const s of t.children)if(i.shouldReuseRoute(o.value,s.value.snapshot))return Hc(i,o,s);return Hc(i,o)})}(i,e,t);return new Nr(o,s)}{if(i.shouldAttach(e.value)){const c=i.retrieve(e.value);if(null!==c){const f=c.route;return ki(e,f),f}}const o=function(i){return new ha(new xr(i.url),new xr(i.params),new xr(i.queryParams),new xr(i.fragment),new xr(i.data),i.outlet,i.component,i)}(e.value),s=e.children.map(c=>Hc(i,c));return new Nr(o,s)}}function ki(i,e){if(i.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=i.value;for(let t=0;t<i.children.length;++t)ki(i.children[t],e.children[t])}function qc(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function tf(i){return"object"==typeof i&&null!=i&&i.outlets}function Hw(i,e,t,o,s){let c={};return o&&Ln(o,(f,m)=>{c[m]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),new ua(t.root===i?e:WS(t.root,i,e),c,s)}function WS(i,e,t){const o={};return Ln(i.children,(s,c)=>{o[c]=s===e?t:WS(s,e,t)}),new yt(i.segments,o)}class nf{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&qc(o[0]))throw new Error("Root segment cannot have matrix parameters");const s=o.find(tf);if(s&&s!==xu(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zc{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function qw(i,e,t){if(i||(i=new yt([],{})),0===i.segments.length&&i.hasChildren())return rf(i,e,t);const o=function(i,e,t){let o=0,s=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(o>=t.length)return c;const f=i.segments[s],m=t[o];if(tf(m))break;const _=`${m}`,b=o<t.length-1?t[o+1]:null;if(s>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Cm(_,b,f))return c;o+=2}else{if(!Cm(_,{},f))return c;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}(i,e,t),s=t.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const c=new yt(i.segments.slice(0,o.pathIndex),{});return c.children[ft]=new yt(i.segments.slice(o.pathIndex),i.children),rf(c,0,s)}return o.match&&0===s.length?new yt(i.segments,{}):o.match&&!i.hasChildren()?wm(i,e,t):o.match?rf(i,0,s):wm(i,e,t)}function rf(i,e,t){if(0===t.length)return new yt(i.segments,{});{const o=function(i){return tf(i[0])?i[0].outlets:{[ft]:i}}(t),s={};return Ln(o,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(s[f]=qw(i.children[f],e,c))}),Ln(i.children,(c,f)=>{void 0===o[f]&&(s[f]=c)}),new yt(i.segments,s)}}function wm(i,e,t){const o=i.segments.slice(0,e);let s=0;for(;s<t.length;){const c=t[s];if(tf(c)){const _=zw(c.outlets);return new yt(o,_)}if(0===s&&qc(t[0])){o.push(new so(i.segments[e].path,$c(t[0]))),s++;continue}const f=tf(c)?c.outlets[ft]:`${c}`,m=s<t.length-1?t[s+1]:null;f&&m&&qc(m)?(o.push(new so(f,$c(m))),s+=2):(o.push(new so(f,{})),s++)}return new yt(o,{})}function zw(i){const e={};return Ln(i,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[o]=wm(new yt([],{}),0,t))}),e}function $c(i){const e={};return Ln(i,(t,o)=>e[o]=`${t}`),e}function Cm(i,e,t){return i==t.path&&Oi(e,t.parameters)}class QS{constructor(e,t,o,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=s}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),Uw(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const s=ku(t);e.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,s[f],o),delete s[f]}),Ln(s,(c,f)=>{this.deactivateRouteAndItsChildren(c,o)})}deactivateRoutes(e,t,o){const s=e.value,c=t?t.value:null;if(s===c)if(s.component){const f=o.getContext(s.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,o);else c&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet);if(o&&o.outlet){const s=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),s=o&&e.value.component?o.children:t,c=ku(e);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],s);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(e,t,o){const s=ku(t);e.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],o),this.forwardEvent(new HS(c.value.snapshot))}),e.children.length&&this.forwardEvent(new fm(e.value.snapshot))}activateRoutes(e,t,o){const s=e.value,c=t?t.value:null;if(Uw(s),s===c)if(s.component){const f=o.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,o);else if(s.component){const f=o.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),Kt(m.route)}else{const m=function(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),_=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=s,f.resolver=_,f.outlet&&f.outlet.activateWith(s,_),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,o)}}function Kt(i){Uw(i.value),i.children.forEach(Kt)}class Dm{constructor(e,t){this.routes=e,this.module=t}}function ao(i){return"function"==typeof i}function fa(i){return i instanceof ua}const of=Symbol("INITIAL_VALUE");function sf(){return Wt(i=>Sc(i.map(e=>e.pipe(gs(1),ro(of)))).pipe(Au((e,t)=>{let o=!1;return t.reduce((s,c,f)=>s!==of?s:(c===of&&(o=!0),o||!1!==c&&f!==t.length-1&&!fa(c)?s:c),e)},of),Pr(e=>e!==of),(0,He.U)(e=>fa(e)?e:!0===e),gs(1)))}let Fu=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&d._UZ(0,"router-outlet")},directives:function(){return[vf]},encapsulation:2}),i})();function hr(i,e=""){for(let t=0;t<i.length;t++){const o=i[t];Tm(o,Zw(e,o))}}function Tm(i,e){i.children&&hr(i.children,e)}function Zw(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function af(i){const e=i.children&&i.children.map(af),t=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ft&&(t.component=Fu),t}function Lt(i){return i.outlet||ft}function Nu(i,e){const t=i.filter(o=>Lt(o)===e);return t.push(...i.filter(o=>Lt(o)!==e)),t}const uf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function lf(i,e,t){var o;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Object.assign({},uf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||GS)(t,i,e);if(!c)return Object.assign({},uf);const f={};Ln(c.posParams,(_,b)=>{f[b]=_.path});const m=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:m,positionalParamSegments:null!==(o=c.posParams)&&void 0!==o?o:{}}}function cf(i,e,t,o,s="corrected"){if(t.length>0&&function(i,e,t){return t.some(o=>Zc(i,e,o)&&Lt(o)!==ft)}(i,t,o)){const f=new yt(e,function(i,e,t,o){const s={};s[ft]=o,o._sourceSegment=i,o._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Lt(c)!==ft){const f=new yt([],{});f._sourceSegment=i,f._segmentIndexShift=e.length,s[Lt(c)]=f}return s}(i,e,o,new yt(t,i.children)));return f._sourceSegment=i,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(i,e,t){return t.some(o=>Zc(i,e,o))}(i,t,o)){const f=new yt(i.segments,function(i,e,t,o,s,c){const f={};for(const m of o)if(Zc(i,t,m)&&!s[Lt(m)]){const _=new yt([],{});_._sourceSegment=i,_._segmentIndexShift="legacy"===c?i.segments.length:e.length,f[Lt(m)]=_}return Object.assign(Object.assign({},s),f)}(i,e,t,o,i.children,s));return f._sourceSegment=i,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const c=new yt(i.segments,i.children);return c._sourceSegment=i,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function Zc(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Kw(i,e,t,o){return!!(Lt(i)===o||o!==ft&&Zc(e,t,i))&&("**"===i.path||lf(e,i,t).matched)}function Qw(i,e,t){return 0===e.length&&!i.children[t]}class Yc{constructor(e){this.segmentGroup=e||null}}class Sm{constructor(e){this.urlTree=e}}function Lu(i){return new Dn.y(e=>e.error(new Yc(i)))}function Am(i){return new Dn.y(e=>e.error(new Sm(i)))}function oA(i){return new Dn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class df{constructor(e,t,o,s,c){this.configLoader=t,this.urlSerializer=o,this.urlTree=s,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=cf(this.urlTree.root,[],[],this.config).segmentGroup,t=new yt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ft).pipe((0,He.U)(c=>this.createUrlTree(Im(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Iu(c=>{if(c instanceof Sm)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Yc?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ft).pipe((0,He.U)(s=>this.createUrlTree(Im(s),e.queryParams,e.fragment))).pipe(Iu(s=>{throw s instanceof Yc?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,o){const s=e.segments.length>0?new yt([],{[ft]:e}):e;return new ua(s,t,o)}expandSegmentGroup(e,t,o,s){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe((0,He.U)(c=>new yt([],c))):this.expandSegment(e,o,t,o.segments,s,!0)}expandChildren(e,t,o){const s=[];for(const c of Object.keys(o.children))"primary"===c?s.unshift(c):s.push(c);return(0,Ut.D)(s).pipe(io(c=>{const f=o.children[c],m=Nu(t,c);return this.expandSegmentGroup(e,m,f,c).pipe((0,He.U)(_=>({segment:_,outlet:c})))}),Au((c,f)=>(c[f.outlet]=f.segment,c),{}),function(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Pr((s,c)=>i(s,c,o)):No.y,vw(1),t?Mi(e):Rc(()=>new Ic))}())}expandSegment(e,t,o,s,c,f){return(0,Ut.D)(o).pipe(io(m=>this.expandSegmentAgainstRoute(e,t,o,m,s,c,f).pipe(Iu(b=>{if(b instanceof Yc)return(0,Ve.of)(null);throw b}))),sa(m=>!!m),Iu((m,_)=>{if(m instanceof Ic||"EmptyError"===m.name){if(Qw(t,s,c))return(0,Ve.of)(new yt([],{}));throw new Yc(t)}throw m}))}expandSegmentAgainstRoute(e,t,o,s,c,f,m){return Kw(s,t,c,f)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,c,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,s,c,f):Lu(t):Lu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,s,c,f){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,s,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,s,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,s){const c=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Am(c):this.lineralizeSegments(o,c).pipe((0,kr.zg)(f=>{const m=new yt(f,{});return this.expandSegment(e,m,t,f,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,s,c,f){const{matched:m,consumedSegments:_,lastChild:b,positionalParamSegments:C}=lf(t,s,c);if(!m)return Lu(t);const D=this.applyRedirectCommands(_,s.redirectTo,C);return s.redirectTo.startsWith("/")?Am(D):this.lineralizeSegments(s,D).pipe((0,kr.zg)(S=>this.expandSegment(e,t,o,S.concat(c.slice(b)),f,!1)))}matchSegmentAgainstRoute(e,t,o,s,c){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Ve.of)(o._loadedConfig):this.configLoader.load(e.injector,o)).pipe((0,He.U)(S=>(o._loadedConfig=S,new yt(s,{})))):(0,Ve.of)(new yt(s,{}));const{matched:f,consumedSegments:m,lastChild:_}=lf(t,o,s);if(!f)return Lu(t);const b=s.slice(_);return this.getChildConfig(e,o,s).pipe((0,kr.zg)(D=>{const S=D.module,I=D.routes,{segmentGroup:O,slicedSegments:N}=cf(t,m,b,I),G=new yt(O.segments,O.children);if(0===N.length&&G.hasChildren())return this.expandChildren(S,I,G).pipe((0,He.U)(De=>new yt(m,De)));if(0===I.length&&0===N.length)return(0,Ve.of)(new yt(m,{}));const te=Lt(o)===c;return this.expandSegment(S,G,I,N,te?ft:c,!0).pipe((0,He.U)(ye=>new yt(m.concat(ye.segments),ye.children)))}))}getChildConfig(e,t,o){return t.children?(0,Ve.of)(new Dm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ve.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,o).pipe((0,kr.zg)(s=>{return s?this.configLoader.load(e.injector,t).pipe((0,He.U)(c=>(t._loadedConfig=c,c))):(i=t,new Dn.y(e=>e.error(aa(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Ve.of)(new Dm([],e))}runCanLoadGuards(e,t,o){const s=t.canLoad;if(!s||0===s.length)return(0,Ve.of)(!0);const c=s.map(f=>{const m=e.get(f);let _;if((i=m)&&ao(i.canLoad))_=m.canLoad(t,o);else{if(!ao(m))throw new Error("Invalid CanLoad guard");_=m(t,o)}var i;return xi(_)});return(0,Ve.of)(c).pipe(sf(),(0,dr.b)(f=>{if(!fa(f))return;const m=aa(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,He.U)(f=>!0===f))}lineralizeSegments(e,t){let o=[],s=t.root;for(;;){if(o=o.concat(s.segments),0===s.numberOfChildren)return(0,Ve.of)(o);if(s.numberOfChildren>1||!s.children[ft])return oA(e.redirectTo);s=s.children[ft]}}applyRedirectCommands(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreatreUrlTree(e,t,o,s){const c=this.createSegmentGroup(e,t.root,o,s);return new ua(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return Ln(e,(s,c)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);o[c]=t[m]}else o[c]=s}),o}createSegmentGroup(e,t,o,s){const c=this.createSegments(e,t.segments,o,s);let f={};return Ln(t.children,(m,_)=>{f[_]=this.createSegmentGroup(e,m,o,s)}),new yt(c,f)}createSegments(e,t,o,s){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,s):this.findOrReturn(c,o))}findPosParam(e,t,o){const s=o[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let o=0;for(const s of t){if(s.path===e.path)return t.splice(o),s;o++}return e}}function Im(i){const e={};for(const o of Object.keys(i.children)){const c=Im(i.children[o]);(c.segments.length>0||c.hasChildren())&&(e[o]=c)}return function(i){if(1===i.numberOfChildren&&i.children[ft]){const e=i.children[ft];return new yt(i.segments.concat(e.segments),e.children)}return i}(new yt(i.segments,e))}class Xw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hf{constructor(e,t){this.component=e,this.route=t}}function aA(i,e,t){const o=i._root;return fr(o,e?e._root:null,t,[o.value])}function ff(i,e,t){const o=function(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(o?o.module.injector:t).get(i)}function fr(i,e,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=ku(e);return i.children.forEach(f=>{(function(i,e,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=i.value,f=e?e.value:null,m=t?t.getContext(i.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const _=function(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!la(i.url,e.url);case"pathParamsOrQueryParamsChange":return!la(i.url,e.url)||!Oi(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vm(i,e)||!Oi(i.queryParams,e.queryParams);case"paramsChange":default:return!vm(i,e)}}(f,c,c.routeConfig.runGuardsAndResolvers);_?s.canActivateChecks.push(new Xw(o)):(c.data=f.data,c._resolvedData=f._resolvedData),fr(i,e,c.component?m?m.children:null:t,o,s),_&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new hf(m.outlet.component,f))}else f&&Wc(e,m,s),s.canActivateChecks.push(new Xw(o)),fr(i,null,c.component?m?m.children:null:t,o,s)})(f,c[f.value.outlet],t,o.concat([f.value]),s),delete c[f.value.outlet]}),Ln(c,(f,m)=>Wc(f,t.getContext(m),s)),s}function Wc(i,e,t){const o=ku(i),s=i.value;Ln(o,(c,f)=>{Wc(c,s.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new hf(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class OO{}function fA(i){return new Dn.y(e=>e.error(i))}class xO{constructor(e,t,o,s,c,f){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const e=cf(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ft);if(null===t)return null;const o=new ef([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Nr(o,t),c=new Lw(this.url,s);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,o=Fw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)}processChildren(e,t){const o=[];for(const c of Object.keys(t.children)){const f=t.children[c],m=Nu(e,c),_=this.processSegmentGroup(m,f,c);if(null===_)return null;o.push(..._)}const s=o0(o);return s.sort((e,t)=>e.value.outlet===ft?-1:t.value.outlet===ft?1:e.value.outlet.localeCompare(t.value.outlet)),s}processSegment(e,t,o,s){for(const c of e){const f=this.processSegmentAgainstRoute(c,t,o,s);if(null!==f)return f}return Qw(t,o,s)?[]:null}processSegmentAgainstRoute(e,t,o,s){if(e.redirectTo||!Kw(e,t,o,s))return null;let c,f=[],m=[];if("**"===e.path){const I=o.length>0?xu(o).parameters:{};c=new ef(o,I,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xm(e),Lt(e),e.component,e,Bu(t),Om(t)+o.length,gf(e))}else{const I=lf(t,e,o);if(!I.matched)return null;f=I.consumedSegments,m=o.slice(I.lastChild),c=new ef(f,I.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xm(e),Lt(e),e.component,e,Bu(t),Om(t)+f.length,gf(e))}const _=(i=e).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:b,slicedSegments:C}=cf(t,f,m,_.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);var i;if(0===C.length&&b.hasChildren()){const I=this.processChildren(_,b);return null===I?null:[new Nr(c,I)]}if(0===_.length&&0===C.length)return[new Nr(c,[])];const D=Lt(e)===s,S=this.processSegment(_,b,C,D?ft:s);return null===S?null:[new Nr(c,S)]}}function Rm(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function o0(i){const e=[],t=new Set;for(const o of i){if(!Rm(o)){e.push(o);continue}const s=e.find(c=>o.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...o.children),t.add(s)):e.push(o)}for(const o of t){const s=o0(o.children);e.push(new Nr(o.value,s))}return e.filter(o=>!t.has(o))}function Bu(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Om(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function xm(i){return i.data||{}}function gf(i){return i.resolve||{}}function mf(i){return Wt(e=>{const t=i(e);return t?(0,Ut.D)(t).pipe((0,He.U)(()=>e)):(0,Ve.of)(e)})}class mA extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Nm=new d.OlP("ROUTES");class a0{constructor(e,t,o,s){this.loader=e,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,He.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=c.create(e);return new Dm(ms(f.injector.get(Nm,void 0,d.XFs.Self|d.XFs.Optional)).map(af),f)}),Iu(c=>{throw t._loader$=void 0,c}));return t._loader$=new Su.c(s,()=>new pt.xQ).pipe((0,CO.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Ut.D)(this.loader.load(e)):xi(e()).pipe((0,kr.zg)(t=>t instanceof d.YKP?(0,Ve.of)(t):(0,Ut.D)(this.compiler.compileModuleAsync(t))))}}class yA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hu,this.attachRef=null}}class Hu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new yA,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class u0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Lm(i){throw i}function l0(i,e,t){return e.parse("/")}function yf(i,e){return(0,Ve.of)(null)}const vA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pr=(()=>{class i{constructor(t,o,s,c,f,m,_,b){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=s,this.location=c,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pt.xQ,this.errorHandler=Lm,this.malformedUriErrorHandler=l0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yf,afterPreactivation:yf},this.urlHandlingStrategy=new u0,this.routeReuseStrategy=new mA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(d.h0i),this.console=f.get(d.c2e);const S=f.get(d.R0b);this.isNgZoneEnabled=S instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=new ua(new yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new a0(m,_,I=>this.triggerEvent(new xc(I)),I=>this.triggerEvent(new jS(I))),this.routerState=kw(this.currentUrlTree,this.rootComponentType),this.transitions=new xr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(Pr(s=>0!==s.id),(0,He.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Wt(s=>{let c=!1,f=!1;return(0,Ve.of)(s).pipe((0,dr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Wt(m=>{const _=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString(),b=("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl);if(co(m.source)&&(this.browserUrlTree=m.rawUrl),b)return(0,Ve.of)(m).pipe(Wt(C=>{const D=this.transitions.getValue();return o.next(new ww(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),D!==this.transitions.getValue()?Ii.E:Promise.resolve(C)}),function(i,e,t,o){return Wt(s=>function(i,e,t,o,s){return new df(i,e,t,o,s).apply()}(i,e,t,s.extractedUrl,o).pipe((0,He.U)(c=>Object.assign(Object.assign({},s),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,dr.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(i,e,t,o,s){return(0,kr.zg)(c=>function(i,e,t,o,s="emptyOnly",c="legacy"){try{const f=new xO(i,e,t,o,s,c).recognize();return null===f?fA(new OO):(0,Ve.of)(f)}catch(f){return fA(f)}}(i,e,c.urlAfterRedirects,t(c.urlAfterRedirects),o,s).pipe((0,He.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,dr.b)(C=>{"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(C.urlAfterRedirects,C),this.browserUrlTree=C.urlAfterRedirects);const D=new VS(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);o.next(D)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:S,source:I,restoredState:O,extras:N}=m,G=new ww(D,this.serializeUrl(S),I,O);o.next(G);const te=kw(S,this.rootComponentType).snapshot;return(0,Ve.of)(Object.assign(Object.assign({},m),{targetSnapshot:te,urlAfterRedirects:S,extras:Object.assign(Object.assign({},N),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Ii.E}),mf(m=>{const{targetSnapshot:_,id:b,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:S,replaceUrl:I}}=m;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!S,replaceUrl:!!I})}),(0,dr.b)(m=>{const _=new US(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),(0,He.U)(m=>Object.assign(Object.assign({},m),{guards:aA(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(i,e){return(0,kr.zg)(t=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:f}}=t;return 0===f.length&&0===c.length?(0,Ve.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(i,e,t,o){return(0,Ut.D)(i).pipe((0,kr.zg)(s=>function(i,e,t,o,s){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ve.of)(!0);const f=c.map(m=>{const _=ff(m,e,s);let b;if(function(i){return i&&ao(i.canDeactivate)}(_))b=xi(_.canDeactivate(i,e,t,o));else{if(!ao(_))throw new Error("Invalid CanDeactivate guard");b=xi(_(i,e,t,o))}return b.pipe(sa())});return(0,Ve.of)(f).pipe(sf())}(s.component,s.route,t,e,o)),sa(s=>!0!==s,!0))}(f,o,s,i).pipe((0,kr.zg)(m=>m&&function(i){return"boolean"==typeof i}(m)?function(i,e,t,o){return(0,Ut.D)(e).pipe(io(s=>Mc(function(i,e){return null!==i&&e&&e(new Pc(i)),(0,Ve.of)(!0)}(s.route.parent,o),function(i,e){return null!==i&&e&&e(new Ru(i)),(0,Ve.of)(!0)}(s.route,o),function(i,e,t){const o=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(f=>function(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(f)).filter(f=>null!==f).map(f=>ps(()=>{const m=f.guards.map(_=>{const b=ff(_,f.node,t);let C;if(function(i){return i&&ao(i.canActivateChild)}(b))C=xi(b.canActivateChild(o,i));else{if(!ao(b))throw new Error("Invalid CanActivateChild guard");C=xi(b(o,i))}return C.pipe(sa())});return(0,Ve.of)(m).pipe(sf())}));return(0,Ve.of)(c).pipe(sf())}(i,s.path,t),function(i,e,t){const o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Ve.of)(!0);const s=o.map(c=>ps(()=>{const f=ff(c,e,t);let m;if(function(i){return i&&ao(i.canActivate)}(f))m=xi(f.canActivate(e,i));else{if(!ao(f))throw new Error("Invalid CanActivate guard");m=xi(f(e,i))}return m.pipe(sa())}));return(0,Ve.of)(s).pipe(sf())}(i,s.route,t))),sa(s=>!0!==s,!0))}(o,c,i,e):(0,Ve.of)(m)),(0,He.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,dr.b)(m=>{if(fa(m.guardsResult)){const b=aa(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw b.url=m.guardsResult,b}const _=new BS(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(_)}),Pr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),mf(m=>{if(m.guards.canActivateChecks.length)return(0,Ve.of)(m).pipe((0,dr.b)(_=>{const b=new Oc(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Wt(_=>{let b=!1;return(0,Ve.of)(_).pipe(function(i,e){return(0,kr.zg)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:s}}=t;if(!s.length)return(0,Ve.of)(t);let c=0;return(0,Ut.D)(s).pipe(io(f=>function(i,e,t,o){return function(i,e,t,o){const s=Object.keys(i);if(0===s.length)return(0,Ve.of)({});const c={};return(0,Ut.D)(s).pipe((0,kr.zg)(f=>function(i,e,t,o){const s=ff(i,e,o);return xi(s.resolve?s.resolve(e,t):s(e,t))}(i[f],e,t,o).pipe((0,dr.b)(m=>{c[f]=m}))),vw(1),(0,kr.zg)(()=>Object.keys(c).length===s.length?(0,Ve.of)(c):Ii.E))}(i._resolve,i,e,o).pipe((0,He.U)(c=>(i._resolvedData=c,i.data=Object.assign(Object.assign({},i.data),Fw(i,t).resolve),null)))}(f.route,o,i,e)),(0,dr.b)(()=>c++),vw(1),(0,kr.zg)(f=>c===s.length?(0,Ve.of)(t):Ii.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,dr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,dr.b)(_=>{const b=new hm(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),mf(m=>{const{targetSnapshot:_,id:b,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:S,replaceUrl:I}}=m;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!S,replaceUrl:!!I})}),(0,He.U)(m=>{const _=function(i,e,t){const o=Hc(i,e._root,t?t._root:void 0);return new Pw(o,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:_})}),(0,dr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((i,e,t)=>(0,He.U)(o=>(new QS(e,o.targetRouterState,o.currentRouterState,t).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,dr.b)({next(){c=!0},complete(){c=!0}}),cm(()=>{if(!c&&!f){const m=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,m)):this.cancelNavigationTransition(s,m)}this.currentNavigation=null}),Iu(m=>{if(f=!0,function(i){return i&&i[Yh]}(m)){const _=fa(m.url);_||(this.navigated=!0,this.restoreHistory(s,!0));const b=new Cw(s.id,this.serializeUrl(s.extractedUrl),m.message);o.next(b),_?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),D={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||co(s.source)};this.scheduleNavigation(C,"imperative",null,D,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const _=new LS(s.id,this.serializeUrl(s.extractedUrl),m);o.next(_);try{s.resolve(this.errorHandler(m))}catch(b){s.reject(b)}}return Ii.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:s,state:c,urlTree:f}=o,m={replaceUrl:!0};if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(m.state=_)}this.scheduleNavigation(f,s,c,m)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(t){var o;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,o){if(!t)return!0;const s=o.urlTree.toString()===t.urlTree.toString();return o.transitionId!==t.transitionId||!s||!("hashchange"===o.source&&"popstate"===t.source||"popstate"===o.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hr(t),this.config=t.map(af),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:s,queryParams:c,fragment:f,queryParamsHandling:m,preserveFragment:_}=o,b=s||this.routerState.root,C=_?this.currentUrlTree.fragment:f;let D=null;switch(m){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=c||null}return null!==D&&(D=this.removeEmptyProps(D)),function(i,e,t,o,s){if(0===t.length)return Hw(e.root,e.root,e,o,s);const c=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new nf(!0,0,i);let e=0,t=!1;const o=i.reduce((s,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Ln(c.outlets,(_,b)=>{m[b]="string"==typeof _?_.split("/"):_}),[...s,{outlets:m}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===f?(c.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,c]},[]);return new nf(t,e,o)}(t);if(c.toRoot())return Hw(e.root,new yt([],{}),e,o,s);const f=function(i,e,t){if(i.isAbsolute)return new zc(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new zc(c,c===e.root,0)}const o=qc(i.commands[0])?0:1;return function(i,e,t){let o=i,s=e,c=t;for(;c>s;){if(c-=s,o=o.parent,!o)throw new Error("Invalid number of '../'");s=o.segments.length}return new zc(o,!1,s-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(c,e,i),m=f.processChildren?rf(f.segmentGroup,f.index,c.commands):qw(f.segmentGroup,f.index,c.commands);return Hw(f.segmentGroup,m,e,o,s)}(b,this.currentUrlTree,t,D,null!=C?C:null)}navigateByUrl(t,o={skipLocationChange:!1}){const s=fa(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(s){o=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return o}isActive(t,o){let s;if(s=!0===o?Object.assign({},vA):!1===o?Object.assign({},bA):o,fa(t))return Fc(this.currentUrlTree,t,s);const c=this.parseUrl(t);return Fc(this.currentUrlTree,c,s)}removeEmptyProps(t){return Object.keys(t).reduce((o,s)=>{const c=t[s];return null!=c&&(o[s]=c),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Mu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,s,c,f){var m,_;if(this.disposed)return Promise.resolve(!1);const b=this.getTransition(),C=co(o)&&b&&!co(b.source),I=(this.lastSuccessfulId===b.id||this.currentNavigation?b.rawUrl:b.urlAfterRedirects).toString()===t.toString();if(C&&I)return Promise.resolve(!0);let O,N,G;f?(O=f.resolve,N=f.reject,G=f.promise):G=new Promise((ye,De)=>{O=ye,N=De});const te=++this.navigationId;let fe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),fe=s&&s.\u0275routerPageId?s.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):fe=0,this.setTransition({id:te,targetPageId:fe,source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:O,reject:N,promise:G,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),G.catch(ye=>Promise.reject(ye))}setBrowserUrl(t,o){const s=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl?this.location.replaceState(s,"",c):this.location.go(s,"",c)}restoreHistory(t,o=!1){var s,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o){const s=new Cw(t.id,this.serializeUrl(t.extractedUrl),o);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(d.DyG),d.LFG(Kh),d.LFG(Hu),d.LFG(lt),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function co(i){return"imperative"!==i}let Kc=(()=>{class i{constructor(t,o,s,c,f){this.router=t,this.route=o,this.commands=[],this.onChanges=new pt.xQ,null==s&&c.setAttribute(f.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:qu(this.skipLocationChange),replaceUrl:qu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qu(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(pr),d.Y36(ha),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,o){1&t&&d.NdJ("click",function(){return o.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),i})(),Gu=(()=>{class i{constructor(t,o,s){this.router=t,this.route=o,this.locationStrategy=s,this.commands=[],this.onChanges=new pt.xQ,this.subscription=t.events.subscribe(c=>{c instanceof Mu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,s,c,f){if(0!==t||o||s||c||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const m={skipLocationChange:qu(this.skipLocationChange),replaceUrl:qu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qu(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(pr),d.Y36(ha),d.Y36(ce))},i.\u0275dir=d.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&d.NdJ("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&(d.Ikx("href",o.href,d.LSH),d.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),i})();function qu(i){return""===i||!!i}let vf=(()=>{class i{constructor(t,o,s,c,f){this.parentContexts=t,this.location=o,this.resolver=s,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=c||ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(o=o||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,_=new d0(t,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(Hu),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},i.\u0275dir=d.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class d0{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===ha?this.route:e===Hu?this.childContexts:this.parent.get(e,t)}}class Vm{}class Bm{preload(e,t){return(0,Ve.of)(null)}}let Qc=(()=>{class i{constructor(t,o,s,c,f){this.router=t,this.injector=c,this.preloadingStrategy=f,this.loader=new a0(o,s,b=>t.triggerEvent(new xc(b)),b=>t.triggerEvent(new jS(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pr(t=>t instanceof Mu),io(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const s=[];for(const c of o)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;s.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?s.push(this.preloadConfig(t,c)):c.children&&s.push(this.processRoutes(t,c.children));return(0,Ut.D)(s).pipe((0,Fo.J)(),(0,He.U)(c=>{}))}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Ve.of)(o._loadedConfig):this.loader.load(t.injector,o)).pipe((0,kr.zg)(c=>(o._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(pr),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Vm))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),zu=(()=>{class i{constructor(t,o,s={}){this.router=t,this.viewportScroller=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ww?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ew&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new Ew(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(pr),d.LFG(Hg),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Lo=new d.OlP("ROUTER_CONFIGURATION"),jm=new d.OlP("ROUTER_FORROOT_GUARD"),Jc=[lt,{provide:Kh,useClass:Aw},{provide:pr,useFactory:function(i,e,t,o,s,c,f,m={},_,b){const C=new pr(null,i,e,t,o,s,c,ms(f));return _&&(C.urlHandlingStrategy=_),b&&(C.routeReuseStrategy=b),function(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy)}(m,C),m.enableTracing&&C.events.subscribe(D=>{var S,I;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(I=console.groupEnd)||void 0===I||I.call(console)}),C},deps:[Kh,Hu,lt,d.zs3,d.v3s,d.Sil,Nm,Lo,[class{},new d.FiY],[class{},new d.FiY]]},Hu,{provide:ha,useFactory:function(i){return i.routerState.root},deps:[pr]},{provide:d.v3s,useClass:d.EAV},Qc,Bm,class{preload(e,t){return t().pipe(Iu(()=>(0,Ve.of)(null)))}},{provide:Lo,useValue:{enableTracing:!1}}];function EA(){return new d.PXZ("Router",pr)}let Gm=(()=>{class i{constructor(t,o){}static forRoot(t,o){return{ngModule:i,providers:[Jc,bf(t),{provide:jm,useFactory:h0,deps:[[pr,new d.FiY,new d.tp0]]},{provide:Lo,useValue:o||{}},{provide:ce,useFactory:TA,deps:[X,[new d.tBr(ke),new d.FiY],Lo]},{provide:zu,useFactory:DA,deps:[pr,Hg,Lo]},{provide:Vm,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Bm},{provide:d.PXZ,multi:!0,useFactory:EA},[qm,{provide:d.ip1,multi:!0,useFactory:g0,deps:[qm]},{provide:m0,useFactory:SA,deps:[qm]},{provide:d.tb,multi:!0,useExisting:m0}]]}}static forChild(t){return{ngModule:i,providers:[bf(t)]}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(jm,8),d.LFG(pr,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function DA(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new zu(i,e,t)}function TA(i,e,t={}){return t.useHash?new fn(i,e):new ht(i,e)}function h0(i){return"guarded"}function bf(i){return[{provide:d.deG,multi:!0,useValue:i},{provide:Nm,multi:!0,useValue:i}]}let qm=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pt.xQ}appInitializer(){return this.injector.get(x,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const s=new Promise(m=>o=m),c=this.injector.get(pr),f=this.injector.get(Lo);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),o(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Ve.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),c.initialNavigation()):o(!0),s})}bootstrapListener(t){const o=this.injector.get(Lo),s=this.injector.get(Qc),c=this.injector.get(zu),f=this.injector.get(pr),m=this.injector.get(d.z2F);t===m.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&f.initialNavigation(),s.setUpPreloading(),c.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function g0(i){return i.appInitializer.bind(i)}function SA(i){return i.bootstrapListener.bind(i)}const m0=new d.OlP("Router Initializer"),y0=function(){return["/photo-gallery"]};let AA=(()=>{class i{constructor(){this.currentBackgroundImage="",this.currentBackgroundImageIndx=0,this.backgroundImageOptions=["../../../assets/background-hero-images/el_capitan_pano.jpg","../../../assets/background-hero-images/forest_background.jpg","../../../assets/background-hero-images/river_el_capitan_background.jpg"],this.currentBackgroundImage=this.backgroundImageOptions[this.currentBackgroundImageIndx],setInterval(this.changeBackgroundImage.bind(this),3e3)}ngOnInit(){}changeBackgroundImage(){this.currentBackgroundImageIndx+=1,this.currentBackgroundImageIndx>=this.backgroundImageOptions.length&&(this.currentBackgroundImageIndx=0),this.currentBackgroundImage=this.backgroundImageOptions[this.currentBackgroundImageIndx]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-home"]],decls:36,vars:5,consts:[[1,"hero","is-fullheight"],[1,"hero-body"],[1,""],[1,"title","is-size-1"],[1,"subtitle","is-size-2"],[1,"section"],[1,"columns"],[1,"column","is-one-third","is-left-image"],[1,"image","is-4by5"],["src","../../../assets/about_me_image.jpg"],["id","aboutme",1,"column","grey","center"],[1,"title"],[1,"is-size-5"],[1,"column","grey","center"],[1,"button","is-link",3,"routerLink"],[1,"column","is-one-third","is-right-image"],[1,"image","is-square"],["src","../../../assets/photography_section_image.JPG",1,"photography-image"]],template:function(t,o){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"p",3),d._uU(4," David Jose Fernandez "),d.qZA(),d.TgZ(5,"p",4),d._uU(6," Athelete | Software Engineer | Adventurer "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"section",5),d.TgZ(8,"div",6),d.TgZ(9,"div",7),d.TgZ(10,"figure",8),d._UZ(11,"img",9),d.qZA(),d.qZA(),d.TgZ(12,"div",10),d.TgZ(13,"div"),d.TgZ(14,"h1",11),d._uU(15," About Me "),d.qZA(),d.TgZ(16,"p",12),d._uU(17," Hello there, I\u2019m glad you stumbled upon my webpage. Yes, indeed that is me in those pictures. My name is David Jose Fernandez and I am a second year Computer Science student at the Georgia Institute of Technology, or as I\u2019ll be calling it for at least the next few years, home. Although I am currently living in the United States, I was born and raised in a the Dominican Republic, a small country in the island of Hispa\xf1ola. As you can probably tell by my pictures, I am a pretty active person and love to go outside and experience the world through all sorts of crazy adventures. From diving deep into our oceans to climbing mountains who\u2019s peaks are well over five thousand meters above sea level. "),d.qZA(),d.TgZ(18,"p",12),d._uU(19," In this webpage you will find all sorts of information about me. Ranging from my resume, to various projects in which I have worked in the past, as well as previous job experiences. "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"section",5),d.TgZ(21,"div",6),d.TgZ(22,"div",13),d.TgZ(23,"div"),d.TgZ(24,"h1",11),d._uU(25," Photo Gallery "),d.qZA(),d._UZ(26,"br"),d.TgZ(27,"p",12),d._uU(28," Here you will find photographs of places I've taken while on my various trips. I wouldn't call myself and expert but I do enjoy taking photographs as a hobby. I hope you find these as enjoyable as I do! "),d.qZA(),d._UZ(29,"br"),d._UZ(30,"br"),d.TgZ(31,"button",14),d._uU(32,"Go To Photo Gallery"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(33,"div",15),d.TgZ(34,"figure",16),d._UZ(35,"img",17),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.Jzz("background-image: url(",o.currentBackgroundImage,")"),d.xp6(31),d.Q6J("routerLink",d.DdM(4,y0)))},directives:[Kc],styles:["section.hero[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover;opacity:1;transition:background 1.5s ease-in}.hero[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;text-shadow:-1px 0 black,0 1px black,1px 0 black,0 -1px black}.hero[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#fff;text-shadow:-1px 0 black,0 1px black,1px 0 black,0 -1px black}section[_ngcontent-%COMP%]   .grey[_ngcontent-%COMP%]{background-color:#a9a9a9}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.image[_ngcontent-%COMP%]{width:100%;height:100%}"]}),i})();var IA=P(7771),ho=P(9746),MA=P(8858);class zm extends pt.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new RA(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,o=t?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,c=o.length;let f;if(this.closed)throw new Du.N;if(this.isStopped||this.hasError?f=Ri.w.EMPTY:(this.observers.push(e),f=new MA.W(this,e)),s&&e.add(e=new ho.ht(e,s)),t)for(let m=0;m<c&&!e.closed;m++)e.next(o[m]);else for(let m=0;m<c&&!e.closed;m++)e.next(o[m].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||IA.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,o=this._windowTime,s=this._events,c=s.length;let f=0;for(;f<c&&!(e-s[f].time<o);)f++;return c>t&&(f=Math.max(f,c-t)),f>0&&s.splice(0,f),s}}class RA{constructor(e,t){this.time=e,this.value=t}}let wf=(()=>{class i{constructor(){this.authStateChange=new zm(1),this.superSecretPassword="L3tme!n",this.authStateChange.next(!1)}updateLogin(t){return t===this.superSecretPassword?(this.authStateChange.next(!0),!0):(this.authStateChange.next(!1),!1)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Xc=P(3637);function Qe(){return i=>i.lift(new _0)}class _0{call(e,t){return t.subscribe(new v0(e))}}class v0 extends Nn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class Ni{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new b0(e,this.compare,this.keySelector))}}class b0 extends Nn.L{constructor(e,t,o){super(e),this.keySelector=o,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:s}=this;t=s?s(e):e}catch(s){return this.destination.error(s)}let o=!1;if(this.hasKey)try{const{compare:s}=this;o=s(this.key,t)}catch(s){return this.destination.error(s)}else this.hasKey=!0;o||(this.key=t,this.destination.next(e))}}var kt=P(57),$m=P(2329),Li=P(9759),M=P(4762),ut=P(4685),Vo=P(300),w0=function(i,e){return(w0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])})(i,e)};function OA(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],o=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ie,Uo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zu=Zu||{},et=Uo||self;function Zm(){}function Ym(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Yu(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Wm="closure_uid_"+(1e9*Math.random()>>>0),LO=0;function E0(i,e,t){return i.call.apply(i.bind,arguments)}function D0(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,o),i.apply(e,s)}}return function(){return i.apply(e,arguments)}}function Jn(i,e,t){return(Jn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E0:D0).apply(null,arguments)}function Wu(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function gr(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,s,c){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return e.prototype[s].apply(o,f)}}function pa(){this.s=this.s,this.o=this.o}var UO={};pa.prototype.s=!1,pa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Wm)&&i[Wm]||(i[Wm]=++LO)}(this);delete UO[i]}},pa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xA=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(var t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},PA=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){for(var o=i.length,s="string"==typeof i?i.split(""):i,c=0;c<o;c++)c in s&&e.call(t,s[c],c,i)};function kA(i){return Array.prototype.concat.apply([],arguments)}function T0(i){var e=i.length;if(0<e){for(var t=Array(e),o=0;o<e;o++)t[o]=i[o];return t}return[]}function Km(i){return/^[\s\xa0]*$/.test(i)}var Dr,FA=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function cn(i,e){return-1!=i.indexOf(e)}function ed(i,e){return i<e?-1:i>e?1:0}e:{var Qm=et.navigator;if(Qm){var Cf=Qm.userAgent;if(Cf){Dr=Cf;break e}}Dr=""}function Ef(i,e,t){for(var o in i)e.call(t,i[o],o,i)}function Df(i){var e={};for(var t in i)e[t]=i[t];return e}var S0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bo(i,e){for(var t,o,s=1;s<arguments.length;s++){for(t in o=arguments[s])i[t]=o[t];for(var c=0;c<S0.length;c++)t=S0[c],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Tf(i){return Tf[" "](i),i}Tf[" "]=Zm;var jo,i,jO=cn(Dr,"Opera"),vs=cn(Dr,"Trident")||cn(Dr,"MSIE"),A0=cn(Dr,"Edge"),Sf=A0||vs,I0=cn(Dr,"Gecko")&&!(cn(Dr.toLowerCase(),"webkit")&&!cn(Dr,"Edge"))&&!(cn(Dr,"Trident")||cn(Dr,"MSIE"))&&!cn(Dr,"Edge"),LA=cn(Dr.toLowerCase(),"webkit")&&!cn(Dr,"Edge");function Ku(){var i=et.document;return i?i.documentMode:void 0}e:{var td="",bs=(i=Dr,I0?/rv:([^\);]+)(\)|;)/.exec(i):A0?/Edge\/([\d\.]+)/.exec(i):vs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):LA?/WebKit\/(\S+)/.exec(i):jO?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(bs&&(td=bs?bs[1]:""),vs){var ga=Ku();if(null!=ga&&ga>parseFloat(td)){jo=String(ga);break e}}jo=td}var Qu={};function VA(){return e=Qu,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var i=0,e=FA(String(jo)).split("."),t=FA("9").split("."),o=Math.max(e.length,t.length),s=0;0==i&&s<o;s++){var c=e[s]||"",f=t[s]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;i=ed(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||ed(0==c[2].length,0==f[2].length)||ed(c[2],f[2]),c=c[3],f=f[3]}while(0==i)}return 0<=i}();var e}var Xm=et.document&&vs&&(Ku()||parseInt(jo,10))||void 0,ey=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{et.addEventListener("test",Zm,e),et.removeEventListener("test",Zm,e)}catch(t){}return i}();function Xn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function ws(i,e){if(Xn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(I0){e:{try{Tf(e.nodeName);var s=!0;break e}catch(c){}s=!1}s||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:UA[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ws.Z.h.call(this)}}Xn.prototype.h=function(){this.defaultPrevented=!0},gr(ws,Xn);var UA={2:"touch",3:"pen",4:"mouse"};ws.prototype.h=function(){ws.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ju="closure_listenable_"+(1e6*Math.random()|0),HO=0;function M0(i,e,t,o,s){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=s,this.key=++HO,this.ca=this.fa=!1}function nd(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function If(i){this.src=i,this.g={},this.h=0}function Mf(i,e){var t=e.type;if(t in i.g){var c,o=i.g[t],s=xA(o,e);(c=0<=s)&&Array.prototype.splice.call(o,s,1),c&&(nd(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ty(i,e,t,o){for(var s=0;s<i.length;++s){var c=i[s];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==o)return s}return-1}If.prototype.add=function(i,e,t,o,s){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=ty(i,e,o,s);return-1<f?(e=i[f],t||(e.fa=!1)):((e=new M0(e,this.src,c,!!o,s)).fa=t,i.push(e)),e};var ny="closure_lm_"+(1e6*Math.random()|0),Tr={};function R0(i,e,t,o,s){if(o&&o.once)return BA(i,e,t,o,s);if(Array.isArray(e)){for(var c=0;c<e.length;c++)R0(i,e[c],t,o,s);return null}return t=sy(t),i&&i[Ju]?i.N(e,t,Yu(o)?!!o.capture:!!o,s):O0(i,e,t,!1,o,s)}function O0(i,e,t,o,s,c){if(!e)throw Error("Invalid event type");var f=Yu(s)?!!s.capture:!!s,m=Rf(i);if(m||(i[ny]=m=new If(i)),(t=m.add(e,t,o,f,c)).proxy)return t;if(o=function(){var e=iy;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)ey||(s=f),void 0===s&&(s=!1),i.addEventListener(e.toString(),o,s);else if(i.attachEvent)i.attachEvent(P0(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function BA(i,e,t,o,s){if(Array.isArray(e)){for(var c=0;c<e.length;c++)BA(i,e[c],t,o,s);return null}return t=sy(t),i&&i[Ju]?i.O(e,t,Yu(o)?!!o.capture:!!o,s):O0(i,e,t,!0,o,s)}function ry(i,e,t,o,s){if(Array.isArray(e))for(var c=0;c<e.length;c++)ry(i,e[c],t,o,s);else o=Yu(o)?!!o.capture:!!o,t=sy(t),i&&i[Ju]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ty(c=i.g[e],t,o,s))&&(nd(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=Rf(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ty(e,t,o,s)),(t=-1<i?e[i]:null)&&x0(t))}function x0(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Ju])Mf(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(P0(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Rf(e))?(Mf(t,i),0==t.h&&(t.src=null,e[ny]=null)):nd(i)}}}function P0(i){return i in Tr?Tr[i]:Tr[i]="on"+i}function iy(i,e){if(i.ca)i=!0;else{e=new ws(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&x0(i),i=t.call(o,e)}return i}function Rf(i){return(i=i[ny])instanceof If?i:null}var oy="__closure_events_fn_"+(1e9*Math.random()>>>0);function sy(i){return"function"==typeof i?i:(i[oy]||(i[oy]=function(e){return i.handleEvent(e)}),i[oy])}function Vn(){pa.call(this),this.i=new If(this),this.P=this,this.I=null}function Un(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Xn(e,i);else if(e instanceof Xn)e.target=e.target||i;else{var s=e;Bo(e=new Xn(o,i),s)}if(s=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];s=Of(f,o,!0,e)&&s}if(s=Of(f=e.g=i,o,!0,e)&&s,s=Of(f,o,!1,e)&&s,t)for(c=0;c<t.length;c++)s=Of(f=e.g=t[c],o,!1,e)&&s}function Of(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.ca&&f.capture==t){var m=f.listener,_=f.ia||f.src;f.fa&&Mf(i.i,f),s=!1!==m.call(_,o)&&s}}return s&&!o.defaultPrevented}gr(Vn,pa),Vn.prototype[Ju]=!0,Vn.prototype.removeEventListener=function(i,e,t,o){ry(this,i,e,t,o)},Vn.prototype.M=function(){if(Vn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)nd(t[o]);delete i.g[e],i.h--}}this.I=null},Vn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Vn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var xf=et.JSON.stringify;function jA(){var i=zA,e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var rd,HA=function(){function i(){this.h=this.g=null}return i.prototype.add=function(e,t){var o=ay.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o},i}(),ay=new(function(){function i(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return i.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},i}())(function(){return new k0},function(i){return i.reset()}),k0=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function GA(i){et.setTimeout(function(){throw i},0)}function ai(i,e){rd||function(){var i=et.Promise.resolve(void 0);rd=function(){i.then(F0)}}(),uy||(rd(),uy=!0),zA.add(i,e)}var uy=!1,zA=new HA;function F0(){for(var i;i=jA();){try{i.h.call(i.g)}catch(t){GA(t)}var e=ay;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}uy=!1}function Pf(i,e){Vn.call(this),this.h=i||1,this.g=e||et,this.j=Jn(this.kb,this),this.l=Date.now()}function ly(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function cy(i,e,t){if("function"==typeof i)t&&(i=Jn(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Jn(i.handleEvent,i)}return 2147483647<Number(e)?-1:et.setTimeout(i,e||0)}function kf(i){i.g=cy(function(){i.g=null,i.i&&(i.i=!1,kf(i))},i.j);var e=i.h;i.h=null,i.m.apply(null,e)}gr(Pf,Vn),(Ie=Pf.prototype).da=!1,Ie.S=null,Ie.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Un(this,"tick"),this.da&&(ly(this),this.start()))}},Ie.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.M=function(){Pf.Z.M.call(this),ly(this),delete this.g};var $A=function(i){function e(t,o){var s=i.call(this)||this;return s.m=t,s.j=o,s.h=null,s.i=!1,s.g=null,s}return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}w0(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,i),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:kf(this)},e.prototype.M=function(){i.prototype.M.call(this),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(pa);function id(i){pa.call(this),this.h=i,this.g={}}gr(id,pa);var od=[];function Ff(i,e,t,o){Array.isArray(t)||(t&&(od[0]=t.toString()),t=od);for(var s=0;s<t.length;s++){var c=R0(e,t[s],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function N0(i){Ef(i.g,function(e,t){this.g.hasOwnProperty(t)&&x0(e)},i),i.g={}}function Xu(){this.g=!0}function el(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var s=o[1];if(Array.isArray(s)&&!(1>s.length)){var c=s[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<s.length;f++)s[f]=""}}}return xf(t)}catch(m){return e}}(i,t)+(o?" "+o:"")})}id.prototype.M=function(){id.Z.M.call(this),N0(this)},id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xu.prototype.Aa=function(){this.g=!1},Xu.prototype.info=function(){};var tl={},V0=null;function sd(){return V0=V0||new Vn}function fy(i){Xn.call(this,tl.Ma,i)}function nl(i){var e=sd();Un(e,new fy(e,i))}function py(i,e){Xn.call(this,tl.STAT_EVENT,i),this.stat=e}function mr(i){var e=sd();Un(e,new py(e,i))}function fo(i,e){Xn.call(this,tl.Na,i),this.size=e}function Cs(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){i()},e)}tl.Ma="serverreachability",gr(fy,Xn),tl.STAT_EVENT="statevent",gr(py,Xn),tl.Na="timingevent",gr(fo,Xn);var Nf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},U0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function B0(){}function gy(){}B0.prototype.h=null;var ad,Ho={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ya(){Xn.call(this,"d")}function my(){Xn.call(this,"c")}function ud(){}function ld(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new id(this),this.P=YA,this.W=new Pf(i=Sf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yy}function yy(){this.i=null,this.g="",this.h=!1}gr(ya,Xn),gr(my,Xn),gr(ud,B0),ud.prototype.g=function(){return new XMLHttpRequest},ud.prototype.i=function(){return{}},ad=new ud;var YA=45e3,cd={},Lf={};function _y(i,e,t){i.K=1,i.v=fd(Vi(e)),i.s=t,i.U=!0,vy(i,null)}function vy(i,e){i.F=Date.now(),dd(i),i.A=Vi(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),XA(t.h,"t",o),i.C=0,t=i.l.H,i.h=new yy,i.g=Ny(i.l,t?e:null,!i.s),0<i.O&&(i.L=new $A(Jn(i.Ia,i,i.g),i.O)),Ff(i.V,i.g,"readystatechange",i.gb),e=i.H?Df(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),nl(1),function(i,e,t,o,s,c){i.info(function(){if(i.g)if(c)for(var f="",m=c.split("&"),_=0;_<m.length;_++){var b=m[_].split("=");if(1<b.length){var C=b[0];b=b[1];var D=C.split("_");f=2<=D.length&&"type"==D[1]?f+(C+"=")+b+"&":f+(C+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+e+"\n"+t+"\n"+f})}(i.j,i.u,i.A,i.m,i.X,i.s)}function _a(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function by(i,e,t){for(var s,o=!0;!i.I&&i.C<t.length;){if((s=WA(i,t))==Lf){4==e&&(i.o=4,mr(14),o=!1),el(i.j,i.m,null,"[Incomplete Response]");break}if(s==cd){i.o=4,mr(15),el(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}el(i.j,i.m,s,null),wy(i,s)}_a(i)&&s!=Lf&&s!=cd&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,mr(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ts(e),e.L=!0,mr(11))):(el(i.j,i.m,t,"[Invalid Chunked Response]"),ba(i),hd(i))}function WA(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Lf:(t=Number(e.substring(t,o)),isNaN(t)?cd:(o+=1)+t>e.length?Lf:(e=e.substr(o,t),i.C=o+t,e))}function dd(i){i.Y=Date.now()+i.P,va(i,i.P)}function va(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Cs(Jn(i.eb,i),e)}function Vf(i){i.B&&(et.clearTimeout(i.B),i.B=null)}function hd(i){0==i.l.G||i.I||xy(i.l,i)}function ba(i){Vf(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,ly(i.W),N0(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function wy(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Hf(t.i,i)))if(t.I=i.N,!i.J&&Hf(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(G){o=null}if(Array.isArray(o)&&3==o.length){var s=o;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=Cs(Jn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;bd(t),Ta(t)}Ds(t),mr(18)}if(1>=$0(t.i)&&t.ka){try{t.ka()}catch(G){}t.ka=void 0}}else Ss(t,11)}else if((i.J||t.g==i)&&bd(t),!Km(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){var c=s[e];if(t.U=c[0],c=c[1],2==t.G)if("c"==c[0]){t.J=c[1],t.la=c[2];var f=c[3];null!=f&&(t.ma=f,t.h.info("VER="+t.ma));var m=c[4];null!=m&&(t.za=m,t.h.info("SVER="+t.za));var _=c[5];null!=_&&"number"==typeof _&&0<_&&(t.K=o=1.5*_,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;var b=i.g;if(b){var C=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var D=o.i;!D.g&&(cn(C,"spdy")||cn(C,"quic")||cn(C,"h2"))&&(D.j=D.l,D.g=new Set,D.h&&(Gf(D,D.h),D.h=null))}if(o.D){var S=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(o.sa=S,Ht(o.F,o.D,S))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var I=i;if((o=t).oa=Fy(o,o.H?o.la:null,o.W),I.J){rI(o.i,I);var O=I,N=o.K;N&&O.setTimeout(N),O.B&&(Vf(O),dd(O)),o.g=I}else Ia(o);0<t.l.length&&Ko(t)}else"stop"!=c[0]&&"close"!=c[0]||Ss(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ss(t,7):Wo(t):"noop"!=c[0]&&t.j&&t.j.wa(c),t.A=0)}nl(4)}catch(G){}}function Cy(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ym(i)||"string"==typeof i)PA(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Ym(i)||"string"==typeof i){t=[];for(var o=i.length,s=0;s<o;s++)t.push(s)}else for(s in t=[],o=0,i)t[o++]=s;s=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ym(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i)).length;for(var c=0;c<s;c++)e.call(void 0,o[c],t&&t[c],i)}}function wa(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof wa)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function At(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Go(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var s={};for(t=e=0;e<i.g.length;)Go(s,o=i.g[e])||(i.g[t++]=o,s[o]=1),e++;i.g.length=t}}function Go(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Ie=ld.prototype).setTimeout=function(i){this.P=i},Ie.gb=function(i){i=i.target;var e=this.L;e&&3==Zo(i)?e.l():this.Ia(i)},Ie.Ia=function(i){try{if(i==this.g)e:{var e=Zo(this.g),t=this.g.Da(),o=this.g.ba();if(!(3>e)&&(3!=e||Sf||this.g&&(this.h.h||this.g.ga()||Q0(this.g)))){this.I||4!=e||7==t||nl(8==t||0>=o?3:2),Vf(this);var s=this.g.ba();this.N=s;t:if(_a(this)){var c=Q0(this.g);i="";var f=c.length,m=4==Zo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ba(this),hd(this);var _="";break t}this.h.i=new et.TextDecoder}for(t=0;t<f;t++)this.h.h=!0,i+=this.h.i.decode(c[t],{stream:m&&t==f-1});c.splice(0,f),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==s,function(i,e,t,o,s,c,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,e,s),this.i){if(this.$&&!this.J){t:{if(this.g){var b,C=this.g;if((b=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Km(b)){var D=b;break t}}D=null}if(!(s=D)){this.i=!1,this.o=3,mr(12),ba(this),hd(this);break e}el(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wy(this,s)}this.U?(by(this,e,_),Sf&&this.i&&3==e&&(Ff(this.V,this.W,"tick",this.fb),this.W.start())):(el(this.j,this.m,_,null),wy(this,_)),4==e&&ba(this),this.i&&!this.I&&(4==e?xy(this.l,this):(this.i=!1,dd(this)))}else 400==s&&0<_.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),ba(this),hd(this)}}}catch(S){}},Ie.fb=function(){if(this.g){var i=Zo(this.g),e=this.g.ga();this.C<e.length&&(Vf(this),by(this,i,e),this.i&&4!=i&&dd(this))}},Ie.cancel=function(){this.I=!0,ba(this)},Ie.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(nl(3),mr(17)),ba(this),this.o=2,hd(this)):va(this,this.Y-i)},(Ie=wa.prototype).R=function(){At(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Ie.T=function(){return At(this),this.g.concat()},Ie.get=function(i,e){return Go(this.h,i)?this.h[i]:e},Ie.set=function(i,e){Go(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Ie.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var s=t[o],c=this.get(s);i.call(e,c,s,this)}};var KA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zo(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof zo){this.g=void 0!==e?e:i.g,Ey(this,i.j),this.s=i.s,Uf(this,i.i),Bf(this,i.m),this.l=i.l,e=i.h;var t=new gd;t.i=e.i,e.g&&(t.g=new wa(e.g),t.h=e.h),Dy(this,t),this.o=i.o}else i&&(t=String(i).match(KA))?(this.g=!!e,Ey(this,t[1]||"",!0),this.s=pd(t[2]||""),Uf(this,t[3]||"",!0),Bf(this,t[4]),this.l=pd(t[5]||"",!0),Dy(this,t[6]||"",!0),this.o=pd(t[7]||"")):(this.g=!!e,this.h=new gd(null,this.g))}function Vi(i){return new zo(i)}function Ey(i,e,t){i.j=t?pd(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Uf(i,e,t){i.i=t?pd(e,!0):e}function Bf(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Dy(i,e,t){e instanceof gd?(i.h=e,function(i,e){e&&!i.j&&(Es(i),i.i=null,i.g.forEach(function(t,o){var s=o.toLowerCase();o!=s&&(z0(this,o),XA(this,s,t))},i)),i.j=e}(i.h,i.g)):(t||(e=$o(e,q0)),i.h=new gd(e,i.g))}function Ht(i,e,t){i.h.set(e,t)}function fd(i){return Ht(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function pd(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function $o(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ty),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ty(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}zo.prototype.toString=function(){var i=[],e=this.j;e&&i.push($o(e,Sy,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push($o(e,Sy,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push($o(t,"/"==t.charAt(0)?G0:H0,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",$o(t,JA)),i.join("")};var Sy=/[#\/\?@]/g,H0=/[#\?:]/g,G0=/[#\?]/g,q0=/[#\?@]/g,JA=/#/g;function gd(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Es(i){i.g||(i.g=new wa,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),s=null;if(0<=o){var c=i[t].substring(0,o);s=i[t].substring(o+1)}else c=i[t];e(c,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function z0(i,e){Es(i),e=Ca(i,e),Go(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Go((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&At(i)))}function Ay(i,e){return Es(i),e=Ca(i,e),Go(i.g.h,e)}function XA(i,e,t){z0(i,e),0<t.length&&(i.i=null,i.g.set(Ca(i,e),T0(t)),i.h+=t.length)}function Ca(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(Ie=gd.prototype).add=function(i,e){Es(this),this.i=null,i=Ca(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ie.forEach=function(i,e){Es(this),this.g.forEach(function(t,o){PA(t,function(s){i.call(e,s,o,this)},this)},this)},Ie.T=function(){Es(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var s=i[o],c=0;c<s.length;c++)t.push(e[o]);return t},Ie.R=function(i){Es(this);var e=[];if("string"==typeof i)Ay(this,i)&&(e=kA(e,this.g.get(Ca(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=kA(e,i[t])}return e},Ie.set=function(i,e){return Es(this),this.i=null,Ay(this,i=Ca(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ie.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],s=encodeURIComponent(String(o));o=this.R(o);for(var c=0;c<o.length;c++){var f=s;""!==o[c]&&(f+="="+encodeURIComponent(String(o[c]))),i.push(f)}}return this.i=i.join("&")};var tI=function(e,t){this.h=e,this.g=t};function nI(i){this.l=i||zO,i=et.PerformanceNavigationTiming?0<(i=et.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(et.g&&et.g.Ea&&et.g.Ea()&&et.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zO=10;function jf(i){return!!i.h||!!i.g&&i.g.size>=i.j}function $0(i){return i.h?1:i.g?i.g.size:0}function Hf(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Gf(i,e){i.g?i.g.add(e):i.h=e}function rI(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ui(i){var e,t;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var s=OA(i.g.values()),c=s.next();!c.done;c=s.next())o=o.concat(c.value.D)}catch(m){e={error:m}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o}return T0(i.i)}function Z0(){}function $O(){this.g=new Z0}function ZO(i,e,t){var o=t||"";try{Cy(i,function(s,c){var f=s;Yu(s)&&(f=xf(s)),e.push(o+c+"="+encodeURIComponent(f))})}catch(s){throw e.push(o+"type="+encodeURIComponent("_badmap")),s}}function md(i,e,t,o,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(o)}catch(c){}}function rl(i){this.l=i.$b||null,this.j=i.ib||!1}function qf(i,e){Vn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=W0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nI.prototype.cancel=function(){var i,e;if(this.i=ui(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var t=OA(this.g.values()),o=t.next();!o.done;o=t.next())o.value.cancel()}catch(c){i={error:c}}finally{try{o&&!o.done&&(e=t.return)&&e.call(t)}finally{if(i)throw i.error}}this.g.clear()}},Z0.prototype.stringify=function(i){return et.JSON.stringify(i,void 0)},Z0.prototype.parse=function(i){return et.JSON.parse(i,void 0)},gr(rl,B0),rl.prototype.g=function(){return new qf(this.l,this.j)},rl.prototype.i=function(i){return function(){return i}}({}),gr(qf,Vn);var W0=0;function Iy(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ea(i){i.readyState=4,i.l=null,i.j=null,i.A=null,yd(i)}function yd(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ie=qf.prototype).open=function(i,e){if(this.readyState!=W0)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,yd(this)},Ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||et).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ea(this)),this.readyState=W0},Ie.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,yd(this)),this.g&&(this.readyState=3,yd(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==et.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Iy(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ie.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ea(this):yd(this),3==this.readyState&&Iy(this)}},Ie.Ua=function(i){this.g&&(this.response=this.responseText=i,Ea(this))},Ie.Ta=function(i){this.g&&(this.response=i,Ea(this))},Ie.ha=function(){this.g&&Ea(this)},Ie.setRequestHeader=function(i,e){this.v.append(i,e)},Ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],e=this.h.entries(),t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(qf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var My=et.JSON.parse;function Tn(i){Vn.call(this),this.headers=new wa,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=K0,this.K=this.L=!1}gr(Tn,Vn);var K0="",iI=/^https?$/i,oI=["POST","PUT"];function aI(i){return"content-type"==i.toLowerCase()}function _d(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Da(i),Lr(i)}function Da(i){i.D||(i.D=!0,Un(i,"complete"),Un(i,"error"))}function Ry(i){if(i.h&&void 0!==Zu&&(!i.C[1]||4!=Zo(i)||2!=i.ba()))if(i.v&&4==Zo(i))cy(i.Fa,0,i);else if(Un(i,"readystatechange"),4==Zo(i)){i.h=!1;try{var o,e=i.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}if(!(o=t)){var s;if(s=0===e){var c=String(i.H).match(KA)[1]||null;if(!c&&et.self&&et.self.location){var f=et.self.location.protocol;c=f.substr(0,f.length-1)}s=!iI.test(c?c.toLowerCase():"")}o=s}if(o)Un(i,"complete"),Un(i,"success");else{i.m=6;try{var m=2<Zo(i)?i.g.statusText:""}catch(_){m=""}i.j=m+" ["+i.ba()+"]",Da(i)}}finally{Lr(i)}}}function Lr(i,e){if(i.g){il(i);var t=i.g,o=i.C[0]?Zm:null;i.g=null,i.C=null,e||Un(i,"ready");try{t.onreadystatechange=o}catch(s){}}}function il(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(et.clearTimeout(i.A),i.A=null)}function Zo(i){return i.g?i.g.readyState:0}function Q0(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case K0:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function li(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function(i){var e="";return Ef(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ht(i,e,t))}function Yo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function er(i){this.za=0,this.l=[],this.h=new Xu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yo("baseRetryDelayMs",5e3,i),this.$a=Yo("retryDelaySeedMs",1e4,i),this.Ya=Yo("forwardChannelMaxRetries",2,i),this.ra=Yo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new nI(i&&i.concurrentRequestLimit),this.Ca=new $O,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Wo(i){if(Wr(i),3==i.G){var e=i.V++,t=Vi(i.F);Ht(t,"SID",i.J),Ht(t,"RID",e),Ht(t,"TYPE","terminate"),po(i,t),(e=new ld(i,i.h,e,void 0)).K=2,e.v=fd(Vi(t)),t=!1,et.navigator&&et.navigator.sendBeacon&&(t=et.navigator.sendBeacon(e.v.toString(),"")),!t&&et.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ny(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dd(e)}ky(i)}function Ta(i){i.g&&(Ts(i),i.g.cancel(),i.g=null)}function Wr(i){Ta(i),i.u&&(et.clearTimeout(i.u),i.u=null),bd(i),i.i.cancel(),i.m&&("number"==typeof i.m&&et.clearTimeout(i.m),i.m=null)}function vd(i,e){i.l.push(new tI(i.Za++,e)),3==i.G&&Ko(i)}function Ko(i){jf(i.i)||i.m||(i.m=!0,ai(i.Ha,i),i.C=0)}function Sa(i,e){var t;t=e?e.m:i.V++;var o=Vi(i.F);Ht(o,"SID",i.J),Ht(o,"RID",t),Ht(o,"AID",i.U),po(i,o),i.o&&i.s&&li(o,i.o,i.s),t=new ld(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Aa(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Gf(i.i,t),_y(t,o,e)}function po(i,e){i.j&&Cy({},function(t,o){Ht(e,o,t)})}function Aa(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Jn(i.j.Oa,i.j,i):null;e:for(var s=i.l,c=-1;;){var f=["count="+t];-1==c?0<t?f.push("ofs="+(c=s[0].h)):c=0:f.push("ofs="+c);for(var m=!0,_=0;_<t;_++){var b=s[_].h,C=s[_].g;if(0>(b-=c))c=Math.max(0,s[_].h-100),m=!1;else try{ZO(C,f,"req"+b+"_")}catch(D){o&&o(C)}}if(m){o=f.join("&");break e}}return i=i.l.splice(0,t),e.D=i,o}function Ia(i){i.g||i.u||(i.Y=1,ai(i.Ga,i),i.A=0)}function Ds(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Cs(Jn(i.Ga,i),Py(i,i.A)),i.A++,0))}function Ts(i){null!=i.B&&(et.clearTimeout(i.B),i.B=null)}function Ma(i){i.g=new ld(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Vi(i.oa);Ht(e,"RID","rpc"),Ht(e,"SID",i.J),Ht(e,"CI",i.N?"0":"1"),Ht(e,"AID",i.U),po(i,e),Ht(e,"TYPE","xmlhttp"),i.o&&i.s&&li(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=fd(Vi(e)),t.s=null,t.U=!0,vy(t,i)}function bd(i){null!=i.v&&(et.clearTimeout(i.v),i.v=null)}function xy(i,e){var t=null;if(i.g==e){bd(i),Ts(i),i.g=null;var o=2}else{if(!Hf(i.i,e))return;t=e.D,rI(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=i.C;Un(o=sd(),new fo(o,t,e,s)),Ko(i)}else Ia(i);else if(3==(s=e.o)||0==s&&0<i.I||!(1==o&&function(i,e){return!($0(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Cs(Jn(i.Ha,i,e),Py(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ds(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),s){case 1:Ss(i,5);break;case 4:Ss(i,10);break;case 3:Ss(i,6);break;default:Ss(i,2)}}function Py(i,e){var t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Ss(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Jn(i.jb,i);t||(t=new zo("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||Ey(t,"https"),fd(t)),function(i,e){var t=new Xu;if(et.Image){var o=new Image;o.onload=Wu(md,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Wu(md,t,o,"TestLoadImage: error",!1,e),o.onabort=Wu(md,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Wu(md,t,o,"TestLoadImage: timeout",!1,e),et.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else mr(2);i.G=0,i.j&&i.j.va(e),ky(i),Wr(i)}function ky(i){i.G=0,i.I=-1,i.j&&((0!=ui(i.i).length||0!=i.l.length)&&(i.i.i.length=0,T0(i.l),i.l.length=0),i.j.ua())}function Fy(i,e,t){var o=function(i){return i instanceof zo?Vi(i):new zo(i,void 0)}(t);if(""!=o.i)e&&Uf(o,e+"."+o.i),Bf(o,o.m);else{var s=et.location;o=function(i,e,t,o){var s=new zo(null,void 0);return i&&Ey(s,i),e&&Uf(s,e),t&&Bf(s,t),o&&(s.l=o),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return i.aa&&Ef(i.aa,function(c,f){Ht(o,f,c)}),t=i.sa,(e=i.D)&&t&&Ht(o,e,t),Ht(o,"VER",i.ma),po(i,o),o}function Ny(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tn(t&&i.Ba&&!i.qa?new rl({ib:!0}):i.qa)).L=i.H,e}function Ly(){}function wd(){if(vs&&!(10<=Number(Xm)))throw Error("Environmental error: no available transport.")}function Kr(i,e){Vn.call(this),this.g=new er(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Km(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Km(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ra(this)}function Vy(i){ya.call(this);var e=i.__sm__;if(e){e:{for(var t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function J0(){my.call(this),this.status=1}function Ra(i){this.g=i}(Ie=Tn.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ad.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:ad),this.g.onreadystatechange=Jn(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(c){return void _d(this,c)}i=t||"";var s=new wa(this.headers);o&&Cy(o,function(c,f){s.set(f,c)}),o=function(i){e:{for(var e=aI,t=i.length,o="string"==typeof i?i.split(""):i,s=0;s<t;s++)if(s in o&&e.call(void 0,o[s],s,i)){e=s;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(s.T()),t=et.FormData&&i instanceof et.FormData,!(0<=xA(oI,e))||o||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{il(this),0<this.B&&((this.K=function(i){return vs&&VA()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jn(this.pa,this)):this.A=cy(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){_d(this,c)}},Ie.pa=function(){void 0!==Zu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},Ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Un(this,"complete"),Un(this,"abort"),Lr(this))},Ie.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lr(this,!0)),Tn.Z.M.call(this)},Ie.Fa=function(){this.s||(this.F||this.v||this.l?Ry(this):this.cb())},Ie.cb=function(){Ry(this)},Ie.ba=function(){try{return 2<Zo(this)?this.g.status:-1}catch(i){return-1}},Ie.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Ie.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),My(e)}},Ie.Da=function(){return this.m},Ie.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=er.prototype).ma=8,Ie.G=1,Ie.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},Ie.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var e=new ld(this,this.h,i,void 0),t=this.s;if(this.P&&(t?Bo(t=Df(t),this.P):t=this.P),null===this.o&&(e.H=t),this.ja)e:{for(var o=0,s=0;s<this.l.length;s++){var c=this.l[s];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(o+=c)){o=s;break e}if(4096===o||s===this.l.length-1){o=s+1;break e}}o=1e3}else o=1e3;o=Aa(this,e,o),Ht(s=Vi(this.F),"RID",i),Ht(s,"CVER",22),this.D&&Ht(s,"X-HTTP-Session-Id",this.D),po(this,s),this.o&&t&&li(s,this.o,t),Gf(this.i,e),this.Ra&&Ht(s,"TYPE","init"),this.ja?(Ht(s,"$req",o),Ht(s,"SID","null"),e.$=!0,_y(e,s,null)):_y(e,s,o),this.G=2}}else 3==this.G&&(i?Sa(this,i):0==this.l.length||jf(this.i)||Sa(this))},Ie.Ga=function(){if(this.u=null,Ma(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Cs(Jn(this.bb,this),i)}},Ie.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mr(10),Ta(this),Ma(this))},Ie.ab=function(){null!=this.v&&(this.v=null,Ta(this),Ds(this),mr(19))},Ie.jb=function(i){i?(this.h.info("Successfully pinged google.com"),mr(2)):(this.h.info("Failed to ping google.com"),mr(1))},(Ie=Ly.prototype).xa=function(){},Ie.wa=function(){},Ie.va=function(){},Ie.ua=function(){},Ie.Oa=function(){},wd.prototype.g=function(i,e){return new Kr(i,e)},gr(Kr,Vn),Kr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),ai(Jn(i.hb,i,e))),mr(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Fy(i,null,i.W),Ko(i)},Kr.prototype.close=function(){Wo(this.g)},Kr.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,vd(this.g,e)}else this.v?((e={}).__data__=xf(i),vd(this.g,e)):vd(this.g,i)},Kr.prototype.M=function(){this.g.j=null,delete this.j,Wo(this.g),delete this.g,Kr.Z.M.call(this)},gr(Vy,ya),gr(J0,my),gr(Ra,Ly),Ra.prototype.xa=function(){Un(this.g,"a")},Ra.prototype.wa=function(i){Un(this.g,new Vy(i))},Ra.prototype.va=function(i){Un(this.g,new J0(i))},Ra.prototype.ua=function(){Un(this.g,"b")},wd.prototype.createWebChannel=wd.prototype.g,Kr.prototype.send=Kr.prototype.u,Kr.prototype.open=Kr.prototype.m,Kr.prototype.close=Kr.prototype.close,Nf.NO_ERROR=0,Nf.TIMEOUT=8,Nf.HTTP_ERROR=6,U0.COMPLETE="complete",gy.EventType=Ho,Ho.OPEN="a",Ho.CLOSE="b",Ho.ERROR="c",Ho.MESSAGE="d",Vn.prototype.listen=Vn.prototype.N,Tn.prototype.listenOnce=Tn.prototype.O,Tn.prototype.getLastError=Tn.prototype.La,Tn.prototype.getLastErrorCode=Tn.prototype.Da,Tn.prototype.getStatus=Tn.prototype.ba,Tn.prototype.getResponseJson=Tn.prototype.Qa,Tn.prototype.getResponseText=Tn.prototype.ga,Tn.prototype.send=Tn.prototype.ea;var By=Nf,eC=U0,jy=tl,Hy_PROXY=10,Hy_NOPROXY=11,Gy=rl,Cd=gy,tC=Tn,Vr=function(){function i(e,t){var o=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(s){return o.t(s)},this.i=function(s){return t.writeSequenceNumber(s)})}return i.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},i.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},i}();Vr.o=-1;var oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ve=function(i){function e(t,o){var s=this;return(s=i.call(this,o)||this).code=t,s.message=o,s.name="FirebaseError",s.toString=function(){return s.name+": [code="+s.code+"]: "+s.message},s}return(0,M.ZT)(e,i),e}(Error),go=new Vo.Yd("@firebase/firestore");function qy(){return go.logLevel}function Ee(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(go.logLevel<=Vo.in.DEBUG){var o=e.map(Dd);go.debug.apply(go,(0,M.ev)(["Firestore (8.10.0): "+i],o))}}function Sn(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(go.logLevel<=Vo.in.ERROR){var o=e.map(Dd);go.error.apply(go,(0,M.ev)(["Firestore (8.10.0): "+i],o))}}function Ed(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(go.logLevel<=Vo.in.WARN){var o=e.map(Dd);go.warn.apply(go,(0,M.ev)(["Firestore (8.10.0): "+i],o))}}function Dd(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Pe(i){void 0===i&&(i="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+i;throw Sn(e),new Error(e)}function Je(i,e){i||Pe()}function Te(i,e){return i}function WO(i){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(var o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}var uI=function(){function i(){}return i.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,o="";o.length<20;)for(var s=WO(40),c=0;c<s.length;++c)o.length<20&&s[c]<t&&(o+=e.charAt(s[c]%e.length));return o},i}();function _t(i,e){return i<e?-1:i>e?1:0}function Oa(i,e,t){return i.length===e.length&&i.every(function(o,s){return t(o,e[s])})}function lI(i){return i+"\0"}var Ur=function(){function i(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(e){return i.fromMillis(e.getTime())},i.fromMillis=function(e){var t=Math.floor(e/1e3);return new i(t,Math.floor(1e6*(e-1e3*t)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)},i.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),it=function(){function i(e){this.timestamp=e}return i.fromTimestamp=function(e){return new i(e)},i.min=function(){return new i(new Ur(0,0))},i.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},i.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function nC(i){var e=0;for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function As(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function rC(i){for(var e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}var zy=function(){function i(e,t,o){void 0===t?t=0:t>e.length&&Pe(),void 0===o?o=e.length-t:o>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=o}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return 0===i.comparator(this,e)},i.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof i?e.forEach(function(o){t.push(o)}):t.push(e),this.construct(t)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(e){return this.segments[this.offset+e]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},i.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},i.prototype.forEach=function(e){for(var t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(e,t){for(var o=Math.min(e.length,t.length),s=0;s<o;s++){var c=e.get(s),f=t.get(s);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0},i}(),wt=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.construct=function(t,o,s){return new e(t,o,s)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];for(var s=[],c=0,f=t;c<f.length;c++){var m=f[c];if(m.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,"Invalid segment ("+m+"). Paths must not contain // in them.");s.push.apply(s,m.split("/").filter(function(_){return _.length>0}))}return new e(s)},e.emptyPath=function(){return new e([])},e}(zy),cI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ci=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.construct=function(t,o,s){return new e(t,o,s)},e.isValidIdentifier=function(t){return cI.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var o=[],s="",c=0,f=function(){if(0===s.length)throw new ve(oe.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(s),s=""},m=!1;c<t.length;){var _=t[c];if("\\"===_){if(c+1===t.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var b=t[c+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=b,c+=2}else"`"===_?(m=!m,c++):"."!==_||m?(s+=_,c++):(f(),c++)}if(f(),m)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(o)},e.emptyPath=function(){return new e([])},e}(zy),sl=function(){function i(e){this.fields=e,e.sort(ci.comparator)}return i.prototype.covers=function(e){for(var t=0,o=this.fields;t<o.length;t++)if(o[t].isPrefixOf(e))return!0;return!1},i.prototype.isEqual=function(e){return Oa(this.fields,e.fields,function(t,o){return t.isEqual(o)})},i}(),Sr=function(){function i(e){this.binaryString=e}return i.fromBase64String=function(e){return new i(atob(e))},i.fromUint8Array=function(e){return new i(function(t){for(var o="",s=0;s<t.length;++s)o+=String.fromCharCode(t[s]);return o}(e))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(e){return _t(this.binaryString,e.binaryString)},i.prototype.isEqual=function(e){return this.binaryString===e.binaryString},i}();Sr.EMPTY_BYTE_STRING=new Sr("");var dI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(i){if(Je(!!i),"string"==typeof i){var e=0,t=dI.exec(i);if(Je(!!t),t[1]){var o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}var s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:An(i.seconds),nanos:An(i.nanos)}}function An(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function xa(i){return"string"==typeof i?Sr.fromBase64String(i):Sr.fromUint8Array(i)}function $y(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Zy(i){var e=i.mapValue.fields.__previous_value__;return $y(e)?Zy(e):e}function al(i){var e=Is(i.mapValue.fields.__local_write_time__.timestampValue);return new Ur(e.seconds,e.nanos)}function Qo(i){return null==i}function Yy(i){return 0===i&&1/i==-1/0}function zf(i){return"number"==typeof i&&Number.isInteger(i)&&!Yy(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var Ue=function(){function i(e){this.path=e}return i.fromPath=function(e){return new i(wt.fromString(e))},i.fromName=function(e){return new i(wt.fromString(e).popFirst(5))},i.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},i.prototype.isEqual=function(e){return null!==e&&0===wt.comparator(this.path,e.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(e,t){return wt.comparator(e.path,t.path)},i.isDocumentKey=function(e){return e.length%2==0},i.fromSegments=function(e){return new i(new wt(e.slice()))},i}();function ul(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$y(i)?4:10:Pe()}function Br(i,e){var s,t=ul(i);if(t!==ul(e))return!1;switch(t){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return al(i).isEqual(al(e));case 3:return function(o,s){if("string"==typeof o.timestampValue&&"string"==typeof s.timestampValue&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;var c=Is(o.timestampValue),f=Is(s.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return s=e,xa(i.bytesValue).isEqual(xa(s.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,s){return An(o.geoPointValue.latitude)===An(s.geoPointValue.latitude)&&An(o.geoPointValue.longitude)===An(s.geoPointValue.longitude)}(i,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return An(o.integerValue)===An(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){var c=An(o.doubleValue),f=An(s.doubleValue);return c===f?Yy(c)===Yy(f):isNaN(c)&&isNaN(f)}return!1}(i,e);case 9:return Oa(i.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:return function(o,s){var c=o.mapValue.fields||{},f=s.mapValue.fields||{};if(nC(c)!==nC(f))return!1;for(var m in c)if(c.hasOwnProperty(m)&&(void 0===f[m]||!Br(c[m],f[m])))return!1;return!0}(i,e);default:return Pe()}}function Td(i,e){return void 0!==(i.values||[]).find(function(t){return Br(t,e)})}function Ms(i,e){var s,c,f,m,t=ul(i),o=ul(e);if(t!==o)return _t(t,o);switch(t){case 0:return 0;case 1:return _t(i.booleanValue,e.booleanValue);case 2:return c=e,(f=An((s=i).integerValue||s.doubleValue))<(m=An(c.integerValue||c.doubleValue))?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1;case 3:return $f(i.timestampValue,e.timestampValue);case 4:return $f(al(i),al(e));case 5:return _t(i.stringValue,e.stringValue);case 6:return function(s,c){var f=xa(s),m=xa(c);return f.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(s,c){for(var f=s.split("/"),m=c.split("/"),_=0;_<f.length&&_<m.length;_++){var b=_t(f[_],m[_]);if(0!==b)return b}return _t(f.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(s,c){var f=_t(An(s.latitude),An(c.latitude));return 0!==f?f:_t(An(s.longitude),An(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(s,c){for(var f=s.values||[],m=c.values||[],_=0;_<f.length&&_<m.length;++_){var b=Ms(f[_],m[_]);if(b)return b}return _t(f.length,m.length)}(i.arrayValue,e.arrayValue);case 10:return function(s,c){var f=s.fields||{},m=Object.keys(f),_=c.fields||{},b=Object.keys(_);m.sort(),b.sort();for(var C=0;C<m.length&&C<b.length;++C){var D=_t(m[C],b[C]);if(0!==D)return D;var S=Ms(f[m[C]],_[b[C]]);if(0!==S)return S}return _t(m.length,b.length)}(i.mapValue,e.mapValue);default:throw Pe()}}function $f(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _t(i,e);var t=Is(i),o=Is(e),s=_t(t.seconds,o.seconds);return 0!==s?s:_t(t.nanos,o.nanos)}function Wy(i){return Sd(i)}function Sd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(s=Is(i.timestampValue)).seconds+","+s.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?xa(i.bytesValue).toBase64():"referenceValue"in i?Ue.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(e=i.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in i?function(o){for(var s="[",c=!0,f=0,m=o.values||[];f<m.length;f++)c?c=!1:s+=",",s+=Sd(m[f]);return s+"]"}(i.arrayValue):"mapValue"in i?function(o){for(var s="{",c=!0,f=0,m=Object.keys(o.fields||{}).sort();f<m.length;f++){var _=m[f];c?c=!1:s+=",",s+=_+":"+Sd(o.fields[_])}return s+"}"}(i.mapValue):Pe();var s,e}function ll(i,e){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+e.path.canonicalString()}}function Zf(i){return!!i&&"integerValue"in i}function iC(i){return!!i&&"arrayValue"in i}function oC(i){return!!i&&"nullValue"in i}function Yf(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function cl(i){return!!i&&"mapValue"in i}function Ad(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var e={mapValue:{fields:{}}};return As(i.mapValue.fields,function(s,c){return e.mapValue.fields[s]=Ad(c)}),e}if(i.arrayValue){for(var t={arrayValue:{values:[]}},o=0;o<(i.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=Ad(i.arrayValue.values[o]);return t}return Object.assign({},i)}var jr=function(){function i(e){this.value=e}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,o=0;o<e.length-1;++o)if(!cl(t=(t.mapValue.fields||{})[e.get(o)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},i.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ad(t)},i.prototype.setAll=function(e){var t=this,o=ci.emptyPath(),s={},c=[];e.forEach(function(m,_){if(!o.isImmediateParentOf(_)){var b=t.getFieldsMap(o);t.applyChanges(b,s,c),s={},c=[],o=_.popLast()}m?s[_.lastSegment()]=Ad(m):c.push(_.lastSegment())});var f=this.getFieldsMap(o);this.applyChanges(f,s,c)},i.prototype.delete=function(e){var t=this.field(e.popLast());cl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},i.prototype.isEqual=function(e){return Br(this.value,e.value)},i.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var o=0;o<e.length;++o){var s=t.mapValue.fields[e.get(o)];cl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=s),t=s}return t.mapValue.fields},i.prototype.applyChanges=function(e,t,o){As(t,function(m,_){return e[m]=_});for(var s=0,c=o;s<c.length;s++)delete e[c[s]]},i.prototype.clone=function(){return new i(Ad(this.value))},i}();function Wf(i){var e=[];return As(i.fields,function(t,o){var s=new ci([t]);if(cl(o)){var c=Wf(o.mapValue).fields;if(0===c.length)e.push(s);else for(var f=0,m=c;f<m.length;f++)e.push(s.child(m[f]))}else e.push(s)}),new sl(e)}var Bn=function(){function i(e,t,o,s,c){this.key=e,this.documentType=t,this.version=o,this.data=s,this.documentState=c}return i.newInvalidDocument=function(e){return new i(e,0,it.min(),jr.empty(),0)},i.newFoundDocument=function(e,t,o){return new i(e,1,t,o,0)},i.newNoDocument=function(e,t){return new i(e,2,t,jr.empty(),0)},i.newUnknownDocument=function(e,t){return new i(e,3,t,jr.empty(),2)},i.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},i.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(e){return e instanceof i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),Ky=function(i,e,t,o,s,c,f){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===c&&(c=null),void 0===f&&(f=null),this.path=i,this.collectionGroup=e,this.orderBy=t,this.filters=o,this.limit=s,this.startAt=c,this.endAt=f,this.h=null};function Kf(i,e,t,o,s,c,f){return void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===c&&(c=null),void 0===f&&(f=null),new Ky(i,e,t,o,s,c,f)}function dl(i){var e=Te(i);if(null===e.h){var t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(o){return(s=o).field.canonicalString()+s.op.toString()+Wy(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(function(o){return(s=o).field.canonicalString()+s.dir;var s}).join(","),Qo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Md(e.startAt)),e.endAt&&(t+="|ub:",t+=Md(e.endAt)),e.h=t}return e.h}function Qf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<i.orderBy.length;t++)if(!lC(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(var o=0;o<i.filters.length;o++)if((s=i.filters[o]).op!==(c=e.filters[o]).op||!s.field.isEqual(c.field)||!Br(s.value,c.value))return!1;var s,c;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!t_(i.startAt,e.startAt)&&t_(i.endAt,e.endAt)}function Id(i){return Ue.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var Hr=function(i){function e(t,o,s){var c=this;return(c=i.call(this)||this).field=t,c.op=o,c.value=s,c}return(0,M.ZT)(e,i),e.create=function(t,o,s){return t.isKeyField()?"in"===o||"not-in"===o?this.l(t,o,s):new Qy(t,o,s):"array-contains"===o?new aC(t,s):"in"===o?new Xy(t,s):"not-in"===o?new Jf(t,s):"array-contains-any"===o?new uC(t,s):new e(t,o,s)},e.l=function(t,o,s){return"in"===o?new sC(t,s):new hI(t,s)},e.prototype.matches=function(t){var o=t.data.field(this.field);return"!="===this.op?null!==o&&this.m(Ms(o,this.value)):null!==o&&ul(this.value)===ul(o)&&this.m(Ms(o,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Pe()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Qy=function(i){function e(t,o,s){var c=this;return(c=i.call(this,t,o,s)||this).key=Ue.fromName(s.referenceValue),c}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=Ue.comparator(t.key,this.key);return this.m(o)},e}(Hr),sC=function(i){function e(t,o){var s=this;return(s=i.call(this,t,"in",o)||this).keys=Jy(0,o),s}return(0,M.ZT)(e,i),e.prototype.matches=function(t){return this.keys.some(function(o){return o.isEqual(t.key)})},e}(Hr),hI=function(i){function e(t,o){var s=this;return(s=i.call(this,t,"not-in",o)||this).keys=Jy(0,o),s}return(0,M.ZT)(e,i),e.prototype.matches=function(t){return!this.keys.some(function(o){return o.isEqual(t.key)})},e}(Hr);function Jy(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(function(o){return Ue.fromName(o.referenceValue)})}var aC=function(i){function e(t,o){return i.call(this,t,"array-contains",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=t.data.field(this.field);return iC(o)&&Td(o.arrayValue,this.value)},e}(Hr),Xy=function(i){function e(t,o){return i.call(this,t,"in",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=t.data.field(this.field);return null!==o&&Td(this.value.arrayValue,o)},e}(Hr),Jf=function(i){function e(t,o){return i.call(this,t,"not-in",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=t.data.field(this.field);return null!==o&&!Td(this.value.arrayValue,o)},e}(Hr),uC=function(i){function e(t,o){return i.call(this,t,"array-contains-any",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=this,s=t.data.field(this.field);return!(!iC(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(c){return Td(o.value.arrayValue,c)})},e}(Hr),hl=function(i,e){this.position=i,this.before=e};function Md(i){return(i.before?"b":"a")+":"+i.position.map(function(e){return Wy(e)}).join(",")}var Pa=function(i,e){void 0===e&&(e="asc"),this.field=i,this.dir=e};function lC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function e_(i,e,t){for(var o=0,s=0;s<i.position.length;s++){var c=e[s],f=i.position[s];if(o=c.field.isKeyField()?Ue.comparator(Ue.fromName(f.referenceValue),t.key):Ms(f,t.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function t_(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(var t=0;t<i.position.length;t++)if(!Br(i.position[t],e.position[t]))return!1;return!0}var mo=function(i,e,t,o,s,c,f,m){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===c&&(c="F"),void 0===f&&(f=null),void 0===m&&(m=null),this.path=i,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=o,this.limit=s,this.limitType=c,this.startAt=f,this.endAt=m,this.p=null,this.T=null};function fI(i,e,t,o,s,c,f,m){return new mo(i,e,t,o,s,c,f,m)}function fl(i){return new mo(i)}function Xf(i){return!Qo(i.limit)&&"F"===i.limitType}function Rd(i){return!Qo(i.limit)&&"L"===i.limitType}function n_(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function _n(i){for(var e=0,t=i.filters;e<t.length;e++){var o=t[e];if(o.g())return o.field}return null}function ep(i){return null!==i.collectionGroup}function pl(i){var e=Te(i);if(null===e.p){e.p=[];var t=_n(e),o=n_(e);if(null!==t&&null===o)t.isKeyField()||e.p.push(new Pa(t)),e.p.push(new Pa(ci.keyField(),"asc"));else{for(var s=!1,c=0,f=e.explicitOrderBy;c<f.length;c++){var m=f[c];e.p.push(m),m.field.isKeyField()&&(s=!0)}if(!s){var _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Pa(ci.keyField(),_))}}}return e.p}function di(i){var e=Te(i);if(!e.T)if("F"===e.limitType)e.T=Kf(e.path,e.collectionGroup,pl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var t=[],o=0,s=pl(e);o<s.length;o++){var c=s[o];t.push(new Pa(c.field,"desc"===c.dir?"asc":"desc"))}var m=e.endAt?new hl(e.endAt.position,!e.endAt.before):null,_=e.startAt?new hl(e.startAt.position,!e.startAt.before):null;e.T=Kf(e.path,e.collectionGroup,t,e.filters,e.limit,m,_)}return e.T}function r_(i,e,t){return new mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Od(i,e){return Qf(di(i),di(e))&&i.limitType===e.limitType}function i_(i){return dl(di(i))+"|lt:"+i.limitType}function tp(i){return"Query(target="+(t=(e=di(i)).path.canonicalString(),null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(o){return(s=o).field.canonicalString()+" "+s.op+" "+Wy(s.value);var s}).join(", ")+"]"),Qo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(o){return(s=o).field.canonicalString()+" ("+s.dir+")";var s}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Md(e.startAt)),e.endAt&&(t+=", endAt: "+Md(e.endAt)),"Target("+t+"); limitType=")+i.limitType+")";var e,t}function yo(i,e){return e.isFoundDocument()&&(s=(o=e).key.path,null!==(t=i).collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Ue.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s))&&function(t,o){for(var s=0,c=t.explicitOrderBy;s<c.length;s++){var f=c[s];if(!f.field.isKeyField()&&null===o.data.field(f.field))return!1}return!0}(i,e)&&function(t,o){for(var s=0,c=t.filters;s<c.length;s++)if(!c[s].matches(o))return!1;return!0}(i,e)&&function(t,o){return!(t.startAt&&!e_(t.startAt,pl(t),o)||t.endAt&&e_(t.endAt,pl(t),o))}(i,e);var t,o,s}function cC(i){return function(e,t){for(var o=!1,s=0,c=pl(i);s<c.length;s++){var f=c[s],m=pI(f,e,t);if(0!==m)return m;o=o||f.field.isKeyField()}return 0}}function pI(i,e,t){var s,f,m,_,o=i.field.isKeyField()?Ue.comparator(e.key,t.key):(f=t,m=e.data.field(s=i.field),_=f.data.field(s),null!==m&&null!==_?Ms(m,_):Pe());switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Pe()}}function o_(i,e){if(i.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yy(e)?"-0":e}}function dC(i){return{integerValue:""+i}}function s_(i,e){return zf(e)?dC(e):o_(i,e)}var a_=function(){this._=void 0};function u_(i,e,t){return i instanceof gl?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=t).seconds,nanos:o.nanoseconds}}}},(s=e)&&(c.fields.__previous_value__=s),{mapValue:c}):i instanceof ka?Bi(i,e):i instanceof tr?hi(i,e):function(o,s){var c=Ui(o,s),f=c_(c)+c_(o.A);return Zf(c)&&Zf(o.A)?dC(f):o_(o.R,f)}(i,e);var o,s,c}function l_(i,e,t){return i instanceof ka?Bi(i,e):i instanceof tr?hi(i,e):t}function Ui(i,e){return i instanceof Fa?Zf(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}var gl=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e}(a_),ka=function(i){function e(t){var o=this;return(o=i.call(this)||this).elements=t,o}return(0,M.ZT)(e,i),e}(a_);function Bi(i,e){for(var t=hC(e),o=function(f){t.some(function(m){return Br(m,f)})||t.push(f)},s=0,c=i.elements;s<c.length;s++)o(c[s]);return{arrayValue:{values:t}}}var tr=function(i){function e(t){var o=this;return(o=i.call(this)||this).elements=t,o}return(0,M.ZT)(e,i),e}(a_);function hi(i,e){for(var t=hC(e),o=function(f){t=t.filter(function(m){return!Br(m,f)})},s=0,c=i.elements;s<c.length;s++)o(c[s]);return{arrayValue:{values:t}}}var Fa=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).R=t,s.A=o,s}return(0,M.ZT)(e,i),e}(a_);function c_(i){return An(i.integerValue||i.doubleValue)}function hC(i){return iC(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var xd=function(i,e){this.field=i,this.transform=e},gI=function(i,e){this.version=i,this.transformResults=e},yr=function(){function i(e,t){this.updateTime=e,this.exists=t}return i.none=function(){return new i},i.exists=function(e){return new i(void 0,e)},i.updateTime=function(e){return new i(e)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},i}();function ml(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}var Rs=function(){};function mI(i,e,t){var o,s,c,f,m;i instanceof Os?(s=e,c=t,f=(o=i).value.clone(),m=p_(o.fieldTransforms,s,c.transformResults),f.setAll(m),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()):i instanceof xs?function(o,s,c){if(ml(o.precondition,s)){var f=p_(o.fieldTransforms,s,c.transformResults),m=s.data;m.setAll(f_(o)),m.setAll(f),s.convertToFoundDocument(c.version,m).setHasCommittedMutations()}else s.convertToUnknownDocument(c.version)}(i,e,t):function(o,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function np(i,e,t){var s;i instanceof Os?function(o,s,c){if(ml(o.precondition,s)){var f=o.value.clone(),m=rp(o.fieldTransforms,c,s);f.setAll(m),s.convertToFoundDocument(h_(s),f).setHasLocalMutations()}}(i,e,t):i instanceof xs?function(o,s,c){if(ml(o.precondition,s)){var f=rp(o.fieldTransforms,c,s),m=s.data;m.setAll(f_(o)),m.setAll(f),s.convertToFoundDocument(h_(s),m).setHasLocalMutations()}}(i,e,t):ml(i.precondition,s=e)&&s.convertToNoDocument(it.min())}function yI(i,e){for(var t=null,o=0,s=i.fieldTransforms;o<s.length;o++){var c=s[o],f=e.data.field(c.field),m=Ui(c.transform,f||null);null!=m&&(null==t&&(t=jr.empty()),t.set(c.field,m))}return t||null}function d_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Oa(t,o,function(s,c){return(f=s).field.isEqual((m=c).field)&&(b=m.transform,(_=f.transform)instanceof ka&&b instanceof ka||_ instanceof tr&&b instanceof tr?Oa(_.elements,b.elements,Br):_ instanceof Fa&&b instanceof Fa?Br(_.A,b.A):_ instanceof gl&&b instanceof gl);var f,m,_,b})))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function h_(i){return i.isFoundDocument()?i.version:it.min()}var Os=function(i){function e(t,o,s,c){void 0===c&&(c=[]);var f=this;return(f=i.call(this)||this).key=t,f.value=o,f.precondition=s,f.fieldTransforms=c,f.type=0,f}return(0,M.ZT)(e,i),e}(Rs),xs=function(i){function e(t,o,s,c,f){void 0===f&&(f=[]);var m=this;return(m=i.call(this)||this).key=t,m.data=o,m.fieldMask=s,m.precondition=c,m.fieldTransforms=f,m.type=1,m}return(0,M.ZT)(e,i),e}(Rs);function f_(i){var e=new Map;return i.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var o=i.data.field(t);e.set(t,o)}}),e}function p_(i,e,t){var o=new Map;Je(i.length===t.length);for(var s=0;s<t.length;s++){var c=i[s],f=c.transform,m=e.data.field(c.field);o.set(c.field,l_(f,m,t[s]))}return o}function rp(i,e,t){for(var o=new Map,s=0,c=i;s<c.length;s++){var f=c[s],m=f.transform,_=t.data.field(f.field);o.set(f.field,u_(m,_,e))}return o}var Qt,vt,yl=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).key=t,s.precondition=o,s.type=2,s.fieldTransforms=[],s}return(0,M.ZT)(e,i),e}(Rs),ip=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).key=t,s.precondition=o,s.type=3,s.fieldTransforms=[],s}return(0,M.ZT)(e,i),e}(Rs),fC=function(i){this.count=i};function g_(i){switch(i){case oe.OK:return Pe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Pe()}}function m_(i){if(void 0===i)return Sn("GRPC error has no .code"),oe.UNKNOWN;switch(i){case Qt.OK:return oe.OK;case Qt.CANCELLED:return oe.CANCELLED;case Qt.UNKNOWN:return oe.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return oe.INTERNAL;case Qt.UNAVAILABLE:return oe.UNAVAILABLE;case Qt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Qt.NOT_FOUND:return oe.NOT_FOUND;case Qt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Qt.ABORTED:return oe.ABORTED;case Qt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Qt.DATA_LOSS:return oe.DATA_LOSS;default:return Pe()}}(vt=Qt||(Qt={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";var nr=function(){function i(e,t){this.comparator=e,this.root=t||Ps.EMPTY}return i.prototype.insert=function(e,t){return new i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ps.BLACK,null,null))},i.prototype.remove=function(e){return new i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))},i.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null},i.prototype.indexOf=function(e){for(var t=0,o=this.root;!o.isEmpty();){var s=this.comparator(e,o.key);if(0===s)return t+o.left.size;s<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},i.prototype.forEach=function(e){this.inorderTraversal(function(t,o){return e(t,o),!1})},i.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,o){return e.push(t+":"+o),!1}),"{"+e.join(", ")+"}"},i.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},i.prototype.getIterator=function(){return new Pd(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(e){return new Pd(this.root,e,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new Pd(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(e){return new Pd(this.root,e,this.comparator,!0)},i}(),Pd=function(){function i(e,t,o,s){this.isReverse=s,this.nodeStack=[];for(var c=1;!e.isEmpty();)if(c=t?o(e.key,t):1,s&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return i.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},i}(),Ps=function(){function i(e,t,o,s,c){this.key=e,this.value=t,this.color=null!=o?o:i.RED,this.left=null!=s?s:i.EMPTY,this.right=null!=c?c:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(e,t,o,s,c){return new i(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=s?s:this.left,null!=c?c:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},i.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(e,t,o){var s=this,c=o(e,s.key);return(s=c<0?s.copy(null,null,null,s.left.insert(e,t,o),null):0===c?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,o))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},i.prototype.remove=function(e,t){var o,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return i.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},i.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},i.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},i.prototype.rotateLeft=function(){var e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},i.prototype.rotateRight=function(){var e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},i.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},i.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();var e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)},i}();Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw Pe()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw Pe()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw Pe()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw Pe()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw Pe()},enumerable:!1,configurable:!0}),i.prototype.copy=function(e,t,o,s,c){return this},i.prototype.insert=function(e,t,o){return new Ps(e,t)},i.prototype.remove=function(e,t){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(e){return!1},i.prototype.reverseTraversal=function(e){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var On=function(){function i(e){this.comparator=e,this.data=new nr(this.comparator)}return i.prototype.has=function(e){return null!==this.data.get(e)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(e){return this.data.indexOf(e)},i.prototype.forEach=function(e){this.data.inorderTraversal(function(t,o){return e(t),!1})},i.prototype.forEachInRange=function(e,t){for(var o=this.data.getIteratorFrom(e[0]);o.hasNext();){var s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}},i.prototype.forEachWhile=function(e,t){var o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return},i.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},i.prototype.getIterator=function(){return new pC(this.data.getIterator())},i.prototype.getIteratorFrom=function(e){return new pC(this.data.getIteratorFrom(e))},i.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},i.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(o){t=t.add(o)}),t},i.prototype.isEqual=function(e){if(!(e instanceof i)||this.size!==e.size)return!1;for(var t=this.data.getIterator(),o=e.data.getIterator();t.hasNext();){var s=t.getNext().key,c=o.getNext().key;if(0!==this.comparator(s,c))return!1}return!0},i.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},i.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},i.prototype.copy=function(e){var t=new i(this.comparator);return t.data=e,t},i}(),pC=function(){function i(e){this.iter=e}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),_I=new nr(Ue.comparator);function fi(){return _I}var vI=new nr(Ue.comparator);function y_(){return vI}var bI=new nr(Ue.comparator);function gC(){return bI}var mC=new On(Ue.comparator);function xt(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var t=mC,o=0,s=i;o<s.length;o++){var c=s[o];t=t.add(c)}return t}var wI=new On(_t);function op(){return wI}var __=function(){function i(e,t,o,s,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=c}return i.createSynthesizedRemoteEventForCurrentChange=function(e,t){var o=new Map;return o.set(e,v_.createSynthesizedTargetChangeForCurrentChange(e,t)),new i(it.min(),o,op(),fi(),xt())},i}(),v_=function(){function i(e,t,o,s,c){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=c}return i.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new i(Sr.EMPTY_BYTE_STRING,t,xt(),xt(),xt())},i}(),sp=function(i,e,t,o){this.v=i,this.removedTargetIds=e,this.key=t,this.P=o},yC=function(i,e){this.targetId=i,this.V=e},_C=function(i,e,t,o){void 0===t&&(t=Sr.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=i,this.targetIds=e,this.resumeToken=t,this.cause=o},b_=function(){function i(){this.S=0,this.D=C_(),this.C=Sr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),i.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},i.prototype.M=function(){var e=xt(),t=xt(),o=xt();return this.D.forEach(function(s,c){switch(c){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:o=o.add(s);break;default:Pe()}}),new v_(this.C,this.N,e,t,o)},i.prototype.L=function(){this.k=!1,this.D=C_()},i.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},i.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.k=!0,this.N=!0},i}(),vC=function(){function i(e){this.W=e,this.G=new Map,this.H=fi(),this.J=w_(),this.Y=new On(_t)}return i.prototype.X=function(e){for(var t=0,o=e.v;t<o.length;t++){var s=o[t];e.P&&e.P.isFoundDocument()?this.Z(s,e.P):this.tt(s,e.key,e.P)}for(var c=0,f=e.removedTargetIds;c<f.length;c++)this.tt(s=f[c],e.key,e.P)},i.prototype.et=function(e){var t=this;this.forEachTarget(e,function(o){var s=t.nt(o);switch(e.state){case 0:t.st(o)&&s.O(e.resumeToken);break;case 1:s.K(),s.F||s.L(),s.O(e.resumeToken);break;case 2:s.K(),s.F||t.removeTarget(o);break;case 3:t.st(o)&&(s.j(),s.O(e.resumeToken));break;case 4:t.st(o)&&(t.it(o),s.O(e.resumeToken));break;default:Pe()}})},i.prototype.forEachTarget=function(e,t){var o=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(s,c){o.st(c)&&t(c)})},i.prototype.rt=function(e){var t=e.targetId,o=e.V.count,s=this.ot(t);if(s){var c=s.target;if(Id(c))if(0===o){var f=new Ue(c.path);this.tt(t,f,Bn.newNoDocument(f,it.min()))}else Je(1===o);else this.ct(t)!==o&&(this.it(t),this.Y=this.Y.add(t))}},i.prototype.ut=function(e){var t=this,o=new Map;this.G.forEach(function(f,m){var _=t.ot(m);if(_){if(f.current&&Id(_.target)){var b=new Ue(_.target.path);null!==t.H.get(b)||t.at(m,b)||t.tt(m,b,Bn.newNoDocument(b,e))}f.$&&(o.set(m,f.M()),f.L())}});var s=xt();this.J.forEach(function(f,m){var _=!0;m.forEachWhile(function(b){var C=t.ot(b);return!C||2===C.purpose||(_=!1,!1)}),_&&(s=s.add(f))});var c=new __(e,o,this.Y,this.H,s);return this.H=fi(),this.J=w_(),this.Y=new On(_t),c},i.prototype.Z=function(e,t){if(this.st(e)){var o=this.at(e,t.key)?2:0;this.nt(e).B(t.key,o),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},i.prototype.tt=function(e,t,o){if(this.st(e)){var s=this.nt(e);this.at(e,t)?s.B(t,1):s.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),o&&(this.H=this.H.insert(t,o))}},i.prototype.removeTarget=function(e){this.G.delete(e)},i.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},i.prototype.U=function(e){this.nt(e).U()},i.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new b_,this.G.set(e,t)),t},i.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new On(_t),this.J=this.J.insert(e,t)),t},i.prototype.st=function(e){var t=null!==this.ot(e);return t||Ee("WatchChangeAggregator","Detected inactive target",e),t},i.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},i.prototype.it=function(e){var t=this;this.G.set(e,new b_),this.W.getRemoteKeysForTarget(e).forEach(function(o){t.tt(e,o,null)})},i.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},i}();function w_(){return new nr(Ue.comparator)}function C_(){return new nr(Ue.comparator)}var bC={asc:"ASCENDING",desc:"DESCENDING"},wC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CC=function(i,e){this.databaseId=i,this.I=e};function _l(i,e){return i.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function E_(i,e){return i.I?e.toBase64():e.toUint8Array()}function D_(i,e){return _l(i,e.toTimestamp())}function xn(i){return Je(!!i),it.fromTimestamp((t=Is(i),new Ur(t.seconds,t.nanos)));var t}function Jo(i,e){return(t=i,new wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function EC(i){var e=wt.fromString(i);return Je(A_(e)),e}function kd(i,e){return Jo(i.databaseId,e.path)}function Ar(i,e){var t=EC(e);if(t.get(1)!==i.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ue(T_(t))}function DC(i,e){return Jo(i.databaseId,e)}function ap(i){var e=EC(i);return 4===e.length?wt.emptyPath():T_(e)}function up(i){return new wt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function T_(i){return Je(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function S_(i,e,t){return{name:kd(i,e),fields:t.value.mapValue.fields}}function CI(i,e,t){var o=Ar(i,e.name),s=xn(e.updateTime),c=new jr({mapValue:{fields:e.fields}}),f=Bn.newFoundDocument(o,s,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function je(i,e){var t,s;if(e instanceof Os)t={update:S_(i,e.key,e.value)};else if(e instanceof yl)t={delete:kd(i,e.key)};else if(e instanceof xs)t={update:S_(i,e.key,e.data),updateMask:RC(e.fieldMask)};else{if(!(e instanceof ip))return Pe();t={verify:kd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(function(o){return function(s,c){var f=c.transform;if(f instanceof gl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ka)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tr)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Fa)return{fieldPath:c.field.canonicalString(),increment:f.A};throw Pe()}(0,o)})),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:D_(i,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Pe()),t}function TC(i,e){var b,t=e.currentDocument?void 0!==(b=e.currentDocument).updateTime?yr.updateTime(xn(b.updateTime)):void 0!==b.exists?yr.exists(b.exists):yr.none():yr.none(),o=e.updateTransforms?e.updateTransforms.map(function(b){return function(C,D){var S=null;"setToServerValue"in D?(Je("REQUEST_TIME"===D.setToServerValue),S=new gl):"appendMissingElements"in D?S=new ka(D.appendMissingElements.values||[]):"removeAllFromArray"in D?S=new tr(D.removeAllFromArray.values||[]):"increment"in D?S=new Fa(C,D.increment):Pe();var N=ci.fromServerFormat(D.fieldPath);return new xd(N,S)}(i,b)}):[];if(e.update){var s=Ar(i,e.update.name),c=new jr({mapValue:{fields:e.update.fields}});if(e.updateMask){var f=function(b){return new sl((b.fieldPaths||[]).map(function(D){return ci.fromServerFormat(D)}))}(e.updateMask);return new xs(s,c,f,t,o)}return new Os(s,c,t,o)}if(e.delete){var m=Ar(i,e.delete);return new yl(m,t)}if(e.verify){var _=Ar(i,e.verify);return new ip(_,t)}return Pe()}function SC(i,e){return{documents:[DC(i,e.path)]}}function AC(i,e){var t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=DC(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=DC(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);var s=function(m){if(0!==m.length){var _=m.map(function(b){return function(C){if("=="===C.op){if(Yf(C.value))return{unaryFilter:{field:Na(C.field),op:"IS_NAN"}};if(oC(C.value))return{unaryFilter:{field:Na(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(Yf(C.value))return{unaryFilter:{field:Na(C.field),op:"IS_NOT_NAN"}};if(oC(C.value))return{unaryFilter:{field:Na(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(C.field),op:KO(C.op),value:C.value}}}(b)});return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}}(e.filters);s&&(t.structuredQuery.where=s);var c=function(m){if(0!==m.length)return m.map(function(_){return{field:Na((b=_).field),direction:dn(b.dir)};var b})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);var _,f=(_=e.limit,i.I||Qo(_)?_:{value:_});return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=Nd(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Nd(e.endAt)),t}function Fd(i){var e=ap(i.parent),t=i.structuredQuery,o=t.from?t.from.length:0,s=null;if(o>0){Je(1===o);var c=t.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}var f=[];t.where&&(f=IC(t.where));var m=[];t.orderBy&&(m=t.orderBy.map(function(D){return new Pa(ks((S=D).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));var D,S,_=null;t.limit&&(_=Qo(S="object"==typeof(D=t.limit)?D.value:D)?null:S);var b=null;t.startAt&&(b=Ld(t.startAt));var C=null;return t.endAt&&(C=Ld(t.endAt)),fI(e,s,m,f,_,"F",b,C)}function IC(i){return i?void 0!==i.unaryFilter?[MC(i)]:void 0!==i.fieldFilter?[EI(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(e){return IC(e)}).reduce(function(e,t){return e.concat(t)}):Pe():[]}function Nd(i){return{before:i.before,values:i.position}}function Ld(i){return new hl(i.values||[],!!i.before)}function dn(i){return bC[i]}function KO(i){return wC[i]}function Na(i){return{fieldPath:i.canonicalString()}}function ks(i){return ci.fromServerFormat(i.fieldPath)}function EI(i){return Hr.create(ks(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Pe()}}(i.fieldFilter.op),i.fieldFilter.value)}function MC(i){switch(i.unaryFilter.op){case"IS_NAN":var e=ks(i.unaryFilter.field);return Hr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var t=ks(i.unaryFilter.field);return Hr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=ks(i.unaryFilter.field);return Hr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=ks(i.unaryFilter.field);return Hr.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Pe()}}function RC(i){var e=[];return i.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function A_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function pi(i){for(var e="",t=0;t<i.length;t++)e.length>0&&(e=OC(e)),e=DI(i.get(t),e);return OC(e)}function DI(i,e){for(var t=e,o=i.length,s=0;s<o;s++){var c=i.charAt(s);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function OC(i){return i+"\x01\x01"}function Xo(i){var e=i.length;if(Je(e>=2),2===e)return Je("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),wt.emptyPath();for(var t=e-2,o=[],s="",c=0;c<e;){var f=i.indexOf("\x01",c);switch((f<0||f>t)&&Pe(),i.charAt(f+1)){case"\x01":var m=i.substring(c,f),_=void 0;0===s.length?_=m:(_=s+=m,s=""),o.push(_);break;case"\x10":s+=i.substring(c,f),s+="\0";break;case"\x11":s+=i.substring(c,f+1);break;default:Pe()}c=f+2}return new wt(o)}var Vd=function(i,e){this.seconds=i,this.nanoseconds=e},Qr=function(i,e,t){this.ownerId=i,this.allowTabSynchronization=e,this.leaseTimestampMs=t};Qr.store="owner",Qr.key="owner";var Fs=function(i,e,t){this.userId=i,this.lastAcknowledgedBatchId=e,this.lastStreamToken=t};Fs.store="mutationQueues",Fs.keyPath="userId";var Gt=function(i,e,t,o,s){this.userId=i,this.batchId=e,this.localWriteTimeMs=t,this.baseMutations=o,this.mutations=s};Gt.store="mutations",Gt.keyPath="batchId",Gt.userMutationsIndex="userMutationsIndex",Gt.userMutationsKeyPath=["userId","batchId"];var Pn=function(){function i(){}return i.prefixForUser=function(e){return[e]},i.prefixForPath=function(e,t){return[e,pi(t)]},i.key=function(e,t,o){return[e,pi(t),o]},i}();Pn.store="documentMutations",Pn.PLACEHOLDER=new Pn;var xC=function(i,e){this.path=i,this.readTime=e},PC=function(i,e){this.path=i,this.version=e},Jt=function(i,e,t,o,s,c){this.unknownDocument=i,this.noDocument=e,this.document=t,this.hasCommittedMutations=o,this.readTime=s,this.parentPath=c};Jt.store="remoteDocuments",Jt.readTimeIndex="readTimeIndex",Jt.readTimeIndexPath="readTime",Jt.collectionReadTimeIndex="collectionReadTimeIndex",Jt.collectionReadTimeIndexPath=["parentPath","readTime"];var _o=function(i){this.byteSize=i};_o.store="remoteDocumentGlobal",_o.key="remoteDocumentGlobalKey";var jn=function(i,e,t,o,s,c,f){this.targetId=i,this.canonicalId=e,this.readTime=t,this.resumeToken=o,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=c,this.query=f};jn.store="targets",jn.keyPath="targetId",jn.queryTargetsIndexName="queryTargetsIndex",jn.queryTargetsKeyPath=["canonicalId","targetId"];var vn=function(i,e,t){this.targetId=i,this.path=e,this.sequenceNumber=t};vn.store="targetDocuments",vn.keyPath=["targetId","path"],vn.documentTargetsIndex="documentTargetsIndex",vn.documentTargetsKeyPath=["path","targetId"];var Jr=function(i,e,t,o){this.highestTargetId=i,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=t,this.targetCount=o};Jr.key="targetGlobalKey",Jr.store="targetGlobal";var La=function(i,e){this.collectionId=i,this.parent=e};La.store="collectionParents",La.keyPath=["collectionId","parent"];var es=function(i,e,t,o){this.clientId=i,this.updateTimeMs=e,this.networkEnabled=t,this.inForeground=o};es.store="clientMetadata",es.keyPath="clientId";var Va=function(i,e,t){this.bundleId=i,this.createTime=e,this.version=t};Va.store="bundles",Va.keyPath="bundleId";var Ua=function(i,e,t){this.name=i,this.readTime=e,this.bundledQuery=t};Ua.store="namedQueries",Ua.keyPath="name";var kC=(0,M.ev)((0,M.ev)([],(0,M.ev)((0,M.ev)([],(0,M.ev)((0,M.ev)([],(0,M.ev)((0,M.ev)([],[Fs.store,Gt.store,Pn.store,Jt.store,jn.store,Qr.store,Jr.store,vn.store]),[es.store])),[_o.store])),[La.store])),[Va.store,Ua.store]),FC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",I_=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},i}(),_r=function(){var i=this;this.promise=new Promise(function(e,t){i.resolve=e,i.reject=t})},Ce=function(){function i(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(o){t.isDone=!0,t.result=o,t.nextCallback&&t.nextCallback(o)},function(o){t.isDone=!0,t.error=o,t.catchCallback&&t.catchCallback(o)})}return i.prototype.catch=function(e){return this.next(void 0,e)},i.prototype.next=function(e,t){var o=this;return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new i(function(s,c){o.nextCallback=function(f){o.wrapSuccess(e,f).next(s,c)},o.catchCallback=function(f){o.wrapFailure(t,f).next(s,c)}})},i.prototype.toPromise=function(){var e=this;return new Promise(function(t,o){e.next(t,o)})},i.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof i?t:i.resolve(t)}catch(o){return i.reject(o)}},i.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):i.resolve(t)},i.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):i.reject(t)},i.resolve=function(e){return new i(function(t,o){t(e)})},i.reject=function(e){return new i(function(t,o){o(e)})},i.waitFor=function(e){return new i(function(t,o){var s=0,c=0,f=!1;e.forEach(function(m){++s,m.next(function(){++c,f&&c===s&&t()},function(_){return o(_)})}),f=!0,c===s&&t()})},i.or=function(e){for(var t=i.resolve(!1),o=function(f){t=t.next(function(m){return m?i.resolve(m):f()})},s=0,c=e;s<c.length;s++)o(c[s]);return t},i.forEach=function(e,t){var o=this,s=[];return e.forEach(function(c,f){s.push(t.call(o,c,f))}),this.waitFor(s)},i}(),TI=function(){function i(e,t){var o=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new _r,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){t.error?o.ft.reject(new lp(e,t.error)):o.ft.resolve()},this.transaction.onerror=function(s){var c=dp(s.target.error);o.ft.reject(new lp(e,c))}}return i.open=function(e,t,o,s){try{return new i(t,e.transaction(s,o))}catch(c){throw new lp(t,c)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(e){var t=this.transaction.objectStore(e);return new cp(t)},i}(),Ud=function(){function i(e,t,o){this.name=e,this.version=t,this.wt=o,12.2===i._t((0,ut.z$)())&&Sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(e){return Ee("SimpleDb","Removing database:",e),Ba(window.indexedDB.deleteDatabase(e)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var e=(0,ut.z$)(),t=i._t(e),o=0<t&&t<10,s=i.Et(e),c=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||c)},i.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},i.It=function(e,t){return e.store(t)},i._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)},i.Et=function(e){var t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)},i.prototype.At=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t,o=this;return(0,M.Jh)(this,function(s){switch(s.label){case 0:return this.db?[3,2]:(Ee("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(c,f){var m=indexedDB.open(o.name,o.version);m.onsuccess=function(_){c(_.target.result)},m.onblocked=function(){f(new lp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=function(_){var b=_.target.error;f("VersionError"===b.name?new ve(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new lp(e,b))},m.onupgradeneeded=function(_){Ee("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',_.oldVersion),o.wt.Rt(_.target.result,m.transaction,_.oldVersion,o.version).next(function(){Ee("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:t.db=s.sent(),s.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(c){return o.bt(c)}),this.db)]}})})},i.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},i.prototype.runTransaction=function(e,t,o,s){return(0,M.mG)(this,void 0,void 0,function(){var c,f,m,_,b;return(0,M.Jh)(this,function(C){switch(C.label){case 0:c="readonly"===t,f=0,m=function(){var D,S,I,O,N;return(0,M.Jh)(this,function(G){switch(G.label){case 0:++f,G.label=1;case 1:return G.trys.push([1,4,,5]),[4,_.At(e)];case 2:return _.db=G.sent(),D=TI.open(_.db,e,c?"readonly":"readwrite",o),S=s(D).catch(function(te){return D.abort(te),Ce.reject(te)}).toPromise(),I={},S.catch(function(){}),[4,D.dt];case 3:return[2,(I.value=(G.sent(),S),I)];case 4:return Ee("SimpleDb","Transaction failed with error:",(O=G.sent()).message,"Retrying:",N="FirebaseError"!==O.name&&f<3),_.close(),N?[3,5]:[2,{value:Promise.reject(O)}];case 5:return[2]}})},_=this,C.label=1;case 1:return[5,m()];case 2:if("object"==typeof(b=C.sent()))return[2,b.value];C.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),QO=function(){function i(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(e){this.St=e},i.prototype.delete=function(){return Ba(this.Pt.delete())},i}(),lp=function(i){function e(t,o){var s=this;return(s=i.call(this,oe.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+o)||this).name="IndexedDbTransactionError",s}return(0,M.ZT)(e,i),e}(ve);function Ns(i){return"IndexedDbTransactionError"===i.name}var cp=function(){function i(e){this.store=e}return i.prototype.put=function(e,t){var o;return void 0!==t?(Ee("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ba(o)},i.prototype.add=function(e){return Ee("SimpleDb","ADD",this.store.name,e,e),Ba(this.store.add(e))},i.prototype.get=function(e){var t=this;return Ba(this.store.get(e)).next(function(o){return void 0===o&&(o=null),Ee("SimpleDb","GET",t.store.name,e,o),o})},i.prototype.delete=function(e){return Ee("SimpleDb","DELETE",this.store.name,e),Ba(this.store.delete(e))},i.prototype.count=function(){return Ee("SimpleDb","COUNT",this.store.name),Ba(this.store.count())},i.prototype.Nt=function(e,t){var o=this.cursor(this.options(e,t)),s=[];return this.xt(o,function(c,f){s.push(f)}).next(function(){return s})},i.prototype.kt=function(e,t){Ee("SimpleDb","DELETE ALL",this.store.name);var o=this.options(e,t);o.Ft=!1;var s=this.cursor(o);return this.xt(s,function(c,f,m){return m.delete()})},i.prototype.$t=function(e,t){var o;t?o=e:(o={},t=e);var s=this.cursor(o);return this.xt(s,t)},i.prototype.Ot=function(e){var t=this.cursor({});return new Ce(function(o,s){t.onerror=function(c){var f=dp(c.target.error);s(f)},t.onsuccess=function(c){var f=c.target.result;f?e(f.primaryKey,f.value).next(function(m){m?f.continue():o()}):o()}})},i.prototype.xt=function(e,t){var o=[];return new Ce(function(s,c){e.onerror=function(f){c(f.target.error)},e.onsuccess=function(f){var m=f.target.result;if(m){var _=new QO(m),b=t(m.primaryKey,m.value,_);if(b instanceof Ce){var C=b.catch(function(D){return _.done(),Ce.reject(D)});o.push(C)}_.isDone?s():null===_.Dt?m.continue():m.continue(_.Dt)}else s()}}).next(function(){return Ce.waitFor(o)})},i.prototype.options=function(e,t){var o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}},i.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var o=this.store.index(e.index);return e.Ft?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},i}();function Ba(i){return new Ce(function(e,t){i.onsuccess=function(o){e(o.target.result)},i.onerror=function(o){var s=dp(o.target.error);t(s)}})}var NC=!1;function dp(i){var e=Ud._t((0,ut.z$)());if(e>=12.2&&e<13){var t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){var o=new ve("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return NC||(NC=!0,setTimeout(function(){throw o},0)),o}}return i}var vl=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).Mt=t,s.currentSequenceNumber=o,s}return(0,M.ZT)(e,i),e}(I_);function Gr(i,e){var t=Te(i);return Ud.It(t.Mt,e)}var M_=function(){function i(e,t,o,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=s}return i.prototype.applyToRemoteDocument=function(e,t){for(var o=t.mutationResults,s=0;s<this.mutations.length;s++){var c=this.mutations[s];c.key.isEqual(e.key)&&mI(c,e,o[s])}},i.prototype.applyToLocalView=function(e){for(var t=0,o=this.baseMutations;t<o.length;t++)(f=o[t]).key.isEqual(e.key)&&np(f,e,this.localWriteTime);for(var s=0,c=this.mutations;s<c.length;s++){var f;(f=c[s]).key.isEqual(e.key)&&np(f,e,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(o){var s=e.get(o.key),c=s;t.applyToLocalView(c),s.isValidDocument()||c.convertToNoDocument(it.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},xt())},i.prototype.isEqual=function(e){return this.batchId===e.batchId&&Oa(this.mutations,e.mutations,function(t,o){return d_(t,o)})&&Oa(this.baseMutations,e.baseMutations,function(t,o){return d_(t,o)})},i}(),SI=function(){function i(e,t,o,s){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=s}return i.from=function(e,t,o){Je(e.mutations.length===o.length);for(var s=gC(),c=e.mutations,f=0;f<c.length;f++)s=s.insert(c[f].key,o[f].version);return new i(e,t,o,s)},i}(),hp=function(){function i(e,t,o,s,c,f,m){void 0===c&&(c=it.min()),void 0===f&&(f=it.min()),void 0===m&&(m=Sr.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}return i.prototype.withSequenceNumber=function(e){return new i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(e,t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},i.prototype.withLastLimboFreeSnapshotVersion=function(e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},i}(),LC=function(i){this.Lt=i};function fp(i,e){if(e.document)return CI(i.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Ue.fromSegments(e.noDocument.path),o=Ha(e.noDocument.readTime),s=Bn.newNoDocument(t,o);return e.hasCommittedMutations?s.setHasCommittedMutations():s}if(e.unknownDocument){var c=Ue.fromSegments(e.unknownDocument.path);return o=Ha(e.unknownDocument.version),Bn.newUnknownDocument(c,o)}return Pe()}function VC(i,e,t){var D,S,o=R_(t),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var c={name:kd(D=i.Lt,(S=e).key),fields:S.data.value.mapValue.fields,updateTime:_l(D,S.version.toTimestamp())},f=e.hasCommittedMutations;return new Jt(null,null,c,f,o,s)}if(e.isNoDocument()){var m=e.key.path.toArray(),_=bl(e.version);return f=e.hasCommittedMutations,new Jt(null,new xC(m,_),null,f,o,s)}if(e.isUnknownDocument()){var b=e.key.path.toArray(),C=bl(e.version);return new Jt(new PC(b,C),null,null,!0,o,s)}return Pe()}function R_(i){var e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ja(i){var e=new Ur(i[0],i[1]);return it.fromTimestamp(e)}function bl(i){var e=i.toTimestamp();return new Vd(e.seconds,e.nanoseconds)}function Ha(i){var e=new Ur(i.seconds,i.nanoseconds);return it.fromTimestamp(e)}function wl(i,e){for(var t=(e.baseMutations||[]).map(function(_){return TC(i.Lt,_)}),o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);var f=e.mutations.map(function(_){return TC(i.Lt,_)}),m=Ur.fromMillis(e.localWriteTimeMs);return new M_(e.batchId,m,t,f)}function Cl(i){var e,t,o=Ha(i.readTime),s=void 0!==i.lastLimboFreeSnapshotVersion?Ha(i.lastLimboFreeSnapshotVersion):it.min();return void 0!==i.query.documents?(Je(1===(t=i.query).documents.length),e=di(fl(ap(t.documents[0])))):e=di(Fd(i.query)),new hp(e,i.targetId,0,i.lastListenSequenceNumber,o,s,Sr.fromBase64String(i.resumeToken))}function UC(i,e){var t,o=bl(e.snapshotVersion),s=bl(e.lastLimboFreeSnapshotVersion);t=Id(e.target)?SC(i.Lt,e.target):AC(i.Lt,e.target);var c=e.resumeToken.toBase64();return new jn(e.targetId,dl(e.target),o,c,e.sequenceNumber,s,t)}function pp(i){var e=Fd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?r_(e,e.limit,"L"):e}var AI=function(){function i(){}return i.prototype.getBundleMetadata=function(e,t){return gp(e).get(t).next(function(o){if(o)return{id:(s=o).bundleId,createTime:Ha(s.createTime),version:s.version};var s})},i.prototype.saveBundleMetadata=function(e,t){return gp(e).put({bundleId:(o=t).id,createTime:bl(xn(o.createTime)),version:o.version});var o},i.prototype.getNamedQuery=function(e,t){return BC(e).get(t).next(function(o){if(o)return{name:(s=o).name,query:pp(s.bundledQuery),readTime:Ha(s.readTime)};var s})},i.prototype.saveNamedQuery=function(e,t){return BC(e).put({name:(o=t).name,readTime:bl(xn(o.readTime)),bundledQuery:o.bundledQuery});var o},i}();function gp(i){return Gr(i,Va.store)}function BC(i){return Gr(i,Ua.store)}var jC=function(){function i(){this.Bt=new mp}return i.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ce.resolve()},i.prototype.getCollectionParents=function(e,t){return Ce.resolve(this.Bt.getEntries(t))},i}(),mp=function(){function i(){this.index={}}return i.prototype.add=function(e){var t=e.lastSegment(),o=e.popLast(),s=this.index[t]||new On(wt.comparator),c=!s.has(o);return this.index[t]=s.add(o),c},i.prototype.has=function(e){var t=e.lastSegment(),o=e.popLast(),s=this.index[t];return s&&s.has(o)},i.prototype.getEntries=function(e){return(this.index[e]||new On(wt.comparator)).toArray()},i}(),II=function(){function i(){this.qt=new mp}return i.prototype.addToCollectionParentIndex=function(e,t){var o=this;if(!this.qt.has(t)){var s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(function(){o.qt.add(t)});var f={collectionId:s,parent:pi(c)};return HC(e).put(f)}return Ce.resolve()},i.prototype.getCollectionParents=function(e,t){var o=[],s=IDBKeyRange.bound([t,""],[lI(t),""],!1,!0);return HC(e).Nt(s).next(function(c){for(var f=0,m=c;f<m.length;f++){var _=m[f];if(_.collectionId!==t)break;o.push(Xo(_.parent))}return o})},i}();function HC(i){return Gr(i,La.store)}var GC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gi=function(){function i(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}return i.withCacheSize=function(e){return new i(e,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function qC(i,e,t){var o=i.store(Gt.store),s=i.store(Pn.store),c=[],f=IDBKeyRange.only(t.batchId),m=0,_=o.$t({range:f},function(O,N,G){return m++,G.delete()});c.push(_.next(function(){Je(1===m)}));for(var b=[],C=0,D=t.mutations;C<D.length;C++){var S=D[C],I=Pn.key(e,S.key.path,t.batchId);c.push(s.delete(I)),b.push(S.key)}return Ce.waitFor(c).next(function(){return b})}function Bd(i){if(!i)return 0;var e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Pe();e=i.noDocument}return JSON.stringify(e).length}gi.DEFAULT_COLLECTION_PERCENTILE=10,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gi.DEFAULT=new gi(41943040,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gi.DISABLED=new gi(-1,0,0);var MI=function(){function i(e,t,o,s){this.userId=e,this.R=t,this.Ut=o,this.referenceDelegate=s,this.Kt={}}return i.Qt=function(e,t,o,s){return Je(""!==e.uid),new i(e.isAuthenticated()?e.uid:"",t,o,s)},i.prototype.checkEmpty=function(e){var t=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ls(e).$t({index:Gt.userMutationsIndex,range:o},function(s,c,f){t=!1,f.done()}).next(function(){return t})},i.prototype.addMutationBatch=function(e,t,o,s){var c=this,f=El(e),m=Ls(e);return m.add({}).next(function(_){Je("number"==typeof _);for(var b=new M_(_,t,o,s),C=function(te,fe,ye){var De=ye.baseMutations.map(function(We){return je(te.Lt,We)}),Se=ye.mutations.map(function(We){return je(te.Lt,We)});return new Gt(fe,ye.batchId,ye.localWriteTime.toMillis(),De,Se)}(c.R,c.userId,b),D=[],S=new On(function(te,fe){return _t(te.canonicalString(),fe.canonicalString())}),I=0,O=s;I<O.length;I++){var N=O[I],G=Pn.key(c.userId,N.key.path,_);S=S.add(N.key.path.popLast()),D.push(m.put(C)),D.push(f.put(G,Pn.PLACEHOLDER))}return S.forEach(function(te){D.push(c.Ut.addToCollectionParentIndex(e,te))}),e.addOnCommittedListener(function(){c.Kt[_]=b.keys()}),Ce.waitFor(D).next(function(){return b})})},i.prototype.lookupMutationBatch=function(e,t){var o=this;return Ls(e).get(t).next(function(s){return s?(Je(s.userId===o.userId),wl(o.R,s)):null})},i.prototype.jt=function(e,t){var o=this;return this.Kt[t]?Ce.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(s){if(s){var c=s.keys();return o.Kt[t]=c,c}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(e,t){var o=this,s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]),f=null;return Ls(e).$t({index:Gt.userMutationsIndex,range:c},function(m,_,b){_.userId===o.userId&&(Je(_.batchId>=s),f=wl(o.R,_)),b.done()}).next(function(){return f})},i.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return Ls(e).$t({index:Gt.userMutationsIndex,range:t,reverse:!0},function(s,c,f){o=c.batchId,f.done()}).next(function(){return o})},i.prototype.getAllMutationBatches=function(e){var t=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ls(e).Nt(Gt.userMutationsIndex,o).next(function(s){return s.map(function(c){return wl(t.R,c)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var o=this,s=Pn.prefixForPath(this.userId,t.path),c=IDBKeyRange.lowerBound(s),f=[];return El(e).$t({range:c},function(m,_,b){var C=m[0],S=m[2],I=Xo(m[1]);if(C===o.userId&&t.path.isEqual(I))return Ls(e).get(S).next(function(O){if(!O)throw Pe();Je(O.userId===o.userId),f.push(wl(o.R,O))});b.done()}).next(function(){return f})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var o=this,s=new On(_t),c=[];return t.forEach(function(f){var m=Pn.prefixForPath(o.userId,f.path),_=IDBKeyRange.lowerBound(m),b=El(e).$t({range:_},function(C,D,S){var I=C[0],N=C[2],G=Xo(C[1]);I===o.userId&&f.path.isEqual(G)?s=s.add(N):S.done()});c.push(b)}),Ce.waitFor(c).next(function(){return o.Wt(e,s)})},i.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var o=this,s=t.path,c=s.length+1,f=Pn.prefixForPath(this.userId,s),m=IDBKeyRange.lowerBound(f),_=new On(_t);return El(e).$t({range:m},function(b,C,D){var S=b[0],O=b[2],N=Xo(b[1]);S===o.userId&&s.isPrefixOf(N)?N.length===c&&(_=_.add(O)):D.done()}).next(function(){return o.Wt(e,_)})},i.prototype.Wt=function(e,t){var o=this,s=[],c=[];return t.forEach(function(f){c.push(Ls(e).get(f).next(function(m){if(null===m)throw Pe();Je(m.userId===o.userId),s.push(wl(o.R,m))}))}),Ce.waitFor(c).next(function(){return s})},i.prototype.removeMutationBatch=function(e,t){var o=this;return qC(e.Mt,this.userId,t).next(function(s){return e.addOnCommittedListener(function(){o.Gt(t.batchId)}),Ce.forEach(s,function(c){return o.referenceDelegate.markPotentiallyOrphaned(e,c)})})},i.prototype.Gt=function(e){delete this.Kt[e]},i.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(o){if(!o)return Ce.resolve();var s=IDBKeyRange.lowerBound(Pn.prefixForUser(t.userId)),c=[];return El(e).$t({range:s},function(f,m,_){if(f[0]===t.userId){var b=Xo(f[1]);c.push(b)}else _.done()}).next(function(){Je(0===c.length)})})},i.prototype.containsKey=function(e,t){return zC(e,this.userId,t)},i.prototype.zt=function(e){var t=this;return $C(e).get(this.userId).next(function(o){return o||new Fs(t.userId,-1,"")})},i}();function zC(i,e,t){var o=Pn.prefixForPath(e,t.path),s=o[1],c=IDBKeyRange.lowerBound(o),f=!1;return El(i).$t({range:c,Ft:!0},function(m,_,b){m[0]===e&&m[1]===s&&(f=!0),b.done()}).next(function(){return f})}function Ls(i){return Gr(i,Gt.store)}function El(i){return Gr(i,Pn.store)}function $C(i){return Gr(i,Fs.store)}var yp=function(){function i(e){this.Ht=e}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),RI=function(){function i(e,t){this.referenceDelegate=e,this.R=t}return i.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(o){var s=new yp(o.highestTargetId);return o.highestTargetId=s.next(),t.Zt(e,o).next(function(){return o.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(t){return it.fromTimestamp(new Ur(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(t){return t.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(e,t,o){var s=this;return this.Xt(e).next(function(c){return c.highestListenSequenceNumber=t,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),s.Zt(e,c)})},i.prototype.addTargetData=function(e,t){var o=this;return this.te(e,t).next(function(){return o.Xt(e).next(function(s){return s.targetCount+=1,o.ee(t,s),o.Zt(e,s)})})},i.prototype.updateTargetData=function(e,t){return this.te(e,t)},i.prototype.removeTargetData=function(e,t){var o=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Dl(e).delete(t.targetId)}).next(function(){return o.Xt(e)}).next(function(s){return Je(s.targetCount>0),s.targetCount-=1,o.Zt(e,s)})},i.prototype.removeTargets=function(e,t,o){var s=this,c=0,f=[];return Dl(e).$t(function(m,_){var b=Cl(_);b.sequenceNumber<=t&&null===o.get(b.targetId)&&(c++,f.push(s.removeTargetData(e,b)))}).next(function(){return Ce.waitFor(f)}).next(function(){return c})},i.prototype.forEachTarget=function(e,t){return Dl(e).$t(function(o,s){var c=Cl(s);t(c)})},i.prototype.Xt=function(e){return O_(e).get(Jr.key).next(function(t){return Je(null!==t),t})},i.prototype.Zt=function(e,t){return O_(e).put(Jr.key,t)},i.prototype.te=function(e,t){return Dl(e).put(UC(this.R,t))},i.prototype.ee=function(e,t){var o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o},i.prototype.getTargetCount=function(e){return this.Xt(e).next(function(t){return t.targetCount})},i.prototype.getTargetData=function(e,t){var o=dl(t),s=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),c=null;return Dl(e).$t({range:s,index:jn.queryTargetsIndexName},function(f,m,_){var b=Cl(m);Qf(t,b.target)&&(c=b,_.done())}).next(function(){return c})},i.prototype.addMatchingKeys=function(e,t,o){var s=this,c=[],f=ts(e);return t.forEach(function(m){var _=pi(m.path);c.push(f.put(new vn(o,_))),c.push(s.referenceDelegate.addReference(e,o,m))}),Ce.waitFor(c)},i.prototype.removeMatchingKeys=function(e,t,o){var s=this,c=ts(e);return Ce.forEach(t,function(f){var m=pi(f.path);return Ce.waitFor([c.delete([o,m]),s.referenceDelegate.removeReference(e,o,f)])})},i.prototype.removeMatchingKeysForTargetId=function(e,t){var o=ts(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(s)},i.prototype.getMatchingKeysForTargetId=function(e,t){var o=IDBKeyRange.bound([t],[t+1],!1,!0),s=ts(e),c=xt();return s.$t({range:o,Ft:!0},function(f,m,_){var b=Xo(f[1]),C=new Ue(b);c=c.add(C)}).next(function(){return c})},i.prototype.containsKey=function(e,t){var o=pi(t.path),s=IDBKeyRange.bound([o],[lI(o)],!1,!0),c=0;return ts(e).$t({index:vn.documentTargetsIndex,Ft:!0,range:s},function(f,m,_){0!==f[0]&&(c++,_.done())}).next(function(){return c>0})},i.prototype.lt=function(e,t){return Dl(e).get(t).next(function(o){return o?Cl(o):null})},i}();function Dl(i){return Gr(i,jn.store)}function O_(i){return Gr(i,Jr.store)}function ts(i){return Gr(i,vn.store)}function Ga(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){if(i.code!==oe.FAILED_PRECONDITION||i.message!==FC)throw i;return Ee("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ZC(i,e){var o=i[1],c=e[1],f=_t(i[0],e[0]);return 0===f?_t(o,c):f}var YC=function(){function i(e){this.ne=e,this.buffer=new On(ZC),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var o=this.buffer.last();ZC(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),OI=function(){function i(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return i.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(e){var t=this,o=this.oe?3e5:6e4;Ee("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,M.mG)(t,void 0,void 0,function(){var s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:this.ce=null,this.oe=!0,c.label=1;case 1:return c.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return c.sent(),[3,7];case 3:return Ns(s=c.sent())?(Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s),[3,6]):[3,4];case 4:return[4,Ga(s)];case 5:c.sent(),c.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return c.sent(),[2]}})})})},i}(),xI=function(){function i(e,t){this.ae=e,this.params=t}return i.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(o){return Math.floor(t/100*o)})},i.prototype.nthSequenceNumber=function(e,t){var o=this;if(0===t)return Ce.resolve(Vr.o);var s=new YC(t);return this.ae.forEachTarget(e,function(c){return s.re(c.sequenceNumber)}).next(function(){return o.ae.le(e,function(c){return s.re(c)})}).next(function(){return s.maxValue})},i.prototype.removeTargets=function(e,t,o){return this.ae.removeTargets(e,t,o)},i.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},i.prototype.collect=function(e,t){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(GC)):this.getCacheSize(e).next(function(s){return s<o.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; Cache size "+s+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),GC):o.fe(e,t)})},i.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},i.prototype.fe=function(e,t){var o,s,c,f,m,_,b,C=this,D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(S){return S>C.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+C.params.maximumSequenceNumbersToCollect+" from "+S),s=C.params.maximumSequenceNumbersToCollect):s=S,f=Date.now(),C.nthSequenceNumber(e,s)}).next(function(S){return o=S,m=Date.now(),C.removeTargets(e,o,t)}).next(function(S){return c=S,_=Date.now(),C.removeOrphanedDocuments(e,o)}).next(function(S){return b=Date.now(),qy()<=Vo.in.DEBUG&&Ee("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(f-D)+"ms\n\tDetermined least recently used "+s+" in "+(m-f)+"ms\n\tRemoved "+c+" targets in "+(_-m)+"ms\n\tRemoved "+S+" documents in "+(b-_)+"ms\nTotal Duration: "+(b-D)+"ms"),Ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:c,documentsRemoved:S})})},i}(),PI=function(){function i(e,t){this.db=e,this.garbageCollector=new xI(this,t)}return i.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(o){return t.next(function(s){return o+s})})},i.prototype.de=function(e){var t=0;return this.le(e,function(o){t++}).next(function(){return t})},i.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},i.prototype.le=function(e,t){return this.we(e,function(o,s){return t(s)})},i.prototype.addReference=function(e,t,o){return Tl(e,o)},i.prototype.removeReference=function(e,t,o){return Tl(e,o)},i.prototype.removeTargets=function(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)},i.prototype.markPotentiallyOrphaned=function(e,t){return Tl(e,t)},i.prototype._e=function(e,t){return s=t,c=!1,$C(o=e).Ot(function(f){return zC(o,f,s).next(function(m){return m&&(c=!0),Ce.resolve(!m)})}).next(function(){return c});var o,s,c},i.prototype.removeOrphanedDocuments=function(e,t){var o=this,s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[],f=0;return this.we(e,function(m,_){if(_<=t){var b=o._e(e,m).next(function(C){if(!C)return f++,s.getEntry(e,m).next(function(){return s.removeEntry(m),ts(e).delete([0,pi(m.path)])})});c.push(b)}}).next(function(){return Ce.waitFor(c)}).next(function(){return s.apply(e)}).next(function(){return f})},i.prototype.removeTarget=function(e,t){var o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)},i.prototype.updateLimboDocument=function(e,t){return Tl(e,t)},i.prototype.we=function(e,t){var o,s=ts(e),c=Vr.o;return s.$t({index:vn.documentTargetsIndex},function(f,m){var b=m.path,C=m.sequenceNumber;0===f[0]?(c!==Vr.o&&t(new Ue(Xo(o)),c),c=C,o=b):c=Vr.o}).next(function(){c!==Vr.o&&t(new Ue(Xo(o)),c)})},i.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},i}();function Tl(i,e){return ts(i).put((o=i.currentSequenceNumber,new vn(0,pi(e.path),o)));var o}var Vs=function(){function i(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return i.prototype.get=function(e){var t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(var s=0,c=o;s<c.length;s++){var f=c[s],_=f[1];if(this.equalsFn(f[0],e))return _}},i.prototype.has=function(e){return void 0!==this.get(e)},i.prototype.set=function(e,t){var o=this.mapKeyFn(e),s=this.inner[o];if(void 0!==s){for(var c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return void(s[c]=[e,t]);s.push([e,t])}else this.inner[o]=[[e,t]]},i.prototype.delete=function(e){var t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return 1===o.length?delete this.inner[t]:o.splice(s,1),!0;return!1},i.prototype.forEach=function(e){As(this.inner,function(t,o){for(var s=0,c=o;s<c.length;s++){var f=c[s];e(f[0],f[1])}})},i.prototype.isEmpty=function(){return rC(this.inner)},i}(),x_=function(){function i(){this.changes=new Vs(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return i.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:it.min()},i.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},i.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Bn.newInvalidDocument(e),readTime:t})},i.prototype.getEntry=function(e,t){this.assertNotApplied();var o=this.changes.get(t);return void 0!==o?Ce.resolve(o.document):this.getFromCache(e,t)},i.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},i.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},i.prototype.assertNotApplied=function(){},i}(),P_=function(){function i(e,t){this.R=e,this.Ut=t}return i.prototype.addEntry=function(e,t,o){return vo(e).put(_p(t),o)},i.prototype.removeEntry=function(e,t){var o=vo(e),s=_p(t);return o.delete(s)},i.prototype.updateMetadata=function(e,t){var o=this;return this.getMetadata(e).next(function(s){return s.byteSize+=t,o.me(e,s)})},i.prototype.getEntry=function(e,t){var o=this;return vo(e).get(_p(t)).next(function(s){return o.ye(t,s)})},i.prototype.ge=function(e,t){var o=this;return vo(e).get(_p(t)).next(function(s){return{document:o.ye(t,s),size:Bd(s)}})},i.prototype.getEntries=function(e,t){var o=this,s=fi();return this.pe(e,t,function(c,f){var m=o.ye(c,f);s=s.insert(c,m)}).next(function(){return s})},i.prototype.Ee=function(e,t){var o=this,s=fi(),c=new nr(Ue.comparator);return this.pe(e,t,function(f,m){var _=o.ye(f,m);s=s.insert(f,_),c=c.insert(f,Bd(m))}).next(function(){return{documents:s,Te:c}})},i.prototype.pe=function(e,t,o){if(t.isEmpty())return Ce.resolve();var s=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator(),f=c.getNext();return vo(e).$t({range:s},function(m,_,b){for(var C=Ue.fromSegments(m);f&&Ue.comparator(f,C)<0;)o(f,null),f=c.getNext();f&&f.isEqual(C)&&(o(f,_),f=c.hasNext()?c.getNext():null),f?b.Ct(f.path.toArray()):b.done()}).next(function(){for(;f;)o(f,null),f=c.hasNext()?c.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(e,t,o){var s=this,c=fi(),f=t.path.length+1,m={};if(o.isEqual(it.min())){var _=t.path.toArray();m.range=IDBKeyRange.lowerBound(_)}else{var b=t.path.toArray(),C=R_(o);m.range=IDBKeyRange.lowerBound([b,C],!0),m.index=Jt.collectionReadTimeIndex}return vo(e).$t(m,function(D,S,I){if(D.length===f){var O=fp(s.R,S);t.path.isPrefixOf(O.key.path)?yo(t,O)&&(c=c.insert(O.key,O)):I.done()}}).next(function(){return c})},i.prototype.newChangeBuffer=function(e){return new kI(this,!!e&&e.trackRemovals)},i.prototype.getSize=function(e){return this.getMetadata(e).next(function(t){return t.byteSize})},i.prototype.getMetadata=function(e){return WC(e).get(_o.key).next(function(t){return Je(!!t),t})},i.prototype.me=function(e,t){return WC(e).put(_o.key,t)},i.prototype.ye=function(e,t){if(t){var o=fp(this.R,t);if(!o.isNoDocument()||!o.version.isEqual(it.min()))return o}return Bn.newInvalidDocument(e)},i}(),kI=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).Ie=t,s.trackRemovals=o,s.Ae=new Vs(function(c){return c.toString()},function(c,f){return c.isEqual(f)}),s}return(0,M.ZT)(e,i),e.prototype.applyChanges=function(t){var o=this,s=[],c=0,f=new On(function(m,_){return _t(m.canonicalString(),_.canonicalString())});return this.changes.forEach(function(m,_){var b=o.Ae.get(m);if(_.document.isValidDocument()){var C=VC(o.Ie.R,_.document,o.getReadTime(m));f=f.add(m.path.popLast());var D=Bd(C);c+=D-b,s.push(o.Ie.addEntry(t,m,C))}else if(c-=b,o.trackRemovals){var S=VC(o.Ie.R,Bn.newNoDocument(m,it.min()),o.getReadTime(m));s.push(o.Ie.addEntry(t,m,S))}else s.push(o.Ie.removeEntry(t,m))}),f.forEach(function(m){s.push(o.Ie.Ut.addToCollectionParentIndex(t,m))}),s.push(this.Ie.updateMetadata(t,c)),Ce.waitFor(s)},e.prototype.getFromCache=function(t,o){var s=this;return this.Ie.ge(t,o).next(function(c){return s.Ae.set(o,c.size),c.document})},e.prototype.getAllFromCache=function(t,o){var s=this;return this.Ie.Ee(t,o).next(function(c){var f=c.documents;return c.Te.forEach(function(m,_){s.Ae.set(m,_)}),f})},e}(x_);function WC(i){return Gr(i,_o.store)}function vo(i){return Gr(i,Jt.store)}function _p(i){return i.path.toArray()}var KC=function(){function i(e){this.R=e}return i.prototype.Rt=function(e,t,o,s){var c=this;Je(o<s&&o>=0&&s<=11);var _,f=new TI("createOrUpgrade",t);o<1&&s>=1&&(e.createObjectStore(Qr.store),(_=e).createObjectStore(Fs.store,{keyPath:Fs.keyPath}),_.createObjectStore(Gt.store,{keyPath:Gt.keyPath,autoIncrement:!0}).createIndex(Gt.userMutationsIndex,Gt.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Pn.store),QC(e),function(_){_.createObjectStore(Jt.store)}(e));var m=Ce.resolve();return o<3&&s>=3&&(0!==o&&(function(_){_.deleteObjectStore(vn.store),_.deleteObjectStore(jn.store),_.deleteObjectStore(Jr.store)}(e),QC(e)),m=m.next(function(){return function(_){var b=_.store(Jr.store),C=new Jr(0,0,it.min().toTimestamp(),0);return b.put(Jr.key,C)}(f)})),o<4&&s>=4&&(0!==o&&(m=m.next(function(){return function(_,b){return b.store(Gt.store).Nt().next(function(C){_.deleteObjectStore(Gt.store),_.createObjectStore(Gt.store,{keyPath:Gt.keyPath,autoIncrement:!0}).createIndex(Gt.userMutationsIndex,Gt.userMutationsKeyPath,{unique:!0});var D=b.store(Gt.store),S=C.map(function(I){return D.put(I)});return Ce.waitFor(S)})}(e,f)})),m=m.next(function(){!function(_){_.createObjectStore(es.store,{keyPath:es.keyPath})}(e)})),o<5&&s>=5&&(m=m.next(function(){return c.Re(f)})),o<6&&s>=6&&(m=m.next(function(){return function(_){_.createObjectStore(_o.store)}(e),c.be(f)})),o<7&&s>=7&&(m=m.next(function(){return c.ve(f)})),o<8&&s>=8&&(m=m.next(function(){return c.Pe(e,f)})),o<9&&s>=9&&(m=m.next(function(){(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){var b=_.objectStore(Jt.store);b.createIndex(Jt.readTimeIndex,Jt.readTimeIndexPath,{unique:!1}),b.createIndex(Jt.collectionReadTimeIndex,Jt.collectionReadTimeIndexPath,{unique:!1})}(t)})),o<10&&s>=10&&(m=m.next(function(){return c.Ve(f)})),o<11&&s>=11&&(m=m.next(function(){(function(_){_.createObjectStore(Va.store,{keyPath:Va.keyPath})})(e),function(_){_.createObjectStore(Ua.store,{keyPath:Ua.keyPath})}(e)})),m},i.prototype.be=function(e){var t=0;return e.store(Jt.store).$t(function(o,s){t+=Bd(s)}).next(function(){var o=new _o(t);return e.store(_o.store).put(_o.key,o)})},i.prototype.Re=function(e){var t=this,o=e.store(Fs.store),s=e.store(Gt.store);return o.Nt().next(function(c){return Ce.forEach(c,function(f){var m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.Nt(Gt.userMutationsIndex,m).next(function(_){return Ce.forEach(_,function(b){Je(b.userId===f.userId);var C=wl(t.R,b);return qC(e,f.userId,C).next(function(){})})})})})},i.prototype.ve=function(e){var t=e.store(vn.store),o=e.store(Jt.store);return e.store(Jr.store).get(Jr.key).next(function(s){var c=[];return o.$t(function(f,m){var _=new wt(f),b=[0,pi(_)];c.push(t.get(b).next(function(C){return C?Ce.resolve():t.put(new vn(0,pi(_),s.highestListenSequenceNumber))}))}).next(function(){return Ce.waitFor(c)})})},i.prototype.Pe=function(e,t){e.createObjectStore(La.store,{keyPath:La.keyPath});var o=t.store(La.store),s=new mp,c=function(f){if(s.add(f)){var m=f.lastSegment(),_=f.popLast();return o.put({collectionId:m,parent:pi(_)})}};return t.store(Jt.store).$t({Ft:!0},function(f,m){var _=new wt(f);return c(_.popLast())}).next(function(){return t.store(Pn.store).$t({Ft:!0},function(f,m){var b=Xo(f[1]);return c(b.popLast())})})},i.prototype.Ve=function(e){var t=this,o=e.store(jn.store);return o.$t(function(s,c){var f=Cl(c),m=UC(t.R,f);return o.put(m)})},i}();function QC(i){i.createObjectStore(vn.store,{keyPath:vn.keyPath}).createIndex(vn.documentTargetsIndex,vn.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(jn.store,{keyPath:jn.keyPath}).createIndex(jn.queryTargetsIndexName,jn.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Jr.store)}var vp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",JC=function(){function i(e,t,o,s,c,f,m,_,b,C){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Se=c,this.window=f,this.document=m,this.De=b,this.Ce=C,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(D){return Promise.resolve()},!i.yt())throw new ve(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new PI(this,s),this.Le=t+"main",this.R=new LC(_),this.Be=new Ud(this.Le,11,new KC(this.R)),this.qe=new RI(this.referenceDelegate,this.R),this.Ut=new II,this.Ue=new P_(this.R,this.Ut),this.Ke=new AI,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===C&&Sn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ve(oe.FAILED_PRECONDITION,vp);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new Vr(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},i.prototype.He=function(e){var t=this;return this.Me=function(o){return(0,M.mG)(t,void 0,void 0,function(){return(0,M.Jh)(this,function(s){return this.started?[2,e(o)]:[2]})})},e(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(o){return(0,M.mG)(t,void 0,void 0,function(){return(0,M.Jh)(this,function(s){switch(s.label){case 0:return null===o.newVersion?[4,e()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,M.mG)(t,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return k_(t).put(new es(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(o){o||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(o){return e.isPrimary&&!o?e.Xe(t).next(function(){return!1}):!!o&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(Ns(t))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},i.prototype.Je=function(e){var t=this;return Sl(e).get(Qr.key).next(function(o){return Ce.resolve(t.tn(o))})},i.prototype.en=function(e){return k_(e).delete(this.clientId)},i.prototype.nn=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,c=this;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(m){var _=Gr(m,es.store);return _.Nt().next(function(b){var C=c.rn(b,18e5),D=b.filter(function(S){return-1===C.indexOf(S)});return Ce.forEach(D,function(S){return _.delete(S.clientId)}).next(function(){return D})})}).catch(function(){return[]})]);case 1:if(e=f.sent(),this.Qe)for(t=0,o=e;t<o.length;t++)this.Qe.removeItem(this.on(o[t].clientId));f.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},i.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},i.prototype.Ye=function(e){var t=this;return this.Ce?Ce.resolve(!0):Sl(e).get(Qr.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)){if(t.tn(o)&&t.networkEnabled)return!0;if(!t.tn(o)){if(!o.allowTabSynchronization)throw new ve(oe.FAILED_PRECONDITION,vp);return!1}}return!(!t.networkEnabled||!t.inForeground)||k_(e).Nt().next(function(s){return void 0===t.rn(s,5e3).find(function(c){return!(t.clientId===c.clientId||!(!t.networkEnabled&&c.networkEnabled||!t.inForeground&&c.inForeground&&t.networkEnabled===c.networkEnabled))})})}).next(function(o){return t.isPrimary!==o&&Ee("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},i.prototype.shutdown=function(){return(0,M.mG)(this,void 0,void 0,function(){var e=this;return(0,M.Jh)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qr.store,es.store],function(o){var s=new vl(o,Vr.o);return e.Xe(s).next(function(){return e.en(s)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(e,t){var o=this;return e.filter(function(s){return o.sn(s.updateTimeMs,t)&&!o.cn(s.clientId)})},i.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return k_(t).Nt().next(function(o){return e.rn(o,18e5).map(function(s){return s.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(e){return MI.Qt(e,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(e,t,o){var c,s=this;return Ee("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",kC,function(m){return c=new vl(m,s.Ne?s.Ne.next():Vr.o),"readwrite-primary"===t?s.Je(c).next(function(_){return!!_||s.Ye(c)}).next(function(_){if(!_)throw Sn("Failed to obtain primary lease for action '"+e+"'."),s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}),new ve(oe.FAILED_PRECONDITION,FC);return o(c)}).next(function(_){return s.Ze(c).next(function(){return _})}):s.dn(c).next(function(){return o(c)})}).then(function(m){return c.raiseOnCommittedEvent(),m})},i.prototype.dn=function(e){var t=this;return Sl(e).get(Qr.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)&&!t.tn(o)&&!(t.Ce||t.allowTabSynchronization&&o.allowTabSynchronization))throw new ve(oe.FAILED_PRECONDITION,vp)})},i.prototype.Ze=function(e){var t=new Qr(this.clientId,this.allowTabSynchronization,Date.now());return Sl(e).put(Qr.key,t)},i.yt=function(){return Ud.yt()},i.prototype.Xe=function(e){var t=this,o=Sl(e);return o.get(Qr.key).next(function(s){return t.tn(s)?(Ee("IndexedDbPersistence","Releasing primary lease."),o.delete(Qr.key)):Ce.resolve()})},i.prototype.sn=function(e,t){var o=Date.now();return!(e<o-t||e>o&&(Sn("Detected an update time that is in the future: "+e+" > "+o),1))},i.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},i.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,ut.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},i.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},i.prototype.cn=function(e){var t;try{var o=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Ee("IndexedDbPersistence","Client '"+e+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(s){return Sn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Sn("Failed to set zombie client id.",e)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},i.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},i}();function Sl(i){return Gr(i,Qr.store)}function k_(i){return Gr(i,es.store)}function F_(i,e){var t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}var qa=function(i,e){this.progress=i,this.wn=e},FI=function(){function i(e,t,o){this.Ue=e,this._n=t,this.Ut=o}return i.prototype.mn=function(e,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(s){return o.yn(e,t,s)})},i.prototype.yn=function(e,t,o){return this.Ue.getEntry(e,t).next(function(s){for(var c=0,f=o;c<f.length;c++)f[c].applyToLocalView(s);return s})},i.prototype.gn=function(e,t){e.forEach(function(o,s){for(var c=0,f=t;c<f.length;c++)f[c].applyToLocalView(s)})},i.prototype.pn=function(e,t){var o=this;return this.Ue.getEntries(e,t).next(function(s){return o.En(e,s).next(function(){return s})})},i.prototype.En=function(e,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(s){return o.gn(t,s)})},i.prototype.getDocumentsMatchingQuery=function(e,t,o){return Ue.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.Tn(e,t.path):ep(t)?this.In(e,t,o):this.An(e,t,o);var s},i.prototype.Tn=function(e,t){return this.mn(e,new Ue(t)).next(function(o){var s=y_();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})},i.prototype.In=function(e,t,o){var s=this,c=t.collectionGroup,f=y_();return this.Ut.getCollectionParents(e,c).next(function(m){return Ce.forEach(m,function(_){var C,D,b=(C=t,D=_.child(c),new mo(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));return s.An(e,b,o).next(function(C){C.forEach(function(D,S){f=f.insert(D,S)})})}).next(function(){return f})})},i.prototype.An=function(e,t,o){var s,c,f=this;return this.Ue.getDocumentsMatchingQuery(e,t,o).next(function(m){return s=m,f._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(m){return f.Rn(e,c=m,s).next(function(_){s=_;for(var b=0,C=c;b<C.length;b++)for(var D=C[b],S=0,I=D.mutations;S<I.length;S++){var O=I[S],N=O.key,G=s.get(N);null==G&&(G=Bn.newInvalidDocument(N),s=s.insert(N,G)),np(O,G,D.localWriteTime),G.isFoundDocument()||(s=s.remove(N))}})}).next(function(){return s.forEach(function(m,_){yo(t,_)||(s=s.remove(m))}),s})},i.prototype.Rn=function(e,t,o){for(var s=xt(),c=0,f=t;c<f.length;c++)for(var m=0,_=f[c].mutations;m<_.length;m++){var b=_[m];b instanceof xs&&null===o.get(b.key)&&(s=s.add(b.key))}var C=o;return this.Ue.getEntries(e,s).next(function(D){return D.forEach(function(S,I){I.isFoundDocument()&&(C=C.insert(S,I))}),C})},i}(),N_=function(){function i(e,t,o,s){this.targetId=e,this.fromCache=t,this.bn=o,this.vn=s}return i.Pn=function(e,t){for(var o=xt(),s=xt(),c=0,f=t.docChanges;c<f.length;c++){var m=f[c];switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:s=s.add(m.doc.key)}}return new i(e,t.fromCache,o,s)},i}(),jd=function(){function i(){}return i.prototype.Vn=function(e){this.Sn=e},i.prototype.getDocumentsMatchingQuery=function(e,t,o,s){var f,c=this;return 0===(f=t).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(it.min())?this.Dn(e,t):this.Sn.pn(e,s).next(function(f){var m=c.Cn(t,f);return(Xf(t)||Rd(t))&&c.Nn(t.limitType,m,s,o)?c.Dn(e,t):(qy()<=Vo.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),tp(t)),c.Sn.getDocumentsMatchingQuery(e,t,o).next(function(_){return m.forEach(function(b){_=_.insert(b.key,b)}),_}))})},i.prototype.Cn=function(e,t){var o=new On(cC(e));return t.forEach(function(s,c){yo(e,c)&&(o=o.add(c))}),o},i.prototype.Nn=function(e,t,o,s){if(o.size!==t.size)return!0;var c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)},i.prototype.Dn=function(e,t){return qy()<=Vo.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",tp(t)),this.Sn.getDocumentsMatchingQuery(e,t,it.min())},i}(),NI=function(){function i(e,t,o,s){this.persistence=e,this.xn=t,this.R=s,this.kn=new nr(_t),this.Fn=new Vs(function(c){return dl(c)},Qf),this.$n=it.min(),this._n=e.getMutationQueue(o),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new FI(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return e.collect(o,t.kn)})},i}();function za(i,e,t,o){return new NI(i,e,t,o)}function XC(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,s,c;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return t=Te(i),o=t._n,s=t.Mn,[4,t.persistence.runTransaction("Handle user change","readonly",function(m){var _;return t._n.getAllMutationBatches(m).next(function(b){return _=b,o=t.persistence.getMutationQueue(e),s=new FI(t.On,o,t.persistence.getIndexManager()),o.getAllMutationBatches(m)}).next(function(b){for(var C=[],D=[],S=xt(),I=0,O=_;I<O.length;I++){var N=O[I];C.push(N.batchId);for(var G=0,te=N.mutations;G<te.length;G++)S=S.add(te[G].key)}for(var ye=0,De=b;ye<De.length;ye++){var Se=De[ye];D.push(Se.batchId);for(var We=0,Ct=Se.mutations;We<Ct.length;We++)S=S.add(Ct[We].key)}return s.pn(m,S).next(function(qt){return{Ln:qt,removedBatchIds:C,addedBatchIds:D}})})})];case 1:return c=f.sent(),[2,(t._n=o,t.Mn=s,t.xn.Vn(t.Mn),c)]}})})}function JO(i,e){var t=Te(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var f,m,_,b,C,D,S,s=e.batch.keys(),c=t.On.newChangeBuffer({trackRemovals:!0});return(f=t,m=o,_=e,b=c,C=_.batch,D=C.keys(),S=Ce.resolve(),D.forEach(function(I){S=S.next(function(){return b.getEntry(m,I)}).next(function(O){var N=_.docVersions.get(I);Je(null!==N),O.version.compareTo(N)<0&&(C.applyToRemoteDocument(O,_),O.isValidDocument()&&b.addEntry(O,_.commitVersion))})}),S.next(function(){return f._n.removeMutationBatch(m,C)})).next(function(){return c.apply(o)}).next(function(){return t._n.performConsistencyCheck(o)}).next(function(){return t.Mn.pn(o,s)})})}function eE(i){var e=Te(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function bo(i,e){var t=Te(i),o=e.snapshotVersion,s=t.kn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",function(c){var f=t.On.newChangeBuffer({trackRemovals:!0});s=t.kn;var m=[];e.targetChanges.forEach(function(C,D){var N,G,te,S=s.get(D);if(S){m.push(t.qe.removeMatchingKeys(c,C.removedDocuments,D).next(function(){return t.qe.addMatchingKeys(c,C.addedDocuments,D)}));var I=C.resumeToken;if(I.approximateByteSize()>0){var O=S.withResumeToken(I,o).withSequenceNumber(c.currentSequenceNumber);s=s.insert(D,O),N=S,te=C,Je((G=O).resumeToken.approximateByteSize()>0),(0===N.resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&m.push(t.qe.updateTargetData(c,O))}}});var _=fi();if(e.documentUpdates.forEach(function(C,D){e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,C))}),m.push(L_(c,f,e.documentUpdates,o,void 0).next(function(C){_=C})),!o.isEqual(it.min())){var b=t.qe.getLastRemoteSnapshotVersion(c).next(function(C){return t.qe.setTargetsMetadata(c,c.currentSequenceNumber,o)});m.push(b)}return Ce.waitFor(m).next(function(){return f.apply(c)}).next(function(){return t.Mn.En(c,_)}).next(function(){return _})}).then(function(c){return t.kn=s,c})}function L_(i,e,t,o,s){var c=xt();return t.forEach(function(f){return c=c.add(f)}),e.getEntries(i,c).next(function(f){var m=fi();return t.forEach(function(_,b){var C=f.get(_),D=(null==s?void 0:s.get(_))||o;b.isNoDocument()&&b.version.isEqual(it.min())?(e.removeEntry(_,D),m=m.insert(_,b)):!C.isValidDocument()||b.version.compareTo(C.version)>0||0===b.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(b,D),m=m.insert(_,b)):Ee("LocalStore","Ignoring outdated watch update for ",_,". Current version:",C.version," Watch version:",b.version)}),m})}function XO(i,e){var t=Te(i);return t.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===e&&(e=-1),t._n.getNextMutationBatchAfterBatchId(o,e)})}function ns(i,e){var t=Te(i);return t.persistence.runTransaction("Allocate target","readwrite",function(o){var s;return t.qe.getTargetData(o,e).next(function(c){return c?Ce.resolve(s=c):t.qe.allocateTargetId(o).next(function(f){return s=new hp(e,f,0,o.currentSequenceNumber),t.qe.addTargetData(o,s).next(function(){return s})})})}).then(function(o){var s=t.kn.get(o.targetId);return(null===s||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.kn=t.kn.insert(o.targetId,o),t.Fn.set(e,o.targetId)),o})}function Al(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,s,c,f;return(0,M.Jh)(this,function(m){switch(m.label){case 0:o=Te(i),s=o.kn.get(e),c=t?"readwrite":"readwrite-primary",m.label=1;case 1:return m.trys.push([1,4,,5]),t?[3,3]:[4,o.persistence.runTransaction("Release target",c,function(_){return o.persistence.referenceDelegate.removeTarget(_,s)})];case 2:m.sent(),m.label=3;case 3:return[3,5];case 4:if(!Ns(f=m.sent()))throw f;return Ee("LocalStore","Failed to update sequence numbers for target "+e+": "+f),[3,5];case 5:return o.kn=o.kn.remove(e),o.Fn.delete(s.target),[2]}})})}function bp(i,e,t){var o=Te(i),s=it.min(),c=xt();return o.persistence.runTransaction("Execute query","readonly",function(f){return(m=o,_=f,b=di(e),C=Te(m),D=C.Fn.get(b),void 0!==D?Ce.resolve(C.kn.get(D)):C.qe.getTargetData(_,b)).next(function(m){if(m)return s=m.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(f,m.targetId).next(function(_){c=_})}).next(function(){return o.xn.getDocumentsMatchingQuery(f,e,t?s:it.min(),t?c:xt())}).next(function(m){return{documents:m,Bn:c}});var m,_,b,C,D})}function LI(i,e){var t=Te(i),o=Te(t.qe),s=t.kn.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",function(c){return o.lt(c,e).next(function(f){return f?f.target:null})})}function tE(i){var e=Te(i);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return s=t,c=e.$n,f=Te(e.On),m=fi(),_=R_(c),b=vo(s),C=IDBKeyRange.lowerBound(_,!0),b.$t({index:Jt.readTimeIndex,range:C},function(D,S){var I=fp(f.R,S);m=m.insert(I.key,I),_=S.readTime}).next(function(){return{wn:m,readTime:ja(_)}});var s,c,f,m,_,b,C}).then(function(t){var o=t.wn;return e.$n=t.readTime,o})}function VI(i){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){return[2,(e=Te(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return c=vo(o),f=it.min(),c.$t({index:Jt.readTimeIndex,reverse:!0},function(m,_,b){_.readTime&&(f=ja(_.readTime)),b.done()}).next(function(){return f});var c,f}).then(function(o){e.$n=o})]})})}function UI(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var s,c,f,m,_,b,C,D,S,I;return(0,M.Jh)(this,function(O){switch(O.label){case 0:for(s=Te(i),c=xt(),f=fi(),m=gC(),_=0,b=t;_<b.length;_++)D=e.qn((C=b[_]).metadata.name),C.document&&(c=c.add(D)),f=f.insert(D,e.Un(C)),m=m.insert(D,e.Kn(C.metadata.readTime));return S=s.On.newChangeBuffer({trackRemovals:!0}),[4,ns(s,(N=o,di(fl(wt.fromString("__bundle__/docs/"+N)))))];case 1:return I=O.sent(),[2,s.persistence.runTransaction("Apply bundle documents","readwrite",function(N){return L_(N,S,f,it.min(),m).next(function(G){return S.apply(N),G}).next(function(G){return s.qe.removeMatchingKeysForTargetId(N,I.targetId).next(function(){return s.qe.addMatchingKeys(N,c,I.targetId)}).next(function(){return s.Mn.En(N,G)}).next(function(){return G})})})]}var N})})}function V_(i,e,t){return void 0===t&&(t=xt()),(0,M.mG)(this,void 0,void 0,function(){var o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return[4,ns(i,di(pp(e.bundledQuery)))];case 1:return o=c.sent(),[2,(s=Te(i)).persistence.runTransaction("Save named query","readwrite",function(f){var m=xn(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return s.Ke.saveNamedQuery(f,e);var _=o.withResumeToken(Sr.EMPTY_BYTE_STRING,m);return s.kn=s.kn.insert(_.targetId,_),s.qe.updateTargetData(f,_).next(function(){return s.qe.removeMatchingKeysForTargetId(f,o.targetId)}).next(function(){return s.qe.addMatchingKeys(f,t,o.targetId)}).next(function(){return s.Ke.saveNamedQuery(f,e)})})]}})})}var nE=function(){function i(e){this.R=e,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(e,t){return Ce.resolve(this.Qn.get(t))},i.prototype.saveBundleMetadata=function(e,t){var o;return this.Qn.set(t.id,{id:(o=t).id,version:o.version,createTime:xn(o.createTime)}),Ce.resolve()},i.prototype.getNamedQuery=function(e,t){return Ce.resolve(this.jn.get(t))},i.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(o=t).name,query:pp(o.bundledQuery),readTime:xn(o.readTime)}),Ce.resolve();var o},i}(),Hd=function(){function i(){this.Wn=new On(kn.Gn),this.zn=new On(kn.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(e,t){var o=new kn(e,t);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},i.prototype.Jn=function(e,t){var o=this;e.forEach(function(s){return o.addReference(s,t)})},i.prototype.removeReference=function(e,t){this.Yn(new kn(e,t))},i.prototype.Xn=function(e,t){var o=this;e.forEach(function(s){return o.removeReference(s,t)})},i.prototype.Zn=function(e){var t=this,o=new Ue(new wt([])),s=new kn(o,e),c=new kn(o,e+1),f=[];return this.zn.forEachInRange([s,c],function(m){t.Yn(m),f.push(m.key)}),f},i.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},i.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},i.prototype.es=function(e){var t=new Ue(new wt([])),o=new kn(t,e),s=new kn(t,e+1),c=xt();return this.zn.forEachInRange([o,s],function(f){c=c.add(f.key)}),c},i.prototype.containsKey=function(e){var t=new kn(e,0),o=this.Wn.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)},i}(),kn=function(){function i(e,t){this.key=e,this.ns=t}return i.Gn=function(e,t){return Ue.comparator(e.key,t.key)||_t(e.ns,t.ns)},i.Hn=function(e,t){return _t(e.ns,t.ns)||Ue.comparator(e.key,t.key)},i}(),BI=function(){function i(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new On(kn.Gn)}return i.prototype.checkEmpty=function(e){return Ce.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(e,t,o,s){var c=this.ss;this.ss++;var f=new M_(c,t,o,s);this._n.push(f);for(var m=0,_=s;m<_.length;m++){var b=_[m];this.rs=this.rs.add(new kn(b.key,c)),this.Ut.addToCollectionParentIndex(e,b.key.path.popLast())}return Ce.resolve(f)},i.prototype.lookupMutationBatch=function(e,t){return Ce.resolve(this.os(t))},i.prototype.getNextMutationBatchAfterBatchId=function(e,t){var s=this.cs(t+1),c=s<0?0:s;return Ce.resolve(this._n.length>c?this._n[c]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return Ce.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(e){return Ce.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var o=this,s=new kn(t,0),c=new kn(t,Number.POSITIVE_INFINITY),f=[];return this.rs.forEachInRange([s,c],function(m){var _=o.os(m.ns);f.push(_)}),Ce.resolve(f)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var o=this,s=new On(_t);return t.forEach(function(c){var f=new kn(c,0),m=new kn(c,Number.POSITIVE_INFINITY);o.rs.forEachInRange([f,m],function(_){s=s.add(_.ns)})}),Ce.resolve(this.us(s))},i.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var o=t.path,s=o.length+1,c=o;Ue.isDocumentKey(c)||(c=c.child(""));var f=new kn(new Ue(c),0),m=new On(_t);return this.rs.forEachWhile(function(_){var b=_.key.path;return!!o.isPrefixOf(b)&&(b.length===s&&(m=m.add(_.ns)),!0)},f),Ce.resolve(this.us(m))},i.prototype.us=function(e){var t=this,o=[];return e.forEach(function(s){var c=t.os(s);null!==c&&o.push(c)}),o},i.prototype.removeMutationBatch=function(e,t){var o=this;Je(0===this.hs(t.batchId,"removed")),this._n.shift();var s=this.rs;return Ce.forEach(t.mutations,function(c){var f=new kn(c.key,t.batchId);return s=s.delete(f),o.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(function(){o.rs=s})},i.prototype.Gt=function(e){},i.prototype.containsKey=function(e,t){var o=new kn(t,0),s=this.rs.firstAfterOrEqual(o);return Ce.resolve(t.isEqual(s&&s.key))},i.prototype.performConsistencyCheck=function(e){return Ce.resolve()},i.prototype.hs=function(e,t){return this.cs(e)},i.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},i.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},i}(),ex=function(){function i(e,t){this.Ut=e,this.ls=t,this.docs=new nr(Ue.comparator),this.size=0}return i.prototype.addEntry=function(e,t,o){var s=t.key,c=this.docs.get(s),f=c?c.size:0,m=this.ls(t);return this.docs=this.docs.insert(s,{document:t.clone(),size:m,readTime:o}),this.size+=m-f,this.Ut.addToCollectionParentIndex(e,s.path.popLast())},i.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},i.prototype.getEntry=function(e,t){var o=this.docs.get(t);return Ce.resolve(o?o.document.clone():Bn.newInvalidDocument(t))},i.prototype.getEntries=function(e,t){var o=this,s=fi();return t.forEach(function(c){var f=o.docs.get(c);s=s.insert(c,f?f.document.clone():Bn.newInvalidDocument(c))}),Ce.resolve(s)},i.prototype.getDocumentsMatchingQuery=function(e,t,o){for(var s=fi(),c=new Ue(t.path.child("")),f=this.docs.getIteratorFrom(c);f.hasNext();){var m=f.getNext(),b=m.value,C=b.document,D=b.readTime;if(!t.path.isPrefixOf(m.key.path))break;D.compareTo(o)<=0||yo(t,C)&&(s=s.insert(C.key,C.clone()))}return Ce.resolve(s)},i.prototype.fs=function(e,t){return Ce.forEach(this.docs,function(o){return t(o)})},i.prototype.newChangeBuffer=function(e){return new jI(this)},i.prototype.getSize=function(e){return Ce.resolve(this.size)},i}(),jI=function(i){function e(t){var o=this;return(o=i.call(this)||this).Ie=t,o}return(0,M.ZT)(e,i),e.prototype.applyChanges=function(t){var o=this,s=[];return this.changes.forEach(function(c,f){f.document.isValidDocument()?s.push(o.Ie.addEntry(t,f.document,o.getReadTime(c))):o.Ie.removeEntry(c)}),Ce.waitFor(s)},e.prototype.getFromCache=function(t,o){return this.Ie.getEntry(t,o)},e.prototype.getAllFromCache=function(t,o){return this.Ie.getEntries(t,o)},e}(x_),HI=function(){function i(e){this.persistence=e,this.ds=new Vs(function(t){return dl(t)},Qf),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.ws=0,this._s=new Hd,this.targetCount=0,this.ys=yp.Jt()}return i.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(o,s){return t(s)}),Ce.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(e){return Ce.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(e){return Ce.resolve(this.ws)},i.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ce.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.ws&&(this.ws=t),Ce.resolve()},i.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new yp(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},i.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ce.resolve()},i.prototype.updateTargetData=function(e,t){return this.te(t),Ce.resolve()},i.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ce.resolve()},i.prototype.removeTargets=function(e,t,o){var s=this,c=0,f=[];return this.ds.forEach(function(m,_){_.sequenceNumber<=t&&null===o.get(_.targetId)&&(s.ds.delete(m),f.push(s.removeMatchingKeysForTargetId(e,_.targetId)),c++)}),Ce.waitFor(f).next(function(){return c})},i.prototype.getTargetCount=function(e){return Ce.resolve(this.targetCount)},i.prototype.getTargetData=function(e,t){var o=this.ds.get(t)||null;return Ce.resolve(o)},i.prototype.addMatchingKeys=function(e,t,o){return this._s.Jn(t,o),Ce.resolve()},i.prototype.removeMatchingKeys=function(e,t,o){this._s.Xn(t,o);var s=this.persistence.referenceDelegate,c=[];return s&&t.forEach(function(f){c.push(s.markPotentiallyOrphaned(e,f))}),Ce.waitFor(c)},i.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ce.resolve()},i.prototype.getMatchingKeysForTargetId=function(e,t){var o=this._s.es(t);return Ce.resolve(o)},i.prototype.containsKey=function(e,t){return Ce.resolve(this._s.containsKey(t))},i}(),GI=function(){function i(e,t){var o=this;this.gs={},this.Ne=new Vr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new HI(this),this.Ut=new jC,this.Ue=new ex(this.Ut,function(f){return o.referenceDelegate.ps(f)}),this.R=new LC(t),this.Ke=new nE(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new BI(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(e,t,o){var s=this;Ee("MemoryPersistence","Starting transaction:",e);var c=new rE(this.Ne.next());return this.referenceDelegate.Es(),o(c).next(function(f){return s.referenceDelegate.Ts(c).next(function(){return f})}).toPromise().then(function(f){return c.raiseOnCommittedEvent(),f})},i.prototype.Is=function(e,t){return Ce.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(e,t)}}))},i}(),rE=function(i){function e(t){var o=this;return(o=i.call(this)||this).currentSequenceNumber=t,o}return(0,M.ZT)(e,i),e}(I_),iE=function(){function i(e){this.persistence=e,this.As=new Hd,this.Rs=null}return i.bs=function(e){return new i(e)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Pe()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(e,t,o){return this.As.addReference(o,t),this.vs.delete(o.toString()),Ce.resolve()},i.prototype.removeReference=function(e,t,o){return this.As.removeReference(o,t),this.vs.add(o.toString()),Ce.resolve()},i.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ce.resolve()},i.prototype.removeTarget=function(e,t){var o=this;this.As.Zn(t.targetId).forEach(function(c){return o.vs.add(c.toString())});var s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(function(c){c.forEach(function(f){return o.vs.add(f.toString())})}).next(function(){return s.removeTargetData(e,t)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(e){var t=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.vs,function(s){var c=Ue.fromPath(s);return t.Ps(e,c).next(function(f){f||o.removeEntry(c)})}).next(function(){return t.Rs=null,o.apply(e)})},i.prototype.updateLimboDocument=function(e,t){var o=this;return this.Ps(e,t).next(function(s){s?o.vs.delete(t.toString()):o.vs.add(t.toString())})},i.prototype.ps=function(e){return 0},i.prototype.Ps=function(e,t){var o=this;return Ce.or([function(){return Ce.resolve(o.As.containsKey(t))},function(){return o.persistence.getTargetCache().containsKey(e,t)},function(){return o.persistence.Is(e,t)}])},i}(),Hn=function(){function i(e){this.uid=e}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(e){return e.uid===this.uid},i}();function oE(i,e){return"firestore_clients_"+i+"_"+e}function sE(i,e,t){var o="firestore_mutations_"+i+"_"+t;return e.isAuthenticated()&&(o+="_"+e.uid),o}function wp(i,e){return"firestore_targets_"+i+"_"+e}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");var Gd=function(){function i(e,t,o,s){this.user=e,this.batchId=t,this.state=o,this.error=s}return i.Vs=function(e,t,o){var s,c=JSON.parse(o),f="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(s=new ve(c.error.code,c.error.message)),f?new i(e,t,c.state,s):(Sn("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+o),null)},i.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},i}(),U_=function(){function i(e,t,o){this.targetId=e,this.state=t,this.error=o}return i.Vs=function(e,t){var o,s=JSON.parse(t),c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(o=new ve(s.error.code,s.error.message)),c?new i(e,s.state,o):(Sn("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},i.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},i}(),B_=function(){function i(e,t){this.clientId=e,this.activeTargetIds=t}return i.Vs=function(e,t){for(var o=JSON.parse(t),s="object"==typeof o&&o.activeTargetIds instanceof Array,c=op(),f=0;s&&f<o.activeTargetIds.length;++f)s=zf(o.activeTargetIds[f]),c=c.add(o.activeTargetIds[f]);return s?new i(e,c):(Sn("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},i}(),Cp=function(){function i(e,t){this.clientId=e,this.onlineState=t}return i.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new i(t.clientId,t.onlineState):(Sn("SharedClientState","Failed to parse online state: "+e),null)},i}(),Il=function(){function i(){this.activeTargetIds=op()}return i.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},i.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},i.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},i}(),$a=function(){function i(e,t,o,s,c){this.window=e,this.Se=t,this.persistenceKey=o,this.Ns=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new nr(_t),this.started=!1,this.$s=[];var f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Os=oE(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Il),this.Ls=new RegExp("^firestore_clients_"+f+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+f+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+f+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(m){return"firestore_bundle_loaded_"+m}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(e){return!(!e||!e.localStorage)},i.prototype.start=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,s,c,f,m,_,b,C,S=this;return(0,M.Jh)(this,function(I){switch(I.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=I.sent(),t=0,o=e;t<o.length;t++)(s=o[t])!==this.Ns&&(c=this.getItem(oE(this.persistenceKey,s)))&&(f=B_.Vs(s,c))&&(this.Fs=this.Fs.insert(f.clientId,f));for(this.Qs(),(m=this.storage.getItem(this.Us))&&(_=this.js(m))&&this.Ws(_),b=0,C=this.$s;b<C.length;b++)this.ks(C[b]);return this.$s=[],this.window.addEventListener("pagehide",function(){return S.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},i.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(o,s){s.activeTargetIds.has(e)&&(t=!0)}),t},i.prototype.addPendingMutation=function(e){this.zs(e,"pending")},i.prototype.updateMutationState=function(e,t,o){this.zs(e,t,o),this.Hs(e)},i.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var o=this.storage.getItem(wp(this.persistenceKey,e));if(o){var s=U_.Vs(e,o);s&&(t=s.state)}}return this.Js.Ds(e),this.Qs(),t},i.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},i.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},i.prototype.clearQueryState=function(e){this.removeItem(wp(this.persistenceKey,e))},i.prototype.updateQueryState=function(e,t,o){this.Ys(e,t,o)},i.prototype.handleUserChange=function(e,t,o){var s=this;t.forEach(function(c){s.Hs(c)}),this.currentUser=e,o.forEach(function(c){s.addPendingMutation(c)})},i.prototype.setOnlineState=function(e){this.Xs(e)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ee("SharedClientState","READ",e,t),t},i.prototype.setItem=function(e,t){Ee("SharedClientState","SET",e,t),this.storage.setItem(e,t)},i.prototype.removeItem=function(e){Ee("SharedClientState","REMOVE",e),this.storage.removeItem(e)},i.prototype.ks=function(e){var t=this,o=e;if(o.storageArea===this.storage){if(Ee("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void Sn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,M.mG)(t,void 0,void 0,function(){var s,c,f,m,_,b;return(0,M.Jh)(this,function(C){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return s=this.ti(o.key),[2,this.ei(s,null)];if(c=this.ni(o.key,o.newValue))return[2,this.ei(c.clientId,c)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(f=this.si(o.key,o.newValue)))return[2,this.ii(f)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(m=this.ri(o.key,o.newValue)))return[2,this.oi(m)]}else if(o.key===this.Us){if(null!==o.newValue&&(_=this.js(o.newValue)))return[2,this.Ws(_)]}else if(o.key===this.Ms)(b=function(D){var S=Vr.o;if(null!=D)try{var I=JSON.parse(D);Je("number"==typeof I),S=I}catch(O){Sn("SharedClientState","Failed to read sequence number from WebStorage",O)}return S}(o.newValue))!==Vr.o&&this.sequenceNumberHandler(b);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(e,t,o){var s=new Gd(this.currentUser,e,t,o),c=sE(this.persistenceKey,this.currentUser,e);this.setItem(c,s.Ss())},i.prototype.Hs=function(e){var t=sE(this.persistenceKey,this.currentUser,e);this.removeItem(t)},i.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},i.prototype.Ys=function(e,t,o){var s=wp(this.persistenceKey,e),c=new U_(e,t,o);this.setItem(s,c.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},i.prototype.ni=function(e,t){var o=this.ti(e);return B_.Vs(o,t)},i.prototype.si=function(e,t){var o=this.Bs.exec(e),s=Number(o[1]);return Gd.Vs(new Hn(void 0!==o[2]?o[2]:null),s,t)},i.prototype.ri=function(e,t){var o=this.qs.exec(e),s=Number(o[1]);return U_.Vs(s,t)},i.prototype.js=function(e){return Cp.Vs(e)},i.prototype.ii=function(e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ee("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},i.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},i.prototype.ei=function(e,t){var o=this,s=t?this.Fs.insert(e,t):this.Fs.remove(e),c=this.Gs(this.Fs),f=this.Gs(s),m=[],_=[];return f.forEach(function(b){c.has(b)||m.push(b)}),c.forEach(function(b){f.has(b)||_.push(b)}),this.syncEngine.hi(m,_).then(function(){o.Fs=s})},i.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},i.prototype.Gs=function(e){var t=op();return e.forEach(function(o,s){t=t.unionWith(s.activeTargetIds)}),t},i}(),aE=function(){function i(){this.li=new Il,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(e){},i.prototype.updateMutationState=function(e,t,o){},i.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},i.prototype.updateQueryState=function(e,t,o){this.fi[e]=t},i.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},i.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},i.prototype.clearQueryState=function(e){delete this.fi[e]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},i.prototype.start=function(){return this.li=new Il,Promise.resolve()},i.prototype.handleUserChange=function(e,t,o){},i.prototype.setOnlineState=function(e){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(e){},i.prototype.notifyBundleLoaded=function(){},i}(),qI=function(){function i(){}return i.prototype.di=function(e){},i.prototype.shutdown=function(){},i}(),zI=function(){function i(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return i.prototype.di=function(e){this.gi.push(e)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},i.prototype.yi=function(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),$I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ZI=function(){function i(e){this.Ei=e.Ei,this.Ti=e.Ti}return i.prototype.Ii=function(e){this.Ai=e},i.prototype.Ri=function(e){this.bi=e},i.prototype.onMessage=function(e){this.vi=e},i.prototype.close=function(){this.Ti()},i.prototype.send=function(e){this.Ei(e)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(e){this.bi(e)},i.prototype.Si=function(e){this.vi(e)},i}(),YI=function(i){function e(t){var o=this;return(o=i.call(this,t)||this).forceLongPolling=t.forceLongPolling,o.autoDetectLongPolling=t.autoDetectLongPolling,o.useFetchStreams=t.useFetchStreams,o}return(0,M.ZT)(e,i),e.prototype.Fi=function(t,o,s,c){return new Promise(function(f,m){var _=new tC;_.listenOnce(eC.COMPLETE,function(){try{switch(_.getLastErrorCode()){case By.NO_ERROR:var C=_.getResponseJson();Ee("Connection","XHR received:",JSON.stringify(C)),f(C);break;case By.TIMEOUT:Ee("Connection",'RPC "'+t+'" timed out'),m(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case By.HTTP_ERROR:var D=_.getStatus();if(Ee("Connection",'RPC "'+t+'" failed with status:',D,"response text:",_.getResponseText()),D>0){var S=_.getResponseJson().error;if(S&&S.status&&S.message){var I=(N=S.status.toLowerCase().replace(/_/g,"-"),Object.values(oe).indexOf(N)>=0?N:oe.UNKNOWN);m(new ve(I,S.message))}else m(new ve(oe.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{Ee("Connection",'RPC "'+t+'" completed.')}var N});var b=JSON.stringify(c);_.send(o,"POST",b,s,15)})},e.prototype.Oi=function(t,o){var s=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=new wd,f=sd(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Gy({})),this.ki(m.initMessageHeaders,o),(0,ut.uI)()||(0,ut.b$)()||(0,ut.d)()||(0,ut.w1)()||(0,ut.Mn)()||(0,ut.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");var _=s.join("");Ee("Connection","Creating WebChannel: "+_,m);var b=c.createWebChannel(_,m),C=!1,D=!1,S=new ZI({Ei:function(O){D?Ee("Connection","Not sending because WebChannel is closed:",O):(C||(Ee("Connection","Opening WebChannel transport."),b.open(),C=!0),Ee("Connection","WebChannel sending:",O),b.send(O))},Ti:function(){return b.close()}}),I=function(O,N,G){O.listen(N,function(te){try{G(te)}catch(fe){setTimeout(function(){throw fe},0)}})};return I(b,Cd.EventType.OPEN,function(){D||Ee("Connection","WebChannel transport opened.")}),I(b,Cd.EventType.CLOSE,function(){D||(D=!0,Ee("Connection","WebChannel transport closed"),S.Vi())}),I(b,Cd.EventType.ERROR,function(O){D||(D=!0,Ed("Connection","WebChannel transport errored:",O),S.Vi(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),I(b,Cd.EventType.MESSAGE,function(O){var N;if(!D){var G=O.data[0];Je(!!G);var fe=G.error||(null===(N=G[0])||void 0===N?void 0:N.error);if(fe){Ee("Connection","WebChannel received error:",fe);var ye=fe.status,De=function(We){var Ct=Qt[We];if(void 0!==Ct)return m_(Ct)}(ye),Se=fe.message;void 0===De&&(De=oe.INTERNAL,Se="Unknown error status: "+ye+" with message "+fe.message),D=!0,S.Vi(new ve(De,Se)),b.close()}else Ee("Connection","WebChannel received:",G),S.Si(G)}}),I(f,jy.STAT_EVENT,function(O){O.stat===Hy_PROXY?Ee("Connection","Detected buffering proxy"):O.stat===Hy_NOPROXY&&Ee("Connection","Detected no buffering proxy")}),setTimeout(function(){S.Pi()},0),S},e}(function(){function i(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(e,t,o,s){var c=this.xi(e,t);Ee("RestConnection","Sending: ",c,o);var f={};return this.ki(f,s),this.Fi(e,c,f,o).then(function(m){return Ee("RestConnection","Received: ",m),m},function(m){throw Ed("RestConnection",e+" failed with error: ",m,"url: ",c,"request:",o),m})},i.prototype.$i=function(e,t,o,s){return this.Ni(e,t,o,s)},i.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var o in t.authHeaders)t.authHeaders.hasOwnProperty(o)&&(e[o]=t.authHeaders[o])},i.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+$I[e]},i}());function uE(){return"undefined"!=typeof window?window:null}function Ep(){return"undefined"!=typeof document?document:null}function qd(i){return new CC(i,!0)}var j_=function(){function i(e,t,o,s,c){void 0===o&&(o=1e3),void 0===s&&(s=1.5),void 0===c&&(c=6e4),this.Se=e,this.timerId=t,this.Mi=o,this.Li=s,this.Bi=c,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(e){var t=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),s=Math.max(0,Date.now()-this.Ki),c=Math.max(0,o-s);c>0&&Ee("ExponentialBackoff","Backing off for "+c+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+s+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,c,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),lE=function(){function i(e,t,o,s,c,f){this.Se=e,this.zi=o,this.Hi=s,this.Ji=c,this.listener=f,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new j_(e,t)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},i.prototype.cr=function(e){this.ur(),this.stream.send(e)},i.prototype.rr=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(e,t){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Sn(t.toString()),Sn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===oe.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return o.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(s){e.Yi===o&&e.lr(s)},function(s){t(function(){var c=new ve(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return e.dr(c)})})},i.prototype.lr=function(e){var t=this,o=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){o(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(s){o(function(){return t.dr(s)})}),this.stream.onMessage(function(s){o(function(){return t.onMessage(s)})})},i.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,M.mG)(e,void 0,void 0,function(){return(0,M.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(e){return Ee("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},i.prototype.hr=function(e){var t=this;return function(o){t.Se.enqueueAndForget(function(){return t.Yi===e?o():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),WI=function(i){function e(t,o,s,c,f){var m=this;return(m=i.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",o,s,f)||this).R=c,m}return(0,M.ZT)(e,i),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var o=function(c,f){var m,G;if("targetChange"in f){var _="NO_CHANGE"===(G=f.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:Pe(),b=f.targetChange.targetIds||[],C=function(G,te){return G.I?(Je(void 0===te||"string"==typeof te),Sr.fromBase64String(te||"")):(Je(void 0===te||te instanceof Uint8Array),Sr.fromUint8Array(te||new Uint8Array))}(c,f.targetChange.resumeToken),D=(S=f.targetChange.cause)&&function(G){var te=void 0===G.code?oe.UNKNOWN:m_(G.code);return new ve(te,G.message||"")}(S);m=new _C(_,b,C,D||null)}else if("documentChange"in f){b=Ar(c,(_=f.documentChange).document.name),C=xn(_.document.updateTime);var S=new jr({mapValue:{fields:_.document.fields}}),I=(D=Bn.newFoundDocument(b,C,S),_.targetIds||[]);m=new sp(I,_.removedTargetIds||[],D.key,D)}else if("documentDelete"in f)b=Ar(c,(_=f.documentDelete).document),C=_.readTime?xn(_.readTime):it.min(),S=Bn.newNoDocument(b,C),m=new sp([],D=_.removedTargetIds||[],S.key,S);else if("documentRemove"in f)b=Ar(c,(_=f.documentRemove).document),m=new sp([],C=_.removedTargetIds||[],b,null);else{if(!("filter"in f))return Pe();var N=f.filter;b=new fC(_=N.count||0),m=new yC(C=N.targetId,b)}return m}(this.R,t),s=function(c){if(!("targetChange"in c))return it.min();var f=c.targetChange;return f.targetIds&&f.targetIds.length?it.min():f.readTime?xn(f.readTime):it.min()}(t);return this.listener._r(o,s)},e.prototype.mr=function(t){var c,f,m,_,o={};o.database=up(this.R),o.addTarget=(c=this.R,(m=Id(_=(f=t).target)?{documents:SC(c,_)}:{query:AC(c,_)}).targetId=f.targetId,f.resumeToken.approximateByteSize()>0?m.resumeToken=E_(c,f.resumeToken):f.snapshotVersion.compareTo(it.min())>0&&(m.readTime=_l(c,f.snapshotVersion.toTimestamp())),m);var s=function(c,f){var m=function(_,b){switch(b){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pe()}}(0,f.purpose);return null==m?null:{"goog-listen-tags":m}}(0,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var o={};o.database=up(this.R),o.removeTarget=t,this.cr(o)},e}(lE),tx=function(i){function e(t,o,s,c,f){var m=this;return(m=i.call(this,t,"write_stream_connection_backoff","write_stream_idle",o,s,f)||this).R=c,m.gr=!1,m}return(0,M.ZT)(e,i),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Je(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var o=(f=t.commitTime,(c=t.writeResults)&&c.length>0?(Je(void 0!==f),c.map(function(m){return b=f,(C=xn((_=m).updateTime?_.updateTime:b)).isEqual(it.min())&&(C=xn(b)),new gI(C,_.transformResults||[]);var _,b,C})):[]),s=xn(t.commitTime);return this.listener.Tr(s,o)}var c,f;return Je(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=up(this.R),this.cr(t)},e.prototype.Er=function(t){var o=this,s={streamToken:this.lastStreamToken,writes:t.map(function(c){return je(o.R,c)})};this.cr(s)},e}(lE),KI=function(i){function e(t,o,s){var c=this;return(c=i.call(this)||this).credentials=t,c.Hi=o,c.R=s,c.Rr=!1,c}return(0,M.ZT)(e,i),e.prototype.br=function(){if(this.Rr)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,o,s){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.Ni(t,o,s,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===oe.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new ve(oe.UNKNOWN,f.toString())})},e.prototype.$i=function(t,o,s){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.$i(t,o,s,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===oe.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new ve(oe.UNKNOWN,f.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),zd=function(){function i(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},i.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},i.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},i.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Sn(t),this.Vr=!1):Ee("OnlineStateTracker",t)},i.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),QI=function(i,e,t,o,s){var c=this;this.localStore=i,this.datastore=e,this.asyncQueue=t,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=s,this.Lr.di(function(f){t.enqueueAndForget(function(){return(0,M.mG)(c,void 0,void 0,function(){return(0,M.Jh)(this,function(m){switch(m.label){case 0:return Hi(this)?(Ee("RemoteStore","Restarting streams for network reachability change."),[4,function(_){return(0,M.mG)(this,void 0,void 0,function(){var b;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return(b=Te(_)).Or.add(4),[4,Ml(b)];case 1:return C.sent(),b.Br.set("Unknown"),b.Or.delete(4),[4,$d(b)];case 2:return C.sent(),[2]}})})}(this)]):[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})}),this.Br=new zd(t,o)};function $d(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:if(!Hi(i))return[3,4];e=0,t=i.Mr,o.label=1;case 1:return e<t.length?[4,(0,t[e])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ml(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:e=0,t=i.Mr,o.label=1;case 1:return e<t.length?[4,(0,t[e])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Za(i,e){var t=Te(i);t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),H_(t)?dE(t):Zd(t).er()&&Dp(t,e))}function ji(i,e){var t=Te(i),o=Zd(t);t.$r.delete(e),o.er()&&cE(t,e),0===t.$r.size&&(o.er()?o.ir():Hi(t)&&t.Br.set("Unknown"))}function Dp(i,e){i.qr.U(e.targetId),Zd(i).mr(e)}function cE(i,e){i.qr.U(e),Zd(i).yr(e)}function dE(i){i.qr=new vC({getRemoteKeysForTarget:function(e){return i.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return i.$r.get(e)||null}}),Zd(i).start(),i.Br.Sr()}function H_(i){return Hi(i)&&!Zd(i).tr()&&i.$r.size>0}function Hi(i){return 0===Te(i).Or.size}function hE(i){i.qr=void 0}function JI(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return i.$r.forEach(function(t,o){Dp(i,t)}),[2]})})}function fE(i,e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){return hE(i),H_(i)?(i.Br.Nr(e),dE(i)):i.Br.set("Unknown"),[2]})})}function pE(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,s,c;return(0,M.Jh)(this,function(f){switch(f.label){case 0:if(i.Br.set("Online"),!(e instanceof _C&&2===e.state&&e.cause))return[3,6];f.label=1;case 1:return f.trys.push([1,3,,5]),[4,function(m,_){return(0,M.mG)(this,void 0,void 0,function(){var b,C,D,S;return(0,M.Jh)(this,function(I){switch(I.label){case 0:b=_.cause,C=0,D=_.targetIds,I.label=1;case 1:return C<D.length?m.$r.has(S=D[C])?[4,m.remoteSyncer.rejectListen(S,b)]:[3,3]:[3,5];case 2:I.sent(),m.$r.delete(S),m.qr.removeTarget(S),I.label=3;case 3:I.label=4;case 4:return C++,[3,1];case 5:return[2]}})})}(i,e)];case 2:return f.sent(),[3,5];case 3:return o=f.sent(),Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),[4,Rl(i,o)];case 4:return f.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof sp?i.qr.X(e):e instanceof yC?i.qr.rt(e):i.qr.et(e),t.isEqual(it.min()))return[3,13];f.label=7;case 7:return f.trys.push([7,11,,13]),[4,eE(i.localStore)];case 8:return s=f.sent(),t.compareTo(s)>=0?[4,(m=i,_=t,b=m.qr.ut(_),b.targetChanges.forEach(function(C,D){if(C.resumeToken.approximateByteSize()>0){var S=m.$r.get(D);S&&m.$r.set(D,S.withResumeToken(C.resumeToken,_))}}),b.targetMismatches.forEach(function(C){var D=m.$r.get(C);if(D){m.$r.set(C,D.withResumeToken(Sr.EMPTY_BYTE_STRING,D.snapshotVersion)),cE(m,C);var S=new hp(D.target,C,1,D.sequenceNumber);Dp(m,S)}}),m.remoteSyncer.applyRemoteEvent(b))]:[3,10];case 9:f.sent(),f.label=10;case 10:return[3,13];case 11:return Ee("RemoteStore","Failed to raise snapshot:",c=f.sent()),[4,Rl(i,c)];case 12:return f.sent(),[3,13];case 13:return[2]}var m,_,b})})}function Rl(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o=this;return(0,M.Jh)(this,function(s){switch(s.label){case 0:if(!Ns(e))throw e;return i.Or.add(1),[4,Ml(i)];case 1:return s.sent(),i.Br.set("Offline"),t||(t=function(){return eE(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,M.mG)(o,void 0,void 0,function(){return(0,M.Jh)(this,function(c){switch(c.label){case 0:return Ee("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return c.sent(),i.Or.delete(1),[4,$d(i)];case 2:return c.sent(),[2]}})})}),[2]}})})}function G_(i,e){return e().catch(function(t){return Rl(i,t,e)})}function Ya(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,s,c;return(0,M.Jh)(this,function(f){switch(f.label){case 0:e=Te(i),t=mi(e),o=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,f.label=1;case 1:if(!(Hi(m=e)&&m.Fr.length<10))return[3,7];f.label=2;case 2:return f.trys.push([2,4,,6]),[4,XO(e.localStore,o)];case 3:return null===(s=f.sent())?(0===e.Fr.length&&t.ir(),[3,7]):(o=s.batchId,function(m,_){m.Fr.push(_);var b=mi(m);b.er()&&b.pr&&b.Er(_.mutations)}(e,s),[3,6]);case 4:return c=f.sent(),[4,Rl(e,c)];case 5:return f.sent(),[3,6];case 6:return[3,1];case 7:return gE(e)&&mE(e),[2]}var m})})}function gE(i){return Hi(i)&&!mi(i).tr()&&i.Fr.length>0}function mE(i){mi(i).start()}function yE(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return mi(i).Ar(),[2]})})}function XI(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o;return(0,M.Jh)(this,function(c){for(e=mi(i),t=0,o=i.Fr;t<o.length;t++)e.Er(o[t].mutations);return[2]})})}function _E(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return o=i.Fr.shift(),s=SI.from(o,e,t),[4,G_(i,function(){return i.remoteSyncer.applySuccessfulWrite(s)})];case 1:return c.sent(),[4,Ya(i)];case 2:return c.sent(),[2]}})})}function Tp(i,e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){switch(t.label){case 0:return e&&mi(i).pr?[4,function(o,s){return(0,M.mG)(this,void 0,void 0,function(){var c,f;return(0,M.Jh)(this,function(m){switch(m.label){case 0:return g_(f=s.code)&&f!==oe.ABORTED?(c=o.Fr.shift(),mi(o).sr(),[4,G_(o,function(){return o.remoteSyncer.rejectFailedWrite(c.batchId,s)})]):[3,3];case 1:return m.sent(),[4,Ya(o)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}(i,e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return gE(i)&&mE(i),[2]}})})}function Ol(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t=Te(i),e?(t.Or.delete(2),[4,$d(t)]):[3,2];case 1:return o.sent(),[3,5];case 2:return e?[3,4]:(t.Or.add(2),[4,Ml(t)]);case 3:o.sent(),t.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function Zd(i){var t,o,s,c,e=this;return i.Ur||(i.Ur=(t=i.datastore,o=i.asyncQueue,s={Ii:JI.bind(null,i),Ri:fE.bind(null,i),_r:pE.bind(null,i)},(c=Te(t)).br(),new WI(o,c.Hi,c.credentials,c.R,s)),i.Mr.push(function(t){return(0,M.mG)(e,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t?(i.Ur.sr(),H_(i)?dE(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:o.sent(),hE(i),o.label=3;case 3:return[2]}})})})),i.Ur}function mi(i){var t,o,s,c,e=this;return i.Kr||(i.Kr=(t=i.datastore,o=i.asyncQueue,s={Ii:yE.bind(null,i),Ri:Tp.bind(null,i),Ir:XI.bind(null,i),Tr:_E.bind(null,i)},(c=Te(t)).br(),new tx(o,c.Hi,c.credentials,c.R,s)),i.Mr.push(function(t){return(0,M.mG)(e,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t?(i.Kr.sr(),[4,Ya(i)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:o.sent(),i.Fr.length>0&&(Ee("RemoteStore","Stopping write stream with "+i.Fr.length+" pending writes"),i.Fr=[]),o.label=4;case 4:return[2]}})})})),i.Kr}var Rt=function(){function i(e,t,o,s,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=s,this.removalCallback=c,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(f){})}return i.createAndSchedule=function(e,t,o,s,c){var f=new i(e,t,Date.now()+o,s,c);return f.start(o),f},i.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},i.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function Xr(i,e){if(Sn("AsyncQueue",e+": "+i),Ns(i))return new ve(oe.UNAVAILABLE,e+": "+i);throw i}var Wa=function(){function i(e){this.comparator=e?function(t,o){return e(t,o)||Ue.comparator(t.key,o.key)}:function(t,o){return Ue.comparator(t.key,o.key)},this.keyedMap=y_(),this.sortedSet=new nr(this.comparator)}return i.emptySet=function(e){return new i(e.comparator)},i.prototype.has=function(e){return null!=this.keyedMap.get(e)},i.prototype.get=function(e){return this.keyedMap.get(e)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,o){return e(t),!1})},i.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},i.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},i.prototype.isEqual=function(e){if(!(e instanceof i)||this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();t.hasNext();){var s=t.getNext().key,c=o.getNext().key;if(!s.isEqual(c))return!1}return!0},i.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},i.prototype.copy=function(e,t){var o=new i;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o},i}(),xl=function(){function i(){this.Qr=new nr(Ue.comparator)}return i.prototype.track=function(e){var t=e.doc.key,o=this.Qr.get(t);o?0!==e.type&&3===o.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==o.type?this.Qr=this.Qr.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Qr=this.Qr.remove(t):1===e.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Pe():this.Qr=this.Qr.insert(t,e)},i.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,o){e.push(o)}),e},i}(),q_=function(){function i(e,t,o,s,c,f,m,_){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_}return i.fromInitialDocuments=function(e,t,o,s){var c=[];return t.forEach(function(f){c.push({type:0,doc:f})}),new i(e,t,Wa.emptySet(t),c,o,s,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(var s=0;s<t.length;s++)if(t[s].type!==o[s].type||!t[s].doc.isEqual(o[s].doc))return!1;return!0},i}(),rt=function(){this.Wr=void 0,this.listeners=[]},yi=function(){this.queries=new Vs(function(i){return i_(i)},Od),this.onlineState="Unknown",this.Gr=new Set};function Yd(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,s,c,f,m,_;return(0,M.Jh)(this,function(b){switch(b.label){case 0:if(t=Te(i),s=!1,(c=t.queries.get(o=e.query))||(s=!0,c=new rt),!s)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),f=c,[4,t.onListen(o)];case 2:return f.Wr=b.sent(),[3,4];case 3:return m=b.sent(),_=Xr(m,"Initialization of query '"+tp(e.query)+"' failed"),[2,void e.onError(_)];case 4:return t.queries.set(o,c),c.listeners.push(e),e.zr(t.onlineState),c.Wr&&e.Hr(c.Wr)&&Sp(t),[2]}})})}function rs(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,s,c,f;return(0,M.Jh)(this,function(m){return t=Te(i),s=!1,(c=t.queries.get(o=e.query))&&(f=c.listeners.indexOf(e))>=0&&(c.listeners.splice(f,1),s=0===c.listeners.length),s?[2,(t.queries.delete(o),t.onUnlisten(o))]:[2]})})}function nx(i,e){for(var t=Te(i),o=!1,s=0,c=e;s<c.length;s++){var f=c[s],_=t.queries.get(f.query);if(_){for(var b=0,C=_.listeners;b<C.length;b++)C[b].Hr(f)&&(o=!0);_.Wr=f}}o&&Sp(t)}function vE(i,e,t){var o=Te(i),s=o.queries.get(e);if(s)for(var c=0,f=s.listeners;c<f.length;c++)f[c].onError(t);o.queries.delete(e)}function Sp(i){i.Gr.forEach(function(e){e.next()})}var bE=function(){function i(e,t,o){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return i.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],o=0,s=e.docChanges;o<s.length;o++){var c=s[o];3!==c.type&&t.push(c)}e=new q_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var f=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),f=!0):this.eo(e,this.onlineState)&&(this.no(e),f=!0),this.Xr=e,f},i.prototype.onError=function(e){this.Jr.error(e)},i.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},i.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},i.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(e){e=q_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},i}(),eM=function(){function i(e,t){this.payload=e,this.byteLength=t}return i.prototype.io=function(){return"metadata"in this.payload},i}(),wE=function(){function i(e){this.R=e}return i.prototype.qn=function(e){return Ar(this.R,e)},i.prototype.Un=function(e){return e.metadata.exists?CI(this.R,e.document,!1):Bn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},i.prototype.Kn=function(e){return xn(e)},i}();!function(){function i(e,t,o){this.ro=e,this.localStore=t,this.R=o,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(e)}i.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},i.prototype.co=function(e){for(var t=new Map,o=new wE(this.R),s=0,c=e;s<c.length;s++){var f=c[s];if(f.metadata.queries)for(var m=o.qn(f.metadata.name),_=0,b=f.metadata.queries;_<b.length;_++){var C=b[_],D=(t.get(C)||xt()).add(m);t.set(C,D)}}return t},i.prototype.complete=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,s,c;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,UI(this.localStore,new wE(this.R),this.documents,this.ro.id)];case 1:e=f.sent(),t=this.co(this.documents),o=0,s=this.queries,f.label=2;case 2:return o<s.length?[4,V_(this.localStore,c=s[o],t.get(c.name))]:[3,5];case 3:f.sent(),f.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new qa(Object.assign({},this.progress),e))]}})})}}();var vi=function(i){this.key=i},z_=function(i){this.key=i},CE=function(){function i(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=xt(),this.mutatedKeys=xt(),this.lo=cC(e),this.fo=new Wa(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(e,t){var o=this,s=t?t.mo:new xl,c=t?t.fo:this.fo,f=t?t.mutatedKeys:this.mutatedKeys,m=c,_=!1,b=Xf(this.query)&&c.size===this.query.limit?c.last():null,C=Rd(this.query)&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal(function(S,I){var O=c.get(S),N=yo(o.query,I)?I:null,G=!!O&&o.mutatedKeys.has(O.key),te=!!N&&(N.hasLocalMutations||o.mutatedKeys.has(N.key)&&N.hasCommittedMutations),fe=!1;O&&N?O.data.isEqual(N.data)?G!==te&&(s.track({type:3,doc:N}),fe=!0):o.yo(O,N)||(s.track({type:2,doc:N}),fe=!0,(b&&o.lo(N,b)>0||C&&o.lo(N,C)<0)&&(_=!0)):!O&&N?(s.track({type:0,doc:N}),fe=!0):O&&!N&&(s.track({type:1,doc:O}),fe=!0,(b||C)&&(_=!0)),fe&&(N?(m=m.add(N),f=te?f.add(S):f.delete(S)):(m=m.delete(S),f=f.delete(S)))}),Xf(this.query)||Rd(this.query))for(;m.size>this.query.limit;){var D=Xf(this.query)?m.last():m.first();m=m.delete(D.key),f=f.delete(D.key),s.track({type:1,doc:D})}return{fo:m,mo:s,Nn:_,mutatedKeys:f}},i.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},i.prototype.applyChanges=function(e,t,o){var s=this,c=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var f=e.mo.jr();f.sort(function(C,D){return I=D.type,(O=function(N){switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}})(C.type)-O(I)||s.lo(C.doc,D.doc);var I,O}),this.po(o);var m=t?this.Eo():[],_=0===this.ho.size&&this.current?1:0,b=_!==this.ao;return this.ao=_,0!==f.length||b?{snapshot:new q_(this.query,e.fo,c,f,e.mutatedKeys,0===_,b,!1),To:m}:{To:m}},i.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new xl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},i.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(o){return t.uo=t.uo.add(o)}),e.modifiedDocuments.forEach(function(o){}),e.removedDocuments.forEach(function(o){return t.uo=t.uo.delete(o)}),this.current=e.current)},i.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=xt(),this.fo.forEach(function(s){e.Io(s.key)&&(e.ho=e.ho.add(s.key))});var o=[];return t.forEach(function(s){e.ho.has(s)||o.push(new z_(s))}),this.ho.forEach(function(s){t.has(s)||o.push(new vi(s))}),o},i.prototype.Ao=function(e){this.uo=e.Bn,this.ho=xt();var t=this._o(e.documents);return this.applyChanges(t,!0)},i.prototype.Ro=function(){return q_.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),EE=function(i,e,t){this.query=i,this.targetId=e,this.view=t},$_=function(i){this.key=i,this.bo=!1},Pl=function(){function i(e,t,o,s,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.vo={},this.Po=new Vs(function(m){return i_(m)},Od),this.Vo=new Map,this.So=new Set,this.Do=new nr(Ue.comparator),this.Co=new Map,this.No=new Hd,this.xo={},this.ko=new Map,this.Fo=yp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function Wd(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,s,c,f,m;return(0,M.Jh)(this,function(_){switch(_.label){case 0:return t=ev(i),(c=t.Po.get(e))?(t.sharedClientState.addLocalQueryTarget(c.targetId),s=c.view.Ro(),[3,4]):[3,1];case 1:return[4,ns(t.localStore,di(e))];case 2:return f=_.sent(),m=t.sharedClientState.addLocalQueryTarget(f.targetId),[4,Z_(t,e,f.targetId,"current"===m)];case 3:s=_.sent(),t.isPrimaryClient&&Za(t.remoteStore,f),_.label=4;case 4:return[2,s]}})})}function Z_(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var s,c,f,m,_,b;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return i.Oo=function(D,S,I){return function(O,N,G,te){return(0,M.mG)(this,void 0,void 0,function(){var fe,ye,De;return(0,M.Jh)(this,function(Se){switch(Se.label){case 0:return(fe=N.view._o(G)).Nn?[4,bp(O.localStore,N.query,!1).then(function(We){return N.view._o(We.documents,fe)})]:[3,2];case 1:fe=Se.sent(),Se.label=2;case 2:return ye=te&&te.targetChanges.get(N.targetId),De=N.view.applyChanges(fe,O.isPrimaryClient,ye),[2,(Ip(O,N.targetId,De.To),De.snapshot)]}})})}(i,D,S,I)},[4,bp(i.localStore,e,!0)];case 1:return s=C.sent(),c=new CE(e,s.Bn),f=c._o(s.documents),m=v_.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),_=c.applyChanges(f,i.isPrimaryClient,m),Ip(i,t,_.To),b=new EE(e,t,c),[2,(i.Po.set(e,b),i.Vo.has(t)?i.Vo.get(t).push(e):i.Vo.set(t,[e]),_.snapshot)]}})})}function Ka(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return t=Te(i),o=t.Po.get(e),(s=t.Vo.get(o.targetId)).length>1?[2,(t.Vo.set(o.targetId,s.filter(function(f){return!Od(f,e)})),void t.Po.delete(e))]:t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,Al(t.localStore,o.targetId,!1).then(function(){t.sharedClientState.clearQueryState(o.targetId),ji(t.remoteStore,o.targetId),Qa(t,o.targetId)}).catch(Ga)]):[3,3];case 1:c.sent(),c.label=2;case 2:return[3,5];case 3:return Qa(t,o.targetId),[4,Al(t.localStore,o.targetId,!0)];case 4:c.sent(),c.label=5;case 5:return[2]}})})}function tM(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,s,c,f;return(0,M.Jh)(this,function(m){switch(m.label){case 0:o=Gn(i),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,(_=o.localStore,b=e,D=Te(_),S=Ur.now(),I=b.reduce(function(O,N){return O.add(N.key)},xt()),D.persistence.runTransaction("Locally write mutations","readwrite",function(O){return D.Mn.pn(O,I).next(function(N){C=N;for(var G=[],te=0,fe=b;te<fe.length;te++){var ye=fe[te],De=yI(ye,C.get(ye.key));null!=De&&G.push(new xs(ye.key,De,Wf(De.value.mapValue),yr.exists(!0)))}return D._n.addMutationBatch(O,S,G,b)})}).then(function(O){return O.applyToLocalDocumentSet(C),{batchId:O.batchId,changes:C}}))];case 2:return s=m.sent(),o.sharedClientState.addPendingMutation(s.batchId),function(_,b,C){var D=_.xo[_.currentUser.toKey()];D||(D=new nr(_t)),D=D.insert(b,C),_.xo[_.currentUser.toKey()]=D}(o,s.batchId,t),[4,Gi(o,s.changes)];case 3:return m.sent(),[4,Ya(o.remoteStore)];case 4:return m.sent(),[3,6];case 5:return c=m.sent(),f=Xr(c,"Failed to persist write"),t.reject(f),[3,6];case 6:return[2]}var _,b,C,D,S,I})})}function Y_(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(s){switch(s.label){case 0:t=Te(i),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,bo(t.localStore,e)];case 2:return o=s.sent(),e.targetChanges.forEach(function(c,f){var m=t.Co.get(f);m&&(Je(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.bo=!0:c.modifiedDocuments.size>0?Je(m.bo):c.removedDocuments.size>0&&(Je(m.bo),m.bo=!1))}),[4,Gi(t,o,e)];case 3:return s.sent(),[3,6];case 4:return[4,Ga(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ap(i,e,t){var o=Te(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){var s=[];o.Po.forEach(function(c,f){var m=f.view.zr(e);m.snapshot&&s.push(m.snapshot)}),function(c,f){var m=Te(c);m.onlineState=f;var _=!1;m.queries.forEach(function(b,C){for(var D=0,S=C.listeners;D<S.length;D++)S[D].zr(f)&&(_=!0)}),_&&Sp(m)}(o.eventManager,e),s.length&&o.vo._r(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Kd(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,s,c,f,m,_;return(0,M.Jh)(this,function(b){switch(b.label){case 0:return(o=Te(i)).sharedClientState.updateQueryState(e,"rejected",t),s=o.Co.get(e),(c=s&&s.key)?(f=(f=new nr(Ue.comparator)).insert(c,Bn.newNoDocument(c,it.min())),m=xt().add(c),_=new __(it.min(),new Map,new On(_t),f,m),[4,Y_(o,_)]):[3,2];case 1:return b.sent(),o.Do=o.Do.remove(c),o.Co.delete(e),J_(o),[3,4];case 2:return[4,Al(o.localStore,e,!1).then(function(){return Qa(o,e,t)}).catch(Ga)];case 3:b.sent(),b.label=4;case 4:return[2]}})})}function W_(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:t=Te(i),o=e.batch.batchId,c.label=1;case 1:return c.trys.push([1,4,,6]),[4,JO(t.localStore,e)];case 2:return s=c.sent(),Fl(t,o,null),K_(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),[4,Gi(t,s)];case 3:return c.sent(),[3,6];case 4:return[4,Ga(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function DE(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:o=Te(i),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,(f=o.localStore,m=e,_=Te(f),_.persistence.runTransaction("Reject batch","readwrite-primary",function(b){var C;return _._n.lookupMutationBatch(b,m).next(function(D){return Je(null!==D),C=D.keys(),_._n.removeMutationBatch(b,D)}).next(function(){return _._n.performConsistencyCheck(b)}).next(function(){return _.Mn.pn(b,C)})}))];case 2:return s=c.sent(),Fl(o,e,t),K_(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),[4,Gi(o,s)];case 3:return c.sent(),[3,6];case 4:return[4,Ga(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}var f,m,_})})}function kl(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,s,c,f;return(0,M.Jh)(this,function(m){switch(m.label){case 0:Hi((t=Te(i)).remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,(_=t.localStore,b=Te(_),b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(C){return b._n.getHighestUnacknowledgedBatchId(C)}))];case 2:return-1===(o=m.sent())?[2,void e.resolve()]:((s=t.ko.get(o)||[]).push(e),t.ko.set(o,s),[3,4]);case 3:return c=m.sent(),f=Xr(c,"Initialization of waitForPendingWrites() operation failed"),e.reject(f),[3,4];case 4:return[2]}var _,b})})}function K_(i,e){(i.ko.get(e)||[]).forEach(function(t){t.resolve()}),i.ko.delete(e)}function Fl(i,e,t){var o=Te(i),s=o.xo[o.currentUser.toKey()];if(s){var c=s.get(e);c&&(t?c.reject(t):c.resolve(),s=s.remove(e)),o.xo[o.currentUser.toKey()]=s}}function Qa(i,e,t){void 0===t&&(t=null),i.sharedClientState.removeLocalQueryTarget(e);for(var o=0,s=i.Vo.get(e);o<s.length;o++){var c=s[o];i.Po.delete(c),t&&i.vo.Mo(c,t)}i.Vo.delete(e),i.isPrimaryClient&&i.No.Zn(e).forEach(function(f){i.No.containsKey(f)||Q_(i,f)})}function Q_(i,e){i.So.delete(e.path.canonicalString());var t=i.Do.get(e);null!==t&&(ji(i.remoteStore,t),i.Do=i.Do.remove(e),i.Co.delete(t),J_(i))}function Ip(i,e,t){for(var o=0,s=t;o<s.length;o++){var c=s[o];c instanceof vi?(i.No.addReference(c.key,e),Mp(i,c)):c instanceof z_?(Ee("SyncEngine","Document no longer in limbo: "+c.key),i.No.removeReference(c.key,e),i.No.containsKey(c.key)||Q_(i,c.key)):Pe()}}function Mp(i,e){var t=e.key,o=t.path.canonicalString();i.Do.get(t)||i.So.has(o)||(Ee("SyncEngine","New document in limbo: "+t),i.So.add(o),J_(i))}function J_(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var e=i.So.values().next().value;i.So.delete(e);var t=new Ue(wt.fromString(e)),o=i.Fo.next();i.Co.set(o,new $_(t)),i.Do=i.Do.insert(t,o),Za(i.remoteStore,new hp(di(fl(t.path)),o,2,Vr.o))}}function Gi(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,s,c,f;return(0,M.Jh)(this,function(m){switch(m.label){case 0:return o=Te(i),s=[],c=[],f=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(_,b){f.push(o.Oo(b,e,t).then(function(C){if(C){o.isPrimaryClient&&o.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),s.push(C);var D=N_.Pn(b.targetId,C);c.push(D)}}))}),[4,Promise.all(f)]);case 1:return m.sent(),o.vo._r(s),[4,function(_,b){return(0,M.mG)(this,void 0,void 0,function(){var C,D,S,I,O,N,G,fe;return(0,M.Jh)(this,function(ye){switch(ye.label){case 0:C=Te(_),ye.label=1;case 1:return ye.trys.push([1,3,,4]),[4,C.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(De){return Ce.forEach(b,function(Se){return Ce.forEach(Se.bn,function(We){return C.persistence.referenceDelegate.addReference(De,Se.targetId,We)}).next(function(){return Ce.forEach(Se.vn,function(We){return C.persistence.referenceDelegate.removeReference(De,Se.targetId,We)})})})})];case 2:return ye.sent(),[3,4];case 3:if(!Ns(D=ye.sent()))throw D;return Ee("LocalStore","Failed to update sequence numbers: "+D),[3,4];case 4:for(S=0,I=b;S<I.length;S++)N=(O=I[S]).targetId,O.fromCache||(G=C.kn.get(N),fe=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion),C.kn=C.kn.insert(N,fe));return[2]}})})}(o.localStore,c)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}function X_(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(s){switch(s.label){case 0:return(t=Te(i)).currentUser.isEqual(e)?[3,3]:(Ee("SyncEngine","User change. New user:",e.toKey()),[4,XC(t.localStore,e)]);case 1:return o=s.sent(),t.currentUser=e,(c=t).ko.forEach(function(m){m.forEach(function(_){_.reject(new ve(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ko.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),[4,Gi(t,o.Ln)];case 2:s.sent(),s.label=3;case 3:return[2]}var c})})}function rx(i,e){var t=Te(i),o=t.Co.get(e);if(o&&o.bo)return xt().add(o.key);var s=xt(),c=t.Vo.get(e);if(!c)return s;for(var f=0,m=c;f<m.length;f++){var b=t.Po.get(m[f]);s=s.unionWith(b.view.wo)}return s}function ix(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return[4,bp((t=Te(i)).localStore,e.query,!0)];case 1:return o=c.sent(),s=e.view.Ao(o),[2,(t.isPrimaryClient&&Ip(t,e.targetId,s.To),s)]}})})}function tt(i){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){return[2,tE((e=Te(i)).localStore).then(function(o){return Gi(e,o)})]})})}function ox(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var s,c;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,(m=(s=Te(i)).localStore,_=e,b=Te(m),C=Te(b._n),b.persistence.runTransaction("Lookup mutation documents","readonly",function(D){return C.jt(D,_).next(function(S){return S?b.Mn.pn(D,S):Ce.resolve(null)})}))];case 1:return null===(c=f.sent())?[3,6]:"pending"!==t?[3,3]:[4,Ya(s.remoteStore)];case 2:return f.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(Fl(s,e,o||null),K_(s,e),function(m,_){Te(Te(m)._n).Gt(_)}(s.localStore,e)):Pe(),f.label=4;case 4:return[4,Gi(s,c)];case 5:return f.sent(),[3,7];case 6:Ee("SyncEngine","Cannot apply mutation batch with id: "+e),f.label=7;case 7:return[2]}var m,_,b,C})})}function Qd(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,s,c,f,_,b;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return ev(t=Te(i)),Gn(t),!0!==e||!0===t.$o?[3,3]:(o=t.sharedClientState.getAllActiveQueryTargets(),[4,TE(t,o.toArray())]);case 1:return s=C.sent(),t.$o=!0,[4,Ol(t.remoteStore,!0)];case 2:for(C.sent(),c=0,f=s;c<f.length;c++)Za(t.remoteStore,f[c]);return[3,7];case 3:return!1!==e||!1===t.$o?[3,7]:(_=[],b=Promise.resolve(),t.Vo.forEach(function(D,S){t.sharedClientState.isLocalQueryTarget(S)?_.push(S):b=b.then(function(){return Qa(t,S),Al(t.localStore,S,!0)}),ji(t.remoteStore,S)}),[4,b]);case 4:return C.sent(),[4,TE(t,_)];case 5:return C.sent(),(S=Te(t)).Co.forEach(function(I,O){ji(S.remoteStore,O)}),S.No.ts(),S.Co=new Map,S.Do=new nr(Ue.comparator),t.$o=!1,[4,Ol(t.remoteStore,!1)];case 6:C.sent(),C.label=7;case 7:return[2]}var S})})}function TE(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,s,c,f,m,_,b,C,D,S,O,N,G;return(0,M.Jh)(this,function(te){switch(te.label){case 0:o=Te(i),s=[],c=[],f=0,m=e,te.label=1;case 1:return f<m.length?(b=void 0,(C=o.Vo.get(_=m[f]))&&0!==C.length?[4,ns(o.localStore,di(C[0]))]:[3,7]):[3,13];case 2:b=te.sent(),D=0,S=C,te.label=3;case 3:return D<S.length?(O=o.Po.get(S[D]),[4,ix(o,O)]):[3,6];case 4:(N=te.sent()).snapshot&&c.push(N.snapshot),te.label=5;case 5:return D++,[3,3];case 6:return[3,11];case 7:return[4,LI(o.localStore,_)];case 8:return G=te.sent(),[4,ns(o.localStore,G)];case 9:return b=te.sent(),[4,Z_(o,SE(G),_,!1)];case 10:te.sent(),te.label=11;case 11:s.push(b),te.label=12;case 12:return f++,[3,1];case 13:return[2,(o.vo._r(c),s)]}})})}function SE(i){return fI(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function nM(i){var e=Te(i);return Te(Te(e.localStore).persistence).fn()}function sx(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var s,c,f;return(0,M.Jh)(this,function(m){switch(m.label){case 0:return(s=Te(i)).$o?(Ee("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Vo.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tE(s.localStore)];case 3:return c=m.sent(),f=__.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,Gi(s,c,f)];case 4:return m.sent(),[3,8];case 5:return[4,Al(s.localStore,e,!0)];case 6:return m.sent(),Qa(s,e,o),[3,8];case 7:Pe(),m.label=8;case 8:return[2]}})})}function ax(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,s,c,f,m,_,b,C,D;return(0,M.Jh)(this,function(I){switch(I.label){case 0:if(!(o=ev(i)).$o)return[3,10];s=0,c=e,I.label=1;case 1:return s<c.length?o.Vo.has(f=c[s])?(Ee("SyncEngine","Adding an already active target "+f),[3,5]):[4,LI(o.localStore,f)]:[3,6];case 2:return m=I.sent(),[4,ns(o.localStore,m)];case 3:return _=I.sent(),[4,Z_(o,SE(m),_.targetId,!1)];case 4:I.sent(),Za(o.remoteStore,_),I.label=5;case 5:return s++,[3,1];case 6:b=function(O){return(0,M.Jh)(this,function(N){switch(N.label){case 0:return o.Vo.has(O)?[4,Al(o.localStore,O,!1).then(function(){ji(o.remoteStore,O),Qa(o,O)}).catch(Ga)]:[3,2];case 1:N.sent(),N.label=2;case 2:return[2]}})},C=0,D=t,I.label=7;case 7:return C<D.length?[5,b(D[C])]:[3,10];case 8:I.sent(),I.label=9;case 9:return C++,[3,7];case 10:return[2]}})})}function ev(i){var e=Te(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kd.bind(null,e),e.vo._r=nx.bind(null,e.eventManager),e.vo.Mo=vE.bind(null,e.eventManager),e}function Gn(i){var e=Te(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DE.bind(null,e),e}var AE=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){switch(t.label){case 0:return this.R=qd(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},i.prototype.Uo=function(e){return null},i.prototype.Ko=function(e){return za(this.persistence,new jd,e.initialUser,this.R)},i.prototype.qo=function(e){return new GI(iE.bs,this.R)},i.prototype.Bo=function(e){return new aE},i.prototype.terminate=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},i}(),Rp=function(i){function e(t,o,s){var c=this;return(c=i.call(this)||this).Qo=t,c.cacheSizeBytes=o,c.forceOwnership=s,c.synchronizeTabs=!1,c}return(0,M.ZT)(e,i),e.prototype.initialize=function(t){return(0,M.mG)(this,void 0,void 0,function(){var o=this;return(0,M.Jh)(this,function(s){switch(s.label){case 0:return[4,i.prototype.initialize.call(this,t)];case 1:return s.sent(),[4,VI(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,t)];case 3:return s.sent(),[4,Gn(this.Qo.syncEngine)];case 4:return s.sent(),[4,Ya(this.Qo.remoteStore)];case 5:return s.sent(),[4,this.persistence.He(function(){return o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()})];case 6:return s.sent(),[2]}})})},e.prototype.Ko=function(t){return za(this.persistence,new jd,t.initialUser,this.R)},e.prototype.Uo=function(t){return new OI(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var o=F_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?gi.withCacheSize(this.cacheSizeBytes):gi.DEFAULT;return new JC(this.synchronizeTabs,o,t.clientId,s,t.asyncQueue,uE(),Ep(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new aE},e}(AE),iM=function(i){function e(t,o){var s=this;return(s=i.call(this,t,o,!1)||this).Qo=t,s.cacheSizeBytes=o,s.synchronizeTabs=!0,s}return(0,M.ZT)(e,i),e.prototype.initialize=function(t){return(0,M.mG)(this,void 0,void 0,function(){var o,s=this;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return[4,i.prototype.initialize.call(this,t)];case 1:return c.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof $a?(this.sharedClientState.syncEngine={ui:ox.bind(null,o),ai:sx.bind(null,o),hi:ax.bind(null,o),fn:nM.bind(null,o),ci:tt.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:c.sent(),c.label=3;case 3:return[4,this.persistence.He(function(f){return(0,M.mG)(s,void 0,void 0,function(){return(0,M.Jh)(this,function(m){switch(m.label){case 0:return[4,Qd(this.Qo.syncEngine,f)];case 1:return m.sent(),this.gcScheduler&&(f&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):f||this.gcScheduler.stop()),[2]}})})})];case 4:return c.sent(),[2]}})})},e.prototype.Bo=function(t){var o=uE();if(!$a.yt(o))throw new ve(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var s=F_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new $a(o,t.asyncQueue,s,t.clientId,t.initialUser)},e}(Rp),tv=function(){function i(){}return i.prototype.initialize=function(e,t){return(0,M.mG)(this,void 0,void 0,function(){var o=this;return(0,M.Jh)(this,function(s){switch(s.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(c){return Ap(o.syncEngine,c,1)},this.remoteStore.remoteSyncer.handleCredentialChange=X_.bind(null,this.syncEngine),[4,Ol(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:s.sent(),s.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(e){return new yi},i.prototype.createDatastore=function(e){var o=qd(e.databaseInfo.databaseId),s=new YI(e.databaseInfo);return new KI(e.credentials,s,o)},i.prototype.createRemoteStore=function(e){var t,o,s,c,f,m=this;return t=this.localStore,o=this.datastore,s=e.asyncQueue,c=function(_){return Ap(m.syncEngine,_,0)},f=zI.yt()?new zI:new qI,new QI(t,o,s,c,f)},i.prototype.createSyncEngine=function(e,t){return b=t,C=new Pl(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),b&&(C.$o=!0),C;var b,C},i.prototype.terminate=function(){return function(e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t=Te(e),Ee("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Ml(t)];case 1:return o.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),Op=function(){function i(e){this.observer=e,this.muted=!1}return i.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},i.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(e,t){var o=this;this.muted||setTimeout(function(){o.muted||e(t)},0)},i}(),sM=(function(){function i(e,t){var o=this;this.Go=e,this.R=t,this.metadata=new _r,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(s){s&&s.io()?o.metadata.resolve(s.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==s?void 0:s.payload)))},function(s){return o.metadata.reject(s)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return[4,this.Jo()];case 1:return null===(e=c.sent())?[2,null]:(t=this.zo.decode(e),o=Number(t),isNaN(o)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(o)]);case 2:return s=c.sent(),[2,new eM(JSON.parse(s),e.length+o)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},i.prototype.Xo=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},i.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},i.prototype.tc=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(e=o.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function i(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t,o=this;return(0,M.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ve(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(c,f){return(0,M.mG)(this,void 0,void 0,function(){var m,_,b,C,D,S;return(0,M.Jh)(this,function(I){switch(I.label){case 0:return m=Te(c),_=up(m.R)+"/documents",b={documents:f.map(function(O){return kd(m.R,O)})},[4,m.$i("BatchGetDocuments",_,b)];case 1:return C=I.sent(),D=new Map,C.forEach(function(O){var G,te,N=(G=m.R,"found"in(te=O)?function(fe,ye){Je(!!ye.found);var De=Ar(fe,ye.found.name),Se=xn(ye.found.updateTime),We=new jr({mapValue:{fields:ye.found.fields}});return Bn.newFoundDocument(De,Se,We)}(G,te):"missing"in te?function(fe,ye){Je(!!ye.missing),Je(!!ye.readTime);var De=Ar(fe,ye.missing),Se=xn(ye.readTime);return Bn.newNoDocument(De,Se)}(G,te):Pe());D.set(N.key.toString(),N)}),S=[],[2,(f.forEach(function(O){var N=D.get(O.toString());Je(!!N),S.push(N)}),S)]}})})}(this.datastore,e)];case 1:return[2,((t=s.sent()).forEach(function(c){return o.recordVersion(c)}),t)]}})})},i.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},i.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())},i.prototype.delete=function(e){this.write(new yl(e,this.precondition(e))),this.writtenDocs.add(e.toString())},i.prototype.commit=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t=this;return(0,M.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(s){e.delete(s.key.toString())}),e.forEach(function(s,c){var f=Ue.fromPath(c);t.mutations.push(new ip(f,t.precondition(f)))}),[4,function(s,c){return(0,M.mG)(this,void 0,void 0,function(){var f,m,_;return(0,M.Jh)(this,function(b){switch(b.label){case 0:return f=Te(s),m=up(f.R)+"/documents",_={writes:c.map(function(C){return je(f.R,C)})},[4,f.Ni("Commit",m,_)];case 1:return b.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pe();t=it.min()}var o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new ve(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},i.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?yr.updateTime(t):yr.none()},i.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(it.min()))throw new ve(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(t)}return yr.exists(!0)},i.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},i.prototype.ensureCommitNotCalled=function(){},i}()),nv=function(){function i(e,t,o,s){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=s,this.ec=5,this.Zi=new j_(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,M.mG)(e,void 0,void 0,function(){var t,o,s=this;return(0,M.Jh)(this,function(c){return t=new sM(this.datastore),(o=this.sc(t))&&o.then(function(f){s.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){s.deferred.resolve(f)}).catch(function(m){s.ic(m)})})}).catch(function(f){s.ic(f)}),[2]})})})},i.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Qo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},i.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},i.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!g_(t)}return!1},i}(),aM=function(){function i(e,t,o){var s=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=o,this.user=Hn.UNAUTHENTICATED,this.clientId=uI.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(c){return(0,M.mG)(s,void 0,void 0,function(){return(0,M.Jh)(this,function(f){switch(f.label){case 0:return Ee("FirestoreClient","Received user=",c.uid),[4,this.credentialListener(c)];case 1:return f.sent(),this.user=c,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,M.mG)(e,void 0,void 0,function(){var o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:c.sent(),c.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:c.sent(),c.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return o=c.sent(),s=Xr(o,"Failed to shutdown persistence"),t.reject(s),[3,6];case 6:return[2]}})})}),t.promise},i}();function ME(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,s=this;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return i.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return t=c.sent(),[4,e.initialize(t)];case 2:return c.sent(),o=t.initialUser,i.setCredentialChangeListener(function(f){return(0,M.mG)(s,void 0,void 0,function(){return(0,M.Jh)(this,function(m){switch(m.label){case 0:return o.isEqual(f)?[3,2]:[4,XC(e.localStore,f)];case 1:m.sent(),o=f,m.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=e,[2]}})})}function rv(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(s){switch(s.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,Jd(i)];case 1:return t=s.sent(),Ee("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return o=s.sent(),[4,e.initialize(t,o)];case 3:return s.sent(),i.setCredentialChangeListener(function(c){return function(f,m){return(0,M.mG)(this,void 0,void 0,function(){var _,b;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return(_=Te(f)).asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials"),b=Hi(_),_.Or.add(3),[4,Ml(_)];case 1:return C.sent(),b&&_.Br.set("Unknown"),[4,_.remoteSyncer.handleCredentialChange(m)];case 2:return C.sent(),_.Or.delete(3),[4,$d(_)];case 3:return C.sent(),[2]}})})}(e.remoteStore,c)}),i.onlineComponents=e,[2]}})})}function Jd(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return i.offlineComponents?[3,2]:(Ee("FirestoreClient","Using default OfflineComponentProvider"),[4,ME(i,new AE)]);case 1:e.sent(),e.label=2;case 2:return[2,i.offlineComponents]}})})}function xp(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return i.onlineComponents?[3,2]:(Ee("FirestoreClient","Using default OnlineComponentProvider"),[4,rv(i,new tv)]);case 1:e.sent(),e.label=2;case 2:return[2,i.onlineComponents]}})})}function uM(i){return Jd(i).then(function(e){return e.persistence})}function iv(i){return Jd(i).then(function(e){return e.localStore})}function RE(i){return xp(i).then(function(e){return e.remoteStore})}function ov(i){return xp(i).then(function(e){return e.syncEngine})}function Nl(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return[4,xp(i)];case 1:return e=o.sent(),[2,((t=e.eventManager).onListen=Wd.bind(null,e.syncEngine),t.onUnlisten=Ka.bind(null,e.syncEngine),t)]}})})}function OE(i,e,t){var o=this;void 0===t&&(t={});var s=new _r;return i.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(o,void 0,void 0,function(){var c;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return c=function(m,_,b,C,D){var S=new Op({next:function(O){_.enqueueAndForget(function(){return rs(m,I)});var N=O.docs.has(b);!N&&O.fromCache?D.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&O.fromCache&&C&&"server"===C.source?D.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(O)},error:function(O){return D.reject(O)}}),I=new bE(fl(b.path),S,{includeMetadataChanges:!0,so:!0});return Yd(m,I)},[4,Nl(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,e,t,s])]}})})}),s.promise}function xE(i,e,t){var o=this;void 0===t&&(t={});var s=new _r;return i.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(o,void 0,void 0,function(){var c;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return c=function(m,_,b,C,D){var S=new Op({next:function(O){_.enqueueAndForget(function(){return rs(m,I)}),O.fromCache&&"server"===C.source?D.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(O)},error:function(O){return D.reject(O)}}),I=new bE(b,S,{includeMetadataChanges:!0,so:!0});return Yd(m,I)},[4,Nl(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,e,t,s])]}})})}),s.promise}var Xd=function(i,e,t,o,s,c,f,m){this.databaseId=i,this.appId=e,this.persistenceKey=t,this.host=o,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=m},Pp=function(){function i(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return e instanceof i&&e.projectId===this.projectId&&e.database===this.database},i}(),PE=new Map,sv=function(i,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},Ll=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(Hn.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),ux=function(){function i(e){this.token=e,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(e,t){var o=this;this.changeListener=t,e.enqueueRetryable(function(){return t(o.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),kE=function(){function i(e){var t=this;this.currentUser=Hn.UNAUTHENTICATED,this.oc=new _r,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var o=function(s){Ee("FirebaseCredentialsProvider","Auth detected"),t.auth=s,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(s){return o(s)}),setTimeout(function(){if(!t.auth){var s=e.getImmediate({optional:!0});s?o(s):(Ee("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return i.prototype.getToken=function(){var e=this,t=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(s){return e.cc!==t?(Ee("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):s?(Je("string"==typeof s.accessToken),new sv(s.accessToken,e.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(e,t){var o=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,M.mG)(o,void 0,void 0,function(){return(0,M.Jh)(this,function(s){switch(s.label){case 0:return[4,this.oc.promise];case 1:return s.sent(),[4,t(this.currentUser)];case 2:return s.sent(),this.changeListener=t,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Je(null===e||"string"==typeof e),new Hn(e)},i}(),lM=function(){function i(e,t,o){this.hc=e,this.lc=t,this.fc=o,this.type="FirstParty",this.user=Hn.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),i}(),cM=function(){function i(e,t,o){this.hc=e,this.lc=t,this.fc=o}return i.prototype.getToken=function(){return Promise.resolve(new lM(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(Hn.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function av(i,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+e+".")}function uv(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ve(oe.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return e}function FE(i,e,t,o){if(!0===e&&!0===o)throw new ve(oe.INVALID_ARGUMENT,i+" and "+t+" cannot be used together.")}function lv(i){if(!Ue.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function NE(i){if(Ue.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function kp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var e=function(t){if(t.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return e?"a custom "+e+" object":"an object"}return"function"==typeof i?"a function":Pe()}function It(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var t=kp(i);throw new ve(oe.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}return i}function dM(i,e){if(e<=0)throw new ve(oe.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+e+".")}var hM=function(){function i(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,FE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},i}(),Ja=function(){function i(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hM({}),this._settingsFrozen=!1,e instanceof Pp?(this._databaseId=e,this._credentials=new Ll):(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pp(o.options.projectId)}(e),this._credentials=new kE(t))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hM(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new Ll;switch(t.type){case"gapi":var o=t.client;return Je(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new cM(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(t=PE.get(this))&&(Ee("ComponentProvider","Removing Datastore"),PE.delete(this),t.terminate()),Promise.resolve();var t},i}(),Xt=function(){function i(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Us(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(e){return new i(this.firestore,e,this._key)},i}(),qr=function(){function i(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}return i.prototype.withConverter=function(e){return new i(this.firestore,e,this._query)},i}(),Us=function(i){function e(t,o,s){var c=this;return(c=i.call(this,t,o,fl(s))||this)._path=s,c.type="collection",c}return(0,M.ZT)(e,i),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Xt(this.firestore,null,new Ue(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(qr);function LE(i,e){for(var t,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(i=(0,ut.m9)(i),av("collection","path",e),i instanceof Ja)return NE(t=wt.fromString.apply(wt,(0,M.ev)([e],o))),new Us(i,null,t);if(!(i instanceof Xt||i instanceof Us))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return NE(t=wt.fromString.apply(wt,(0,M.ev)([i.path],o)).child(wt.fromString(e))),new Us(i.firestore,null,t)}function Fp(i,e){for(var t,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(i=(0,ut.m9)(i),1===arguments.length&&(e=uI.u()),av("doc","path",e),i instanceof Ja)return lv(t=wt.fromString.apply(wt,(0,M.ev)([e],o))),new Xt(i,null,new Ue(t));if(!(i instanceof Xt||i instanceof Us))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return lv(t=i._path.child(wt.fromString.apply(wt,(0,M.ev)([e],o)))),new Xt(i.firestore,i instanceof Us?i.converter:null,new Ue(t))}function VE(i,e){return i=(0,ut.m9)(i),e=(0,ut.m9)(e),(i instanceof Xt||i instanceof Us)&&(e instanceof Xt||e instanceof Us)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function cv(i,e){return i=(0,ut.m9)(i),e=(0,ut.m9)(e),i instanceof qr&&e instanceof qr&&i.firestore===e.firestore&&Od(i._query,e._query)&&i.converter===e.converter}var dv=function(){function i(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new j_(this,"async_queue_retry"),this.Ic=function(){var o=Ep();o&&Ee("AsyncQueue","Visibility state changed to "+o.visibilityState),e.Zi.Gi()};var t=Ep();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(e){this.enqueue(e)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},i.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Ep();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new _r;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},i.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},i.prototype.bc=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t=this;return(0,M.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ns(e=o.sent()))throw e;return Ee("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),o.label=5;case 5:return[2]}})})},i.prototype.Rc=function(e){var t=this,o=this.dc.then(function(){return t.gc=!0,e().catch(function(s){throw t.yc=s,t.gc=!1,Sn("INTERNAL UNHANDLED ERROR: ",(f=(c=s).message||"",c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f)),s;var c,f}).then(function(s){return t.gc=!1,s})});return this.dc=o,o},i.prototype.enqueueAfterDelay=function(e,t,o){var s=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var c=Rt.createAndSchedule(this,e,t,o,function(f){return s.vc(f)});return this.mc.push(c),c},i.prototype.Ac=function(){this.yc&&Pe()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},i.prototype.Vc=function(e){for(var t=0,o=this.mc;t<o.length;t++)if(o[t].timerId===e)return!0;return!1},i.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(f,m){return f.targetTimeMs-m.targetTimeMs});for(var o=0,s=t.mc;o<s.length;o++){var c=s[o];if(c.skipDelay(),"all"!==e&&c.timerId===e)break}return t.Pc()})},i.prototype.Dc=function(e){this.Tc.push(e)},i.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},i}();function Vl(i){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var o=e,s=0,c=["next","error","complete"];s<c.length;s++){var f=c[s];if(f in o&&"function"==typeof o[f])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new _r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(e,t,o){this._progressObserver={next:e,error:t,complete:o}},i.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},i.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},i.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},i.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},i.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var hn=function(i){function e(t,o){var s=this;return(s=i.call(this,t,o)||this).type="firestore",s._queue=new dv,s._persistenceKey="name"in t?t.name:"[DEFAULT]",s}return(0,M.ZT)(e,i),e.prototype._terminate=function(){return this._firestoreClient||Np(this),this._firestoreClient.terminate()},e}(Ja);function Ft(i){return i._firestoreClient||Np(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Np(i){var e,c,m,t=i._freezeSettings(),o=(c=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Xd(i._databaseId,c,i._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));i._firestoreClient=new aM(i._credentials,i._queue,o)}function UE(i,e,t){var o=this,s=new _r;return i.asyncQueue.enqueue(function(){return(0,M.mG)(o,void 0,void 0,function(){var c;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,ME(i,t)];case 1:return f.sent(),[4,rv(i,e)];case 2:return f.sent(),s.resolve(),[3,4];case 3:if(!("FirebaseError"===(m=c=f.sent()).name?m.code===oe.FAILED_PRECONDITION||m.code===oe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw c;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),s.reject(c),[3,4];case 4:return[2]}var m})})}).then(function(){return s.promise})}function hv(i){if(i._initialized||i._terminated)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var qi=function(){function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0;o<e.length;++o)if(0===e[o].length)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ci(e)}return i.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},i}(),Bs=function(){function i(e){this._byteString=e}return i.fromBase64String=function(e){try{return new i(Sr.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},i.fromUint8Array=function(e){return new i(Sr.fromUint8Array(e))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},i}(),Xa=function(i){this._methodName=i},Lp=function(){function i(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(e){return _t(this._lat,e._lat)||_t(this._long,e._long)},i}(),fM=/^__.*__$/,BE=function(){function i(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}return i.prototype.toMutation=function(e,t){return null!==this.fieldMask?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Os(e,this.data,t,this.fieldTransforms)},i}(),jE=function(){function i(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}return i.prototype.toMutation=function(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)},i}();function pM(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}var HE=function(){function i(e,t,o,s,c,f){this.settings=e,this.databaseId=t,this.R=o,this.ignoreUndefinedProperties=s,void 0===c&&this.Cc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(e){return new i(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.kc=function(e){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.xc({path:o,Fc:!1});return s.$c(e),s},i.prototype.Oc=function(e){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.xc({path:o,Fc:!1});return s.Cc(),s},i.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},i.prototype.Lc=function(e){return js(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},i.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},i.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(pM(this.Nc)&&fM.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),gM=function(){function i(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=o||qd(e)}return i.prototype.Uc=function(e,t,o,s){return void 0===s&&(s=!1),new HE({Nc:e,methodName:t,qc:o,path:ci.emptyPath(),Fc:!1,Bc:s},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function bi(i){var e=i._freezeSettings(),t=qd(i._databaseId);return new gM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function fv(i,e,t,o,s,c){void 0===c&&(c={});var f=i.Uc(c.merge||c.mergeFields?2:0,e,t,s);gv("Data must be an object, but it was:",f,o);var m,_,b=$E(o,f);if(c.merge)m=new sl(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){for(var C=[],D=0,S=c.mergeFields;D<S.length;D++){var I=mv(e,S[D],t);if(!f.contains(I))throw new ve(oe.INVALID_ARGUMENT,"Field '"+I+"' is specified in your field mask but missing from your input data.");_v(C,I)||C.push(I)}m=new sl(C),_=f.fieldTransforms.filter(function(O){return m.covers(O.field)})}else m=null,_=f.fieldTransforms;return new BE(new jr(b),m,_)}var Vp=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Xa);function GE(i,e,t){return new HE({Nc:3,qc:e.settings.qc,methodName:i._methodName,Fc:t},e.databaseId,e.R,e.ignoreUndefinedProperties)}var lx=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){return new xd(t.path,new gl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Xa),qE=function(i){function e(t,o){var s=this;return(s=i.call(this,t)||this).Kc=o,s}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=GE(this,t,!0),s=this.Kc.map(function(f){return eu(f,o)}),c=new ka(s);return new xd(t.path,c)},e.prototype.isEqual=function(t){return this===t},e}(Xa),mM=function(i){function e(t,o){var s=this;return(s=i.call(this,t)||this).Kc=o,s}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=GE(this,t,!0),s=this.Kc.map(function(f){return eu(f,o)}),c=new tr(s);return new xd(t.path,c)},e.prototype.isEqual=function(t){return this===t},e}(Xa),pv=function(i){function e(t,o){var s=this;return(s=i.call(this,t)||this).Qc=o,s}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=new Fa(t.R,s_(t.R,this.Qc));return new xd(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(Xa);function Up(i,e,t,o){var s=i.Uc(1,e,t);gv("Data must be an object, but it was:",s,o);var c=[],f=jr.empty();As(o,function(_,b){var C=yv(e,_,t);b=(0,ut.m9)(b);var D=s.Oc(C);if(b instanceof Vp)c.push(C);else{var S=eu(b,D);null!=S&&(c.push(C),f.set(C,S))}});var m=new sl(c);return new jE(f,m,s.fieldTransforms)}function Bp(i,e,t,o,s,c){var f=i.Uc(1,e,t),m=[mv(e,o,t)],_=[s];if(c.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var b=0;b<c.length;b+=2)m.push(mv(e,c[b])),_.push(c[b+1]);for(var C=[],D=jr.empty(),S=m.length-1;S>=0;--S)if(!_v(C,m[S])){var I=m[S],O=_[S];O=(0,ut.m9)(O);var N=f.Oc(I);if(O instanceof Vp)C.push(I);else{var G=eu(O,N);null!=G&&(C.push(I),D.set(I,G))}}var te=new sl(C);return new jE(D,te,f.fieldTransforms)}function zE(i,e,t,o){return void 0===o&&(o=!1),eu(t,i.Uc(o?4:3,e))}function eu(i,e){if(ZE(i=(0,ut.m9)(i)))return gv("Unsupported field value:",e,i),$E(i,e);if(i instanceof Xa)return function(t,o){if(!pM(o.Nc))throw o.Lc(t._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(t._methodName+"() is not currently supported inside arrays");var s=t._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,o){for(var s=[],c=0,f=0,m=t;f<m.length;f++){var _=eu(m[f],o.Mc(c));null==_&&(_={nullValue:"NULL_VALUE"}),s.push(_),c++}return{arrayValue:{values:s}}}(i,e)}return function(t,o){if(null===(t=(0,ut.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return s_(o.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var s=Ur.fromDate(t);return{timestampValue:_l(o.R,s)}}if(t instanceof Ur)return s=new Ur(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:_l(o.R,s)};if(t instanceof Lp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bs)return{bytesValue:E_(o.R,t._byteString)};if(t instanceof Xt){var c=t.firestore._databaseId;if(!c.isEqual(s=o.databaseId))throw o.Lc("Document reference is for database "+c.projectId+"/"+c.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:Jo(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.Lc("Unsupported field value: "+kp(t))}(i,e)}function $E(i,e){var t={};return rC(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(i,function(o,s){var c=eu(s,e.kc(o));null!=c&&(t[o]=c)}),{mapValue:{fields:t}}}function ZE(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ur||i instanceof Lp||i instanceof Bs||i instanceof Xt||i instanceof Xa)}function gv(i,e,t){if(!ZE(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){var o=kp(t);throw e.Lc("an object"===o?i+" a custom object":i+" "+o)}var s}function mv(i,e,t){if((e=(0,ut.m9)(e))instanceof qi)return e._internalPath;if("string"==typeof e)return yv(i,e);throw js("Field path arguments must be of type string or FieldPath.",i,!1,void 0,t)}var yM=new RegExp("[~\\*/\\[\\]]");function yv(i,e,t){if(e.search(yM)>=0)throw js("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,t);try{return(new(qi.bind.apply(qi,(0,M.ev)([void 0],e.split(".")))))._internalPath}catch(o){throw js("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,t)}}function js(i,e,t,o,s){var c=o&&!o.isEmpty(),f=void 0!==s,m="Function "+e+"() called with invalid data";t&&(m+=" (via `toFirestore()`)");var _="";return(c||f)&&(_+=" (found",c&&(_+=" in field "+o),f&&(_+=" in document "+s),_+=")"),new ve(oe.INVALID_ARGUMENT,(m+=". ")+i+_)}function _v(i,e){return i.some(function(t){return t.isEqual(e)})}var Bl=function(){function i(e,t,o,s,c){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=s,this._converter=c}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new Xt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var e=new YE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(e){if(this._document){var t=this._document.data.field(eh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},i}(),YE=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.data=function(){return i.prototype.data.call(this)},e}(Bl);function eh(i,e){return"string"==typeof e?yv(i,e):e instanceof qi?e._internalPath:e._delegate._internalPath}var Hs=function(){function i(e,t){this.hasPendingWrites=e,this.fromCache=t}return i.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},i}(),wo=function(i){function e(t,o,s,c,f,m){var _=this;return(_=i.call(this,t,o,s,c,m)||this)._firestore=t,_._firestoreImpl=t,_.metadata=f,_}return(0,M.ZT)(e,i),e.prototype.exists=function(){return i.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var o=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,o){if(void 0===o&&(o={}),this._document){var s=this._document.data.field(eh("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,o.serverTimestamps)}},e}(Bl),th=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.data=function(t){return void 0===t&&(t={}),i.prototype.data.call(this,t)},e}(wo),is=function(){function i(e,t,o,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Hs(s.hasPendingWrites,s.fromCache),this.query=o}return Object.defineProperty(i.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(e,t){var o=this;this._snapshot.docs.forEach(function(s){e.call(t,new th(o._firestore,o._userDataWriter,s.key,s,new Hs(o._snapshot.mutatedKeys.has(s.key),o._snapshot.fromCache),o.query.converter))})},i.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){var c=0;return o._snapshot.docChanges.map(function(m){return{type:"added",doc:new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hs(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}})}var f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(m){return s||3!==m.type}).map(function(m){var _=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hs(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),b=-1,C=-1;return 0!==m.type&&(b=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),1!==m.type&&(C=(f=f.add(m.doc)).indexOf(m.doc.key)),{type:_M(m.type),doc:_,oldIndex:b,newIndex:C}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},i}();function _M(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}function WE(i,e){return i instanceof wo&&e instanceof wo?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof is&&e instanceof is&&i._firestore===e._firestore&&cv(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function KE(i){if(Rd(i)&&0===i.explicitOrderBy.length)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nh=function(){};function wi(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var o=0,s=e;o<s.length;o++){var c=s[o];i=c._apply(i)}return i}var rh=function(i){function e(t,o,s){var c=this;return(c=i.call(this)||this).jc=t,c.Wc=o,c.Gc=s,c.type="where",c}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var c,m,o=bi(t.firestore),s=function(c,f,m,_,b,C,D){var S;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new ve(oe.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){XE(D,C);for(var I=[],O=0,N=D;O<N.length;O++)I.push(JE(_,c,N[O]));S={arrayValue:{values:I}}}else S=JE(_,c,D)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||XE(D,C),S=zE(m,"where",D,"in"===C||"not-in"===C);var te=Hr.create(b,C,S);return function(fe,ye){if(ye.g()){var De=_n(fe);if(null!==De&&!De.isEqual(ye.field))throw new ve(oe.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+De.toString()+"' and '"+ye.field.toString()+"'");var Se=n_(fe);null!==Se&&bM(0,ye.field,Se)}var We=function(Ct,ir){for(var qt=0,Io=Ct.filters;qt<Io.length;qt++){var Fb=Io[qt];if(ir.indexOf(Fb.op)>=0)return Fb.op}return null}(fe,function(Ct){switch(Ct){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ye.op));if(null!==We)throw new ve(oe.INVALID_ARGUMENT,We===ye.op?"Invalid query. You cannot use more than one '"+ye.op.toString()+"' filter.":"Invalid query. You cannot use '"+ye.op.toString()+"' filters with '"+We.toString()+"' filters.")}(c,te),te}(t._query,0,o,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new qr(t.firestore,t.converter,(m=(c=t._query).filters.concat([s]),new mo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)))},e}(nh),vM=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).jc=t,s.zc=o,s.type="orderBy",s}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var s,f,o=function(s,c,f){if(null!==s.startAt)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var m=new Pa(c,f);return function(_,b){if(null===n_(_)){var C=_n(_);null!==C&&bM(0,C,b.field)}}(s,m),m}(t._query,this.jc,this.zc);return new qr(t.firestore,t.converter,(f=(s=t._query).explicitOrderBy.concat([o]),new mo(s.path,s.collectionGroup,f,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)))},e}(nh),jp=function(i){function e(t,o,s){var c=this;return(c=i.call(this)||this).type=t,c.Hc=o,c.Jc=s,c}return(0,M.ZT)(e,i),e.prototype._apply=function(t){return new qr(t.firestore,t.converter,r_(t._query,this.Hc,this.Jc))},e}(nh),zi=function(i){function e(t,o,s){var c=this;return(c=i.call(this)||this).type=t,c.Yc=o,c.Xc=s,c}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var s,c,o=jl(t,this.type,this.Yc,this.Xc);return new qr(t.firestore,t.converter,(c=o,new mo((s=t._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)))},e}(nh),QE=function(i){function e(t,o,s){var c=this;return(c=i.call(this)||this).type=t,c.Yc=o,c.Xc=s,c}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var s,c,o=jl(t,this.type,this.Yc,this.Xc);return new qr(t.firestore,t.converter,(c=o,new mo((s=t._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)))},e}(nh);function jl(i,e,t,o){if(t[0]=(0,ut.m9)(t[0]),t[0]instanceof Bl)return function(c,f,m,_,b){if(!_)throw new ve(oe.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+m+"().");for(var C=[],D=0,S=pl(c);D<S.length;D++){var I=S[D];if(I.field.isKeyField())C.push(ll(f,_.key));else{var O=_.data.field(I.field);if($y(O))throw new ve(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){var N=I.field.canonicalString();throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+N+"' (used as the orderBy) does not exist.")}C.push(O)}}return new hl(C,b)}(i._query,i.firestore._databaseId,e,t[0]._document,o);var s=bi(i.firestore);return function(c,f,m,_,b,C){var D=c.explicitOrderBy;if(b.length>D.length)throw new ve(oe.INVALID_ARGUMENT,"Too many arguments provided to "+_+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var S=[],I=0;I<b.length;I++){var O=b[I];if(D[I].field.isKeyField()){if("string"!=typeof O)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+_+"(), but got a "+typeof O);if(!ep(c)&&-1!==O.indexOf("/"))throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+_+"() must be a plain document ID, but '"+O+"' contains a slash.");var N=c.path.child(wt.fromString(O));if(!Ue.isDocumentKey(N))throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+_+"() must result in a valid document path, but '"+N+"' is not because it contains an odd number of segments.");var G=new Ue(N);S.push(ll(f,G))}else{var te=zE(m,_,O);S.push(te)}}return new hl(S,C)}(i._query,i.firestore._databaseId,s,e,t,o)}function JE(i,e,t){if("string"==typeof(t=(0,ut.m9)(t))){if(""===t)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ep(e)&&-1!==t.indexOf("/"))throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var o=e.path.child(wt.fromString(t));if(!Ue.isDocumentKey(o))throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return ll(i,new Ue(o))}if(t instanceof Xt)return ll(i,t._key);throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kp(t)+".")}function XE(i,e){if(!Array.isArray(i)||0===i.length)throw new ve(oe.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(i.length>10)throw new ve(oe.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function bM(i,e,t){if(!t.isEqual(e))throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+t.toString()+"' instead.")}var ih=function(){function i(){}return i.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pe()}},i.prototype.convertObject=function(e,t){var o=this,s={};return As(e.fields,function(c,f){s[c]=o.convertValue(f,t)}),s},i.prototype.convertGeoPoint=function(e){return new Lp(An(e.latitude),An(e.longitude))},i.prototype.convertArray=function(e,t){var o=this;return(e.values||[]).map(function(s){return o.convertValue(s,t)})},i.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var o=Zy(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(al(e));default:return null}},i.prototype.convertTimestamp=function(e){var t=Is(e);return new Ur(t.seconds,t.nanos)},i.prototype.convertDocumentKey=function(e,t){var o=wt.fromString(e);Je(A_(o));var s=new Pp(o.get(1),o.get(3)),c=new Ue(o.popFirst(5));return s.isEqual(t)||Sn("Document "+c+" contains a document reference within a different database ("+s.projectId+"/"+s.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),c},i}();function Hl(i,e,t){return i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e}var eD=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,M.ZT)(e,i),e.prototype.convertBytes=function(t){return new Bs(t)},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new Xt(this.firestore,null,o)},e}(ih),vv=function(){function i(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bi(e)}return i.prototype.set=function(e,t,o){this._verifyNotCommitted();var s=Co(e,this._firestore),c=Hl(s.converter,t,o),f=fv(this._dataReader,"WriteBatch.set",s._key,c,null!==s.converter,o);return this._mutations.push(f.toMutation(s._key,yr.none())),this},i.prototype.update=function(e,t,o){for(var s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];this._verifyNotCommitted();var f,m=Co(e,this._firestore);return f="string"==typeof(t=(0,ut.m9)(t))||t instanceof qi?Bp(this._dataReader,"WriteBatch.update",m._key,t,o,s):Up(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(f.toMutation(m._key,yr.exists(!0))),this},i.prototype.delete=function(e){this._verifyNotCommitted();var t=Co(e,this._firestore);return this._mutations=this._mutations.concat(new yl(t._key,yr.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new ve(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function Co(i,e){if((i=(0,ut.m9)(i)).firestore!==e)throw new ve(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var tu=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,M.ZT)(e,i),e.prototype.convertBytes=function(t){return new Bs(t)},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new Xt(this.firestore,null,o)},e}(ih);function tD(i,e,t){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];i=It(i,Xt);var c=It(i.firestore,hn),f=bi(c);return oh(c,[("string"==typeof(e=(0,ut.m9)(e))||e instanceof qi?Bp(f,"updateDoc",i._key,e,t,o):Up(f,"updateDoc",i._key,e)).toMutation(i._key,yr.exists(!0))])}function nD(i){for(var e,t,o,s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];i=(0,ut.m9)(i);var f={includeMetadataChanges:!1},m=0;"object"!=typeof s[m]||Vl(s[m])||(f=s[m],m++);var _,b,C,D={includeMetadataChanges:f.includeMetadataChanges};if(Vl(s[m])){var S=s[m];s[m]=null===(e=S.next)||void 0===e?void 0:e.bind(S),s[m+1]=null===(t=S.error)||void 0===t?void 0:t.bind(S),s[m+2]=null===(o=S.complete)||void 0===o?void 0:o.bind(S)}if(i instanceof Xt)b=It(i.firestore,hn),C=fl(i._key.path),_={next:function(N){s[m]&&s[m](Hp(b,i,N))},error:s[m+1],complete:s[m+2]};else{var I=It(i,qr);b=It(I.firestore,hn),C=I._query;var O=new tu(b);_={next:function(N){s[m]&&s[m](new is(b,O,I,N))},error:s[m+1],complete:s[m+2]},KE(i._query)}return function(N,G,te,fe){var ye=this,De=new Op(fe),Se=new bE(G,De,te);return N.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(ye,void 0,void 0,function(){var We;return(0,M.Jh)(this,function(Ct){switch(Ct.label){case 0:return We=Yd,[4,Nl(N)];case 1:return[2,We.apply(void 0,[Ct.sent(),Se])]}})})}),function(){De.Wo(),N.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(ye,void 0,void 0,function(){var We;return(0,M.Jh)(this,function(Ct){switch(Ct.label){case 0:return We=rs,[4,Nl(N)];case 1:return[2,We.apply(void 0,[Ct.sent(),Se])]}})})})}}(Ft(b),C,D,_)}function oh(i,e){return function(t,o){var s=this,c=new _r;return t.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(s,void 0,void 0,function(){var f;return(0,M.Jh)(this,function(m){switch(m.label){case 0:return f=tM,[4,ov(t)];case 1:return[2,f.apply(void 0,[m.sent(),o,c])]}})})}),c.promise}(Ft(i),e)}function Hp(i,e,t){var o=t.docs.get(e._key),s=new tu(i);return new wo(i,s,e._key,o,new Hs(t.hasPendingWrites,t.fromCache),e.converter)}var bv=function(i){function e(t,o){var s=this;return(s=i.call(this,t,o)||this)._firestore=t,s}return(0,M.ZT)(e,i),e.prototype.get=function(t){var o=this,s=Co(t,this._firestore),c=new tu(this._firestore);return i.prototype.get.call(this,t).then(function(f){return new wo(o._firestore,c,s._key,f._document,new Hs(!1,!1),s.converter)})},e}(function(){function i(e,t){this._firestore=e,this._transaction=t,this._dataReader=bi(e)}return i.prototype.get=function(e){var t=this,o=Co(e,this._firestore),s=new eD(this._firestore);return this._transaction.lookup([o._key]).then(function(c){if(!c||1!==c.length)return Pe();var f=c[0];if(f.isFoundDocument())return new Bl(t._firestore,s,f.key,f,o.converter);if(f.isNoDocument())return new Bl(t._firestore,s,o._key,null,o.converter);throw Pe()})},i.prototype.set=function(e,t,o){var s=Co(e,this._firestore),c=Hl(s.converter,t,o),f=fv(this._dataReader,"Transaction.set",s._key,c,null!==s.converter,o);return this._transaction.set(s._key,f),this},i.prototype.update=function(e,t,o){for(var s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var f,m=Co(e,this._firestore);return f="string"==typeof(t=(0,ut.m9)(t))||t instanceof qi?Bp(this._dataReader,"Transaction.update",m._key,t,o,s):Up(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,f),this},i.prototype.delete=function(e){var t=Co(e,this._firestore);return this._transaction.delete(t._key),this},i}());function wv(){if("undefined"==typeof Uint8Array)throw new ve(oe.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Cv(){if("undefined"==typeof atob)throw new ve(oe.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ev=function(){function i(e){this._delegate=e}return i.fromBase64String=function(e){return Cv(),new i(Bs.fromBase64String(e))},i.fromUint8Array=function(e){return wv(),new i(Bs.fromUint8Array(e))},i.prototype.toBase64=function(){return Cv(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return wv(),this._delegate.toUint8Array()},i.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),rD=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(e,t){return function(o,s){hv(o=It(o,hn));var c=Ft(o),f=o._freezeSettings(),m=new tv;return UE(c,m,new Rp(m,f.cacheSizeBytes,null==s?void 0:s.forceOwnership))}(e._delegate,{forceOwnership:t})},i.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(t){hv(t=It(t,hn));var o=Ft(t),s=t._freezeSettings(),c=new tv;return UE(o,c,new iM(c,s.cacheSizeBytes))}(e._delegate)},i.prototype.clearIndexedDbPersistence=function(e){return function(t){var o=this;if(t._initialized&&!t._terminated)throw new ve(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var s=new _r;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,M.mG)(o,void 0,void 0,function(){var c;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,function(m){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(b){switch(b.label){case 0:return Ud.yt()?[4,Ud.delete(m+"main")]:[2,Promise.resolve()];case 1:return b.sent(),[2]}})})}(F_(t._databaseId,t._persistenceKey))];case 1:return f.sent(),s.resolve(),[3,3];case 2:return c=f.sent(),s.reject(c),[3,3];case 3:return[2]}})})}),s.promise}(e._delegate)},i}(),iD=function(){function i(e,t,o){var s=this;this._delegate=t,this.Zc=o,this.INTERNAL={delete:function(){return s.terminate()}},e instanceof Pp||(this.tu=e)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ed("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},i.prototype.useEmulator=function(e,t,o){void 0===o&&(o={}),function(s,c,f,m){var _;void 0===m&&(m={});var b=(s=It(s,Ja))._getSettings();if("firestore.googleapis.com"!==b.host&&b.host!==c&&Ed("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},b),{host:c+":"+f,ssl:!1})),m.mockUserToken){var C,D;if("string"==typeof m.mockUserToken)C=m.mockUserToken,D=Hn.MOCK_USER;else{C=(0,ut.Sg)(m.mockUserToken,null===(_=s._app)||void 0===_?void 0:_.options.projectId);var S=m.mockUserToken.sub||m.mockUserToken.user_id;if(!S)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new Hn(S)}s._credentials=new ux(new sv(C,D))}}(this._delegate,e,t,o)},i.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,M.mG)(t,void 0,void 0,function(){var o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return[4,uM(e)];case 1:return o=c.sent(),[4,RE(e)];case 2:return s=c.sent(),[2,(o.setNetworkEnabled(!0),f=s,m=Te(f),m.Or.delete(0),$d(m))]}var f,m})})})}(Ft(It(this._delegate,hn)))},i.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,M.mG)(t,void 0,void 0,function(){var o,s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return[4,uM(e)];case 1:return o=c.sent(),[4,RE(e)];case 2:return s=c.sent(),[2,(o.setNetworkEnabled(!1),function(f){return(0,M.mG)(this,void 0,void 0,function(){var m;return(0,M.Jh)(this,function(_){switch(_.label){case 0:return(m=Te(f)).Or.add(0),[4,Ml(m)];case 1:return _.sent(),m.Br.set("Offline"),[2]}})})}(s))]}})})})}(Ft(It(this._delegate,hn)))},i.prototype.enablePersistence=function(e){var t=!1,o=!1;return e&&FE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",o=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(e){var t=this,o=new _r;return e.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(t,void 0,void 0,function(){var s;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return s=kl,[4,ov(e)];case 1:return[2,s.apply(void 0,[c.sent(),o])]}})})}),o.promise}(Ft(It(this._delegate,hn)))},i.prototype.onSnapshotsInSync=function(e){return o=e,function(s,c){var f=this,m=new Op(c);return s.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(f,void 0,void 0,function(){var _;return(0,M.Jh)(this,function(b){switch(b.label){case 0:return _=function(C,D){Te(C).Gr.add(D),D.next()},[4,Nl(s)];case 1:return[2,_.apply(void 0,[b.sent(),m])]}})})}),function(){m.Wo(),s.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(f,void 0,void 0,function(){var _;return(0,M.Jh)(this,function(b){switch(b.label){case 0:return _=function(C,D){Te(C).Gr.delete(D)},[4,Nl(s)];case 1:return[2,_.apply(void 0,[b.sent(),m])]}})})})}}(Ft(It(this._delegate,hn)),Vl(o)?o:{next:o});var o},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(e){try{return new qp(this,LE(this._delegate,e))}catch(t){throw Pt(t,"collection()","Firestore.collection()")}},i.prototype.doc=function(e){try{return new Gl(this,Fp(this._delegate,e))}catch(t){throw Pt(t,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(e){try{return new os(this,function(t,o){if(t=It(t,Ja),av("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new ve(oe.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qr(t,null,(s=o,new mo(wt.emptyPath(),s)));var s}(this._delegate,e))}catch(t){throw Pt(t,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(e){var o,t=this;return function(c,f){var m=this,_=new _r;return c.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(m,void 0,void 0,function(){var b;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return[4,(D=c,xp(D).then(function(S){return S.datastore}))];case 1:return b=C.sent(),new nv(c.asyncQueue,b,f,_).run(),[2]}var D})})}),_.promise}(Ft(o=this._delegate),function(c){return function(o){return e(new sD(t,o))}(new bv(o,c))})},i.prototype.batch=function(){var e=this;return Ft(this._delegate),new Dv(new vv(this._delegate,function(t){return oh(e._delegate,t)}))},i.prototype.loadBundle=function(e){throw new ve(oe.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(e){throw new ve(oe.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),sh=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,M.ZT)(e,i),e.prototype.convertBytes=function(t){return new Ev(new Bs(t))},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return Gl.eu(o,this.firestore,null)},e}(ih),sD=function(){function i(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sh(e)}return i.prototype.get=function(e){var t=this,o=Gs(e);return this._delegate.get(o).then(function(s){return new uh(t._firestore,new wo(t._firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,o.converter))})},i.prototype.set=function(e,t,o){var s=Gs(e);return o?(uv("Transaction.set",o),this._delegate.set(s,t,o)):this._delegate.set(s,t),this},i.prototype.update=function(e,t,o){for(var s,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var m=Gs(e);return 2===arguments.length?this._delegate.update(m,t):(s=this._delegate).update.apply(s,(0,M.ev)([m,t,o],c)),this},i.prototype.delete=function(e){var t=Gs(e);return this._delegate.delete(t),this},i}(),Dv=function(){function i(e){this._delegate=e}return i.prototype.set=function(e,t,o){var s=Gs(e);return o?(uv("WriteBatch.set",o),this._delegate.set(s,t,o)):this._delegate.set(s,t),this},i.prototype.update=function(e,t,o){for(var s,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var m=Gs(e);return 2===arguments.length?this._delegate.update(m,t):(s=this._delegate).update.apply(s,(0,M.ev)([m,t,o],c)),this},i.prototype.delete=function(e){var t=Gs(e);return this._delegate.delete(t),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),ah=function(){function i(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}return i.prototype.fromFirestore=function(e,t){var o=new th(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Gp(this._firestore,o),null!=t?t:{})},i.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},i.nu=function(e,t){var o=i.su,s=o.get(e);s||(s=new WeakMap,o.set(e,s));var c=s.get(t);return c||(c=new i(e,new sh(e),t),s.set(t,c)),c},i}();ah.su=new WeakMap;var Gl=function(){function i(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sh(e)}return i.iu=function(e,t,o){if(e.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new i(t,new Xt(t._delegate,o,new Ue(e)))},i.eu=function(e,t,o){return new i(t,new Xt(t._delegate,o,e))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new qp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(e){try{return new qp(this.firestore,LE(this._delegate,e))}catch(t){throw Pt(t,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(e){return(e=(0,ut.m9)(e))instanceof Xt&&VE(this._delegate,e)},i.prototype.set=function(e,t){t=uv("DocumentReference.set",t);try{return function(o,s,c){o=It(o,Xt);var f=It(o.firestore,hn),m=Hl(o.converter,s,c);return oh(f,[fv(bi(f),"setDoc",o._key,m,null!==o.converter,c).toMutation(o._key,yr.none())])}(this._delegate,e,t)}catch(o){throw Pt(o,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(e,t){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];try{return 1===arguments.length?tD(this._delegate,e):tD.apply(void 0,(0,M.ev)([this._delegate,e,t],o))}catch(c){throw Pt(c,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return oh(It((e=this._delegate).firestore,hn),[new yl(e._key,yr.none())]);var e},i.prototype.onSnapshot=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var s=nu(t),c=aD(t,function(f){return new uh(e.firestore,new wo(e.firestore._delegate,e._userDataWriter,f._key,f._document,f.metadata,e._delegate.converter))});return nD(this._delegate,s,c)},i.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(o){o=It(o,Xt);var s=It(o.firestore,hn),c=Ft(s),f=new tu(s);return function(m,_){var b=this,C=new _r;return m.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(b,void 0,void 0,function(){var D;return(0,M.Jh)(this,function(S){switch(S.label){case 0:return D=function(I,O,N){return(0,M.mG)(this,void 0,void 0,function(){var G,te;return(0,M.Jh)(this,function(fe){switch(fe.label){case 0:return fe.trys.push([0,2,,3]),[4,(ye=I,De=O,Se=Te(ye),Se.persistence.runTransaction("read document","readonly",function(We){return Se.Mn.mn(We,De)}))];case 1:return(te=fe.sent()).isFoundDocument()?N.resolve(te):te.isNoDocument()?N.resolve(null):N.reject(new ve(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return G=fe.sent(),te=Xr(G,"Failed to get document '"+O+" from cache"),N.reject(te),[3,3];case 3:return[2]}var ye,De,Se})})},[4,iv(m)];case 1:return[2,D.apply(void 0,[S.sent(),_,C])]}})})}),C.promise}(c,o._key).then(function(m){return new wo(s,f,o._key,m,new Hs(null!==m&&m.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(o){o=It(o,Xt);var s=It(o.firestore,hn);return OE(Ft(s),o._key,{source:"server"}).then(function(c){return Hp(s,o,c)})}(this._delegate):function(o){o=It(o,Xt);var s=It(o.firestore,hn);return OE(Ft(s),o._key).then(function(c){return Hp(s,o,c)})}(this._delegate)).then(function(o){return new uh(t.firestore,new wo(t.firestore._delegate,t._userDataWriter,o._key,o._document,o.metadata,t._delegate.converter))})},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?ah.nu(this.firestore,e):null))},i}();function Pt(i,e,t){return i.message=i.message.replace(e,t),i}function nu(i){for(var e=0,t=i;e<t.length;e++){var o=t[e];if("object"==typeof o&&!Vl(o))return o}return{}}function aD(i,e){var t,o,s;return{next:function(c){s.next&&s.next(e(c))},error:null===(t=(s=Vl(i[0])?i[0]:Vl(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===t?void 0:t.bind(s),complete:null===(o=s.complete)||void 0===o?void 0:o.bind(s)}}var uh=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"ref",{get:function(){return new Gl(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(e){return this._delegate.data(e)},i.prototype.get=function(e,t){return this._delegate.get(e,t)},i.prototype.isEqual=function(e){return WE(this._delegate,e._delegate)},i}(),Gp=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.data=function(t){return this._delegate.data(t)},e}(uh),os=function(){function i(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sh(e)}return i.prototype.where=function(e,t,o){try{return new i(this.firestore,wi(this._delegate,(f=o,m=t,_=eh("where",s=e),new rh(_,m,f))))}catch(s){throw Pt(s,/(orderBy|where)\(\)/,"Query.$1()")}var s,f,m,_},i.prototype.orderBy=function(e,t){try{return new i(this.firestore,wi(this._delegate,function(o,s){void 0===s&&(s="asc");var c=s,f=eh("orderBy",o);return new vM(f,c)}(e,t)))}catch(o){throw Pt(o,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(e){try{return new i(this.firestore,wi(this._delegate,(dM("limit",t=e),new jp("limit",t,"F"))))}catch(t){throw Pt(t,"limit()","Query.limit()")}var t},i.prototype.limitToLast=function(e){try{return new i(this.firestore,wi(this._delegate,(dM("limitToLast",t=e),new jp("limitToLast",t,"L"))))}catch(t){throw Pt(t,"limitToLast()","Query.limitToLast()")}var t},i.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,wi(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new zi("startAt",o,!0)}.apply(void 0,e)))}catch(o){throw Pt(o,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,wi(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new zi("startAfter",o,!1)}.apply(void 0,e)))}catch(o){throw Pt(o,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,wi(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new QE("endBefore",o,!0)}.apply(void 0,e)))}catch(o){throw Pt(o,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,wi(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new QE("endAt",o,!1)}.apply(void 0,e)))}catch(o){throw Pt(o,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(e){return cv(this._delegate,e._delegate)},i.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(o){o=It(o,qr);var s=It(o.firestore,hn),c=Ft(s),f=new tu(s);return function(m,_){var b=this,C=new _r;return m.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(b,void 0,void 0,function(){var D;return(0,M.Jh)(this,function(S){switch(S.label){case 0:return D=function(I,O,N){return(0,M.mG)(this,void 0,void 0,function(){var G,te,fe,ye,De;return(0,M.Jh)(this,function(Se){switch(Se.label){case 0:return Se.trys.push([0,2,,3]),[4,bp(I,O,!0)];case 1:return De=Se.sent(),G=new CE(O,De.Bn),te=G._o(De.documents),fe=G.applyChanges(te,!1),N.resolve(fe.snapshot),[3,3];case 2:return ye=Se.sent(),De=Xr(ye,"Failed to execute query '"+O+" against cache"),N.reject(De),[3,3];case 3:return[2]}})})},[4,iv(m)];case 1:return[2,D.apply(void 0,[S.sent(),_,C])]}})})}),C.promise}(c,o._query).then(function(m){return new is(s,f,o,m)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(o){o=It(o,qr);var s=It(o.firestore,hn),c=Ft(s),f=new tu(s);return xE(c,o._query,{source:"server"}).then(function(m){return new is(s,f,o,m)})}(this._delegate):function(o){o=It(o,qr);var s=It(o.firestore,hn),c=Ft(s),f=new tu(s);return KE(o._query),xE(c,o._query).then(function(m){return new is(s,f,o,m)})}(this._delegate)).then(function(o){return new lh(t.firestore,new is(t.firestore._delegate,t._userDataWriter,t._delegate,o._snapshot))})},i.prototype.onSnapshot=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var s=nu(t),c=aD(t,function(f){return new lh(e.firestore,new is(e.firestore._delegate,e._userDataWriter,e._delegate,f._snapshot))});return nD(this._delegate,s,c)},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?ah.nu(this.firestore,e):null))},i}(),wM=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new Gp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),lh=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"query",{get:function(){return new os(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new Gp(e._firestore,t)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(o){return new wM(t._firestore,o)})},i.prototype.forEach=function(e,t){var o=this;this._delegate.forEach(function(s){e.call(t,new Gp(o._firestore,s))})},i.prototype.isEqual=function(e){return WE(this._delegate,e._delegate)},i}(),qp=function(i){function e(t,o){var s=this;return(s=i.call(this,t,o)||this).firestore=t,s._delegate=o,s}return(0,M.ZT)(e,i),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Gl(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Gl(this.firestore,void 0===t?Fp(this._delegate):Fp(this._delegate,t))}catch(o){throw Pt(o,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var s,c,f,m,_,o=this;return(s=this._delegate,c=t,f=It(s.firestore,hn),m=Fp(s),_=Hl(s.converter,c),oh(f,[fv(bi(s.firestore),"addDoc",m._key,_,null!==s.converter,{}).toMutation(m._key,yr.exists(!1))]).then(function(){return m})).then(function(s){return new Gl(o.firestore,s)})},e.prototype.isEqual=function(t){return VE(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?ah.nu(this.firestore,t):null))},e}(os);function Gs(i){return It(i,Xt)}var CM=function(){function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(qi.bind.apply(qi,(0,M.ev)([void 0],e)))}return i.documentId=function(){return new i(ci.keyField().canonicalString())},i.prototype.isEqual=function(e){return(e=(0,ut.m9)(e))instanceof qi&&this._delegate._internalPath.isEqual(e._internalPath)},i}(),EM=function(){function i(e){this._delegate=e}return i.serverTimestamp=function(){var e=new lx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new i(e)},i.delete=function(){var e=new Vp("deleteField");return e._methodName="FieldValue.delete",new i(e)},i.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new qE("arrayUnion",s)}.apply(void 0,e);return o._methodName="FieldValue.arrayUnion",new i(o)},i.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new mM("arrayRemove",s)}.apply(void 0,e);return o._methodName="FieldValue.arrayRemove",new i(o)},i.increment=function(e){var t=new pv("increment",e);return t._methodName="FieldValue.increment",new i(t)},i.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},i}(),Tv=P(6034),zp={Firestore:iD,GeoPoint:Lp,Timestamp:Ur,Blob:Ev,Transaction:sD,WriteBatch:Dv,DocumentReference:Gl,DocumentSnapshot:uh,Query:os,QueryDocumentSnapshot:Gp,QuerySnapshot:lh,CollectionReference:qp,FieldPath:CM,FieldValue:EM,setLogLevel:function(i){go.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){i.INTERNAL.registerComponent(new Tv.wA("firestore",function(o){return e=o.getProvider("app").getImmediate(),t=o.getProvider("auth-internal"),new iD(e,new hn(e,t),new rD);var e,t},"PUBLIC").setServiceProps(Object.assign({},zp))),i.registerVersion("@firebase/firestore","2.4.0")}(Li.Z);var ql=P(6682);P(9673);const Zp=new d.OlP("angularfire2.auth.use-emulator");function Mv(i,e){return function(i,e=Xc.z){return new Dn.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function Rv(i,e){return Mv(i,e).pipe((0,He.U)(t=>({payload:t,type:"query"})))}function Kp(i,e){return Rv(i,e).pipe(ro(void 0),Qe(),(0,He.U)(([t,o])=>{const s=o.payload.docChanges(),c=s.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((f,m)=>{const _=s.find(C=>C.doc.ref.isEqual(f.ref)),b=null==t?void 0:t.payload.docs.find(C=>C.ref.isEqual(f.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(f.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),c}))}function Ov(i,e,t){return Kp(i,t).pipe(Au((o,s)=>function(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Qp(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Qp(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Qp(i,e.oldIndex,1)}return i}(i,o))}),i}(o,s.map(c=>c.payload),e),[]),function(i,e){return t=>t.lift(new Ni(i,e))}(),(0,He.U)(o=>o.map(s=>({type:s.type,payload:s}))))}function Qp(i,e,t,...o){const s=i.slice();return s.splice(e,t,...o),s}function xv(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Pv{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Kp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,He.U)(o=>o.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(ro(void 0),Qe(),Pr(([o,s])=>s.length>0||!o),(0,He.U)(([o,s])=>s),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(Au((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=xv(e);return Ov(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Rv(this.query,this.afs.schedulers.outsideAngular).pipe((0,He.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Ut.D)(this.query.get(e)).pipe((0,ho.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new gD(this.ref.doc(e),this.afs)}}class gD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:s,query:c}=xM(o,t);return new Pv(s,c,this.afs)}snapshotChanges(){return function(i,e){return Mv(i,e).pipe(ro(void 0),Qe(),(0,He.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,He.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ut.D)(this.ref.get(e)).pipe((0,ho.QV)(this.afs.schedulers.insideAngular))}}class MM{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Kp(this.query,this.afs.schedulers.outsideAngular).pipe((0,He.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),Pr(t=>t.length>0),this.afs.keepUnstableUntilFirst):Kp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(Au((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=xv(e);return Ov(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Rv(this.query,this.afs.schedulers.outsideAngular).pipe((0,He.U)(o=>o.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Ut.D)(this.query.get(e)).pipe((0,ho.QV)(this.afs.schedulers.insideAngular))}}const kv=new d.OlP("angularfire2.enableFirestorePersistence"),Jp=new d.OlP("angularfire2.firestore.persistenceSettings"),RM=new d.OlP("angularfire2.firestore.settings"),OM=new d.OlP("angularfire2.firestore.use-emulator");function xM(i,e=(t=>t)){return{query:e(i),ref:i}}let ch=(()=>{class i{constructor(t,o,s,c,f,m,_,b,C){this.schedulers=new kt.HU(m),this.keepUnstableUntilFirst=(0,kt.ss)(this.schedulers);const D=(0,kt.on)(t,m,o);!$m.Z.auth&&C&&(0,kt.yq)();const S=b;[this.firestore,this.persistenceEnabled$]=(0,kt.sI)(`${D.name}.firestore`,"AngularFirestore",D,()=>{const I=m.runOutsideAngular(()=>D.firestore());if(c&&I.settings(c),S&&I.useEmulator(...S),s&&!function(i){return"server"===i}(f)){const O=()=>{try{return(0,Ut.D)(I.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(N){return"undefined"!=typeof console&&console.warn(N),(0,Ve.of)(!1)}};return[I,m.runOutsideAngular(O)]}return[I,(0,Ve.of)(!1)]},[c,S,s])}collection(t,o){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:f}=xM(s,o),m=this.schedulers.ngZone.run(()=>c);return new Pv(m,f,this)}collectionGroup(t,o){const s=o||(f=>f),c=this.firestore.collectionGroup(t);return new MM(s(c),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>o);return new gD(s,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(kt.Dh),d.LFG(kt.xv,8),d.LFG(kv,8),d.LFG(RM,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Jp,8),d.LFG(OM,8),d.LFG(Zp,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(kt.Dh),d.LFG(kt.xv,8),d.LFG(kv,8),d.LFG(RM,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Jp,8),d.LFG(OM,8),d.LFG(Zp,8))},token:i,providedIn:"any"}),i})(),cx=(()=>{class i{static enablePersistence(t){return{ngModule:i,providers:[{provide:kv,useValue:!0},{provide:Jp,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[ch]}),i})(),PM=(()=>{class i{constructor(t){this.elRef=t,this.loaded=new d.vpe,this.elRef.nativeElement.complete&&this.loaded.emit()}onLoad(){this.loaded.emit()}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i,selectors:[["img","loaded",""]],hostBindings:function(t,o){1&t&&d.NdJ("load",function(){return o.onLoad()})},outputs:{loaded:"loaded"}}),i})(),Fv=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-spinner"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(t,o){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"div"),d._UZ(2,"div"),d._UZ(3,"div"),d._UZ(4,"div"),d.qZA())},styles:[".lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #a9a9a9;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#a9a9a9 transparent transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),i})();function dx(i,e){1&i&&(d.TgZ(0,"div",9),d._UZ(1,"app-spinner"),d.qZA())}const hx=function(i){return{"is-hidden":i}};let fx=(()=>{class i{constructor(){this.albumData={name:"",coverImageURL:"",creationDate:""},this.isImageLoaded=!1}ngOnInit(){console.log(this.albumData)}removeSpinner(){this.isImageLoaded=!0}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-album-card"]],inputs:{albumData:"albumData"},decls:17,vars:10,consts:[[1,"card"],[1,"card-image"],[1,"image","is-4by3",3,"ngClass"],[3,"routerLink"],["alt","Placeholder image",3,"src","loaded"],["class","container has-text-centered",4,"ngIf"],[1,"card-content"],[1,"columns","is-vcentered"],[1,"column","is-two-thirds"],[1,"container","has-text-centered"]],template:function(t,o){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"figure",2),d.TgZ(3,"a",3),d.TgZ(4,"img",4),d.NdJ("loaded",function(){return o.removeSpinner()}),d.qZA(),d.qZA(),d.qZA(),d.YNc(5,dx,2,0,"div",5),d.qZA(),d.TgZ(6,"div",6),d.TgZ(7,"div",7),d.TgZ(8,"div",8),d.TgZ(9,"strong"),d._uU(10,"Album: "),d.qZA(),d._uU(11),d._UZ(12,"br"),d.TgZ(13,"strong"),d._uU(14,"Creation Date: "),d.qZA(),d._uU(15),d.ALo(16,"date"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.Q6J("ngClass",d.VKq(8,hx,!o.isImageLoaded)),d.xp6(1),d.MGl("routerLink","/album/",o.albumData.name,""),d.xp6(1),d.s9C("src",o.albumData.coverImageURL,d.LSH),d.xp6(1),d.Q6J("ngIf",!o.isImageLoaded),d.xp6(6),d.hij("",o.albumData.name," "),d.xp6(4),d.hij("",d.lcZ(16,6,o.albumData.creationDate)," "))},directives:[Oo,Gu,PM,ur,Fv],pipes:[Hb],styles:[".is-hidden[_ngcontent-%COMP%]{display:none}"]}),i})();var px=P(1555);function Nv(i,e){return new Dn.y(t=>{const o=i.length;if(0===o)return void t.complete();const s=new Array(o);let c=0,f=0;for(let m=0;m<o;m++){const _=(0,Ut.D)(i[m]);let b=!1;t.add(_.subscribe({next:C=>{b||(b=!0,f++),s[m]=C},error:C=>t.error(C),complete:()=>{c++,(c===o||!b)&&(f===o&&t.next(e?e.reduce((C,D,S)=>(C[D]=s[S],C),{}):s),t.complete())}}))}})}let kM=(()=>{class i{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.Qsj),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i}),i})(),$l=(()=>{class i extends kM{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();const Eo=new d.OlP("NgValueAccessor"),FM={provide:Eo,useExisting:(0,d.Gpc)(()=>Lv),multi:!0},yx=new d.OlP("CompositionEventMode");let Lv=(()=>{class i extends kM{constructor(t,o,s){super(t,o),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=he()?he().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(yx,8))},i.\u0275dir=d.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&d.NdJ("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[d._Bn([FM]),d.qOj]}),i})();const br=new d.OlP("NgValidators"),qs=new d.OlP("NgAsyncValidators");function bD(i){return null!=i}function eg(i){const e=(0,d.QGY)(i)?(0,Ut.D)(i):i;return(0,d.CqO)(e),e}function Uv(i){let e={};return i.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Bv(i,e){return e.map(t=>t(i))}function BM(i){return i.map(e=>function(i){return!i.validate}(e)?e:t=>e.validate(t))}function Zl(i){return null!=i?function(i){if(!i)return null;const e=i.filter(bD);return 0==e.length?null:function(t){return Uv(Bv(t,e))}}(BM(i)):null}function CD(i){return null!=i?function(i){if(!i)return null;const e=i.filter(bD);return 0==e.length?null:function(t){return function(...i){if(1===i.length){const e=i[0];if((0,ra.k)(e))return Nv(e,null);if((0,px.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Nv(t.map(o=>e[o]),t)}}if("function"==typeof i[i.length-1]){const e=i.pop();return Nv(i=1===i.length&&(0,ra.k)(i[0])?i[0]:i,null).pipe((0,He.U)(t=>e(...t)))}return Nv(i,null)}(Bv(t,e).map(eg)).pipe((0,He.U)(Uv))}}(BM(i)):null}function jM(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function HM(i){return i._rawValidators}function ED(i){return i._rawAsyncValidators}function DD(i){return i?Array.isArray(i)?i:[i]:[]}function ou(i,e){return Array.isArray(i)?i.includes(e):i===e}function TD(i,e){const t=DD(e);return DD(i).forEach(s=>{ou(t,s)||t.push(s)}),t}function GM(i,e){return DD(e).filter(t=>!ou(i,t))}let qM=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Zl(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=CD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,o){return!!this.control&&this.control.hasError(t,o)}getError(t,o){return this.control?this.control.getError(t,o):null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=d.lG2({type:i}),i})(),rr=(()=>{class i extends qM{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();class ss extends qM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zM{constructor(e){this._cd=e}is(e){var t,o,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===s?void 0:s[e])}}let $M=(()=>{class i extends zM{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(ss,2))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[d.qOj]}),i})(),Gv=(()=>{class i extends zM{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(rr,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[d.qOj]}),i})();function hh(i,e){ng(i,e),e.valueAccessor.writeValue(i.value),function(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&RD(i,e)})}(i,e),function(i,e){const t=(o,s)=>{e.valueAccessor.writeValue(o),s&&e.viewToModelUpdate(o)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&RD(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function(i,e){if(e.valueAccessor.setDisabledState){const t=o=>{e.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function tg(i,e,t=!0){const o=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(o),e.valueAccessor.registerOnTouched(o)),rg(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Wl(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ng(i,e){const t=HM(i);null!==e.validator?i.setValidators(jM(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const o=ED(i);null!==e.asyncValidator?i.setAsyncValidators(jM(o,e.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const s=()=>i.updateValueAndValidity();Wl(e._rawValidators,s),Wl(e._rawAsyncValidators,s)}function rg(i,e){let t=!1;if(null!==i){if(null!==e.validator){const s=HM(i);if(Array.isArray(s)&&s.length>0){const c=s.filter(f=>f!==e.validator);c.length!==s.length&&(t=!0,i.setValidators(c))}}if(null!==e.asyncValidator){const s=ED(i);if(Array.isArray(s)&&s.length>0){const c=s.filter(f=>f!==e.asyncValidator);c.length!==s.length&&(t=!0,i.setAsyncValidators(c))}}}const o=()=>{};return Wl(e._rawValidators,o),Wl(e._rawAsyncValidators,o),t}function RD(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function ig(i,e){ng(i,e)}function xD(i,e){i._syncPendingControls(),e.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function og(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const fh="VALID",sg="INVALID",Kl="PENDING",ag="DISABLED";function ug(i){return(Qv(i)?i.validators:i)||null}function kD(i){return Array.isArray(i)?Zl(i):i||null}function Wv(i,e){return(Qv(e)?e.asyncValidators:i)||null}function Kv(i){return Array.isArray(i)?CD(i):i||null}function Qv(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class FD{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=kD(this._rawValidators),this._composedAsyncValidatorFn=Kv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fh}get invalid(){return this.status===sg}get pending(){return this.status==Kl}get disabled(){return this.status===ag}get enabled(){return this.status!==ag}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=kD(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Kv(e)}addValidators(e){this.setValidators(TD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GM(e,this._rawAsyncValidators))}hasValidator(e){return ou(this._rawValidators,e)}hasAsyncValidator(e){return ou(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Kl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ag,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fh,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fh||this.status===Kl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ag:fh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Kl,this._hasOwnPendingAsyncValidator=!0;const t=eg(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(i,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let o=i;return e.forEach(s=>{o=o instanceof lg?o.controls.hasOwnProperty(s)?o.controls[s]:null:o instanceof QM&&o.at(s)||null}),o}(this,e)}getError(e,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?ag:this.errors?sg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kl)?Kl:this._anyControlsHaveStatus(sg)?sg:fh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ql extends FD{constructor(e=null,t,o){super(ug(t),Wv(o,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){og(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){og(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class lg extends FD{constructor(e,t,o){super(ug(t),Wv(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,o={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((o,s)=>{o.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,o)=>(e[o]=t instanceof Ql?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&e(o,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&e(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(e,t){let o=e;return this._forEachChild((s,c)=>{o=t(o,s,c)}),o}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class QM extends FD{constructor(e,t,o){super(ug(t),Wv(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,o={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((o,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((o,s)=>{this.at(s)&&this.at(s).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((o,s)=>{o.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ql?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,o)=>{e(t,o)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const JM={provide:rr,useExisting:(0,d.Gpc)(()=>Jl)},as=(()=>Promise.resolve(null))();let Jl=(()=>{class i extends rr{constructor(t,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new lg({},Zl(t),CD(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){as.then(()=>{const o=this._findContainer(t.path);t.control=o.registerControl(t.name,t.control),hh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){as.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name),og(this._directives,t)})}addFormGroup(t){as.then(()=>{const o=this._findContainer(t.path),s=new lg({});ig(s,t),o.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){as.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,o){as.then(()=>{this.form.get(t.path).setValue(o)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,xD(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(br,10),d.Y36(qs,10))},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){1&t&&d.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([JM]),d.qOj]}),i})(),UD=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),cg=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const tb=new d.OlP("NgModelWithFormControlWarning"),dg={provide:ss,useExisting:(0,d.Gpc)(()=>nb)};let nb=(()=>{class i extends ss{constructor(t,o,s,c){super(),this._ngModelWarningConfig=c,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=function(i,e){if(!e)return null;let t,o,s;return Array.isArray(e),e.forEach(c=>{c.constructor===Lv?t=c:function(i){return Object.getPrototypeOf(i.constructor)===$l}(c)?o=c:s=c}),s||o||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const o=t.form.previousValue;o&&tg(o,this,!1),hh(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&tg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(br,10),d.Y36(qs,10),d.Y36(Eo,10),d.Y36(tb,8))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([dg]),d.qOj,d.TTD]}),i._ngModelWarningSentOnce=!1,i})();const nR={provide:rr,useExisting:(0,d.Gpc)(()=>ph)};let ph=(()=>{class i extends rr{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return hh(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){tg(t.control||null,t,!1),og(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,xD(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,s=this.form.get(t.path);o!==s&&(tg(o||null,t),s instanceof Ql&&(hh(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);ig(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function(i,e){return rg(i,e)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ng(this.form,this),this._oldForm&&rg(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(br,10),d.Y36(qs,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&d.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([nR]),d.qOj,d.TTD]}),i})(),JD=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[cg]]}),i})(),pR=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:tb,useValue:t.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[JD]}),i})(),XD=(()=>{class i{constructor(){this.dropped=new d.vpe,this.hovered=new d.vpe}onDrop(t){t.preventDefault(),this.dropped.emit(t.dataTransfer.files),this.hovered.emit(!1)}onDragOver(t){t.preventDefault(),this.hovered.emit(!0)}onDragLeave(t){t.preventDefault(),this.hovered.emit(!1)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","appDropzone",""]],hostBindings:function(t,o){1&t&&d.NdJ("drop",function(c){return o.onDrop(c)})("dragover",function(c){return o.onDragOver(c)})("dragleave",function(c){return o.onDragLeave(c)})},outputs:{dropped:"dropped",hovered:"hovered"}}),i})();function $n(i){return null!=i&&"false"!=`${i}`}function gR(i){return Array.isArray(i)?i:[i]}function Fn(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Zi(i){return i instanceof d.SBq?i.nativeElement:i}function ab(i,e=Xc.P){return t=>t.lift(new yR(i,e))}class yR{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new jx(e,this.dueTime,this.scheduler))}}class jx extends Nn.L{constructor(e,t,o){super(e),this.dueTime=t,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_R,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function _R(i){i.debouncedNext()}let FR,ub=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=d.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),eT=(()=>{class i{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,o)=>this._cleanupObserver(o))}observe(t){const o=Zi(t);return new Dn.y(s=>{const f=this._observeElement(o).subscribe(s);return()=>{f.unsubscribe(),this._unobserveElement(o)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const o=new pt.xQ,s=this._mutationObserverFactory.create(c=>o.next(c));s&&s.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:s,stream:o,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:o,stream:s}=this._observedElements.get(t);o&&o.disconnect(),s.complete(),this._observedElements.delete(t)}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(ub))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(ub))},token:i,providedIn:"root"}),i})(),Yi=(()=>{class i{constructor(t,o,s){this._contentObserver=t,this._elementRef=o,this._ngZone=s,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=$n(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(i,e=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(ab(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(eT),d.Y36(d.SBq),d.Y36(d.R0b))},i.\u0275dir=d.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),vR=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[ub]}),i})();function Cg(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function lu(i){return e=>e.lift(new ZN(i))}class ZN{constructor(e){this.notifier=e}call(e,t){const o=new YN(e),s=(0,cr.ft)(this.notifier,new cr.IY(o));return s&&!o.seenValue?(o.add(s),t.subscribe(o)):o}}class YN extends cr.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}try{FR="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){FR=!1}let Eg,Yt=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(i){return"browser"===i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!FR)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(d.Lbi))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(d.Lbi))},token:i,providedIn:"root"}),i})(),Cb=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const fP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function pP(){if(Eg)return Eg;if("object"!=typeof document||!document)return Eg=new Set(fP),Eg;let i=document.createElement("input");return Eg=new Set(fP.filter(e=>(i.setAttribute("type",e),i.type===e))),Eg}let Eb,wh;function pT(i){return function(){if(null==Eb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Eb=!0}))}finally{Eb=Eb||!1}return Eb}()?i:!!i.capture}function gP(){if(null==wh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return wh=!1,wh;if("scrollBehavior"in document.documentElement.style)wh=!0;else{const i=Element.prototype.scrollTo;wh=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return wh}function Ch(i){return i.composedPath?i.composedPath()[0]:i.target}class nL extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new pt.xQ,this._typeaheadSubscription=Ri.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new pt.xQ,this.change=new pt.xQ,e instanceof d.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const s=t.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,dr.b)(t=>this._pressedLetters.push(t)),ab(e),Pr(()=>this._pressedLetters.length>0),(0,He.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const o=this._getItemsArray();for(let s=1;s<o.length+1;s++){const c=(this._activeItemIndex+s)%o.length,f=o[c];if(!this._skipPredicateFn(f)&&0===f.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!e[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Cg(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),o="number"==typeof e?e:t.indexOf(e),s=t[o];this._activeItem=null==s?null:s,this._activeItemIndex=o}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let o=1;o<=t.length;o++){const s=(this._activeItemIndex+e*o+t.length)%t.length;if(!this._skipPredicateFn(t[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const o=this._getItemsArray();if(o[e]){for(;this._skipPredicateFn(o[e]);)if(!o[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof d.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;const MP="cdk-high-contrast-black-on-white",RP="cdk-high-contrast-white-on-black",LR="cdk-high-contrast-active";let OP=(()=>{class i{constructor(t,o){this._platform=t,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,s=o&&o.getComputedStyle?o.getComputedStyle(t):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(LR),t.remove(MP),t.remove(RP),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(t.add(LR),t.add(MP)):2===o&&(t.add(LR),t.add(RP))}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(Yt),d.LFG($))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Yt),d.LFG($))},token:i,providedIn:"root"}),i})();const xP=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,d.f3M)($)}});let Eh=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const s=t.documentElement?t.documentElement.dir:null,c=(t.body?t.body.dir:null)||s;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(xP,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(xP,8))},token:i,providedIn:"root"}),i})(),Tb=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const PP=new d.GfV("12.2.5");class kP{}const cu="*";function TL(i,e){return{type:7,name:i,definitions:e,options:{}}}function SL(i,e=null){return{type:4,styles:e,timings:i}}function FP(i,e=null){return{type:2,steps:i,options:e}}function yT(i){return{type:6,styles:i,offset:null}}function AL(i,e,t){return{type:0,name:i,styles:e,options:t}}function IL(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function NP(i){Promise.resolve(null).then(i)}class Tg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){NP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class LP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,s=0;const c=this.players.length;0==c?NP(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++t==c&&this._onFinish()}),f.onDestroy(()=>{++o==c&&this._onDestroy()}),f.onStart(()=>{++s==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(o=>{const s=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(s)})}getPosition(){const e=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function VP(){return"undefined"!=typeof window&&void 0!==window.document}function UR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ec(i){switch(i.length){case 0:return new Tg;case 1:return i[0];default:return new LP(i)}}function UP(i,e,t,o,s={},c={}){const f=[],m=[];let _=-1,b=null;if(o.forEach(C=>{const D=C.offset,S=D==_,I=S&&b||{};Object.keys(C).forEach(O=>{let N=O,G=C[O];if("offset"!==O)switch(N=e.normalizePropertyName(N,f),G){case"!":G=s[O];break;case cu:G=c[O];break;default:G=e.normalizeStyleValue(O,N,G,f)}I[N]=G}),S||m.push(I),b=I,_=D}),f.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${f.join(C)}`)}return m}function BR(i,e,t,o){switch(e){case"start":i.onStart(()=>o(t&&jR(t,"start",i)));break;case"done":i.onDone(()=>o(t&&jR(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&jR(t,"destroy",i)))}}function jR(i,e,t){const o=t.totalTime,c=HR(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==o?i.totalTime:o,!!t.disabled),f=i._data;return null!=f&&(c._data=f),c}function HR(i,e,t,o,s="",c=0,f){return{element:i,triggerName:e,fromState:t,toState:o,phaseName:s,totalTime:c,disabled:!!f}}function Ki(i,e,t){let o;return i instanceof Map?(o=i.get(e),o||i.set(e,o=t)):(o=i[e],o||(o=i[e]=t)),o}function BP(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let GR=(i,e)=>!1,qR=(i,e)=>!1,jP=(i,e,t)=>[];const HP=UR();(HP||"undefined"!=typeof Element)&&(GR=VP()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),qR=(()=>{if(HP||Element.prototype.matches)return(i,e)=>i.matches(e);{const i=Element.prototype,e=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return e?(t,o)=>e.apply(t,[o]):qR}})(),jP=(i,e,t)=>{let o=[];if(t){const s=i.querySelectorAll(e);for(let c=0;c<s.length;c++)o.push(s[c])}else{const s=i.querySelector(e);s&&o.push(s)}return o});let Dh=null,GP=!1;function zR(i){Dh||(Dh=("undefined"!=typeof document?document.body:null)||{},GP=!!Dh.style&&"WebkitAppearance"in Dh.style);let e=!0;return Dh.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in Dh.style,!e&&GP&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Dh.style)),e}const $R=qR,ZR=GR,YR=jP;function qP(i){const e={};return Object.keys(i).forEach(t=>{const o=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[o]=i[t]}),e}let zP=(()=>{class i{validateStyleProperty(t){return zR(t)}matchesElement(t,o){return $R(t,o)}containsElement(t,o){return ZR(t,o)}query(t,o,s){return YR(t,o,s)}computeStyle(t,o,s){return s||""}animate(t,o,s,c,f,m=[],_){return new Tg(s,c)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class _T{}_T.NOOP=new zP;const WR="ng-enter",vT="ng-leave",bT="ng-trigger",wT=".ng-trigger",ZP="ng-animating",KR=".ng-animating";function Th(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:QR(parseFloat(e[1]),e[2])}function QR(i,e){switch(e){case"s":return 1e3*i;default:return i}}function CT(i,e,t){return i.hasOwnProperty("duration")?i:function(i,e,t){let s,c=0,f="";if("string"==typeof i){const m=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};s=QR(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(c=QR(parseFloat(_),m[4]));const b=m[5];b&&(f=b)}else s=i;if(!t){let m=!1,_=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),c<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(_,0,`The provided timing value "${i}" is invalid.`)}return{duration:s,delay:c,easing:f}}(i,e,t)}function Sg(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function tc(i,e,t={}){if(e)for(let o in i)t[o]=i[o];else Sg(i,t);return t}function WP(i,e,t){return t?e+":"+t+";":""}function KP(i){let e="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);e+=WP(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=WP(0,NL(t),i.style[t]));i.setAttribute("style",e)}function Zs(i,e,t){i.style&&(Object.keys(e).forEach(o=>{const s=XR(o);t&&!t.hasOwnProperty(o)&&(t[o]=i.style[s]),i.style[s]=e[o]}),UR()&&KP(i))}function Sh(i,e){i.style&&(Object.keys(e).forEach(t=>{const o=XR(t);i.style[o]=""}),UR()&&KP(i))}function Sb(i){return Array.isArray(i)?1==i.length?i[0]:FP(i):i}const JR=new RegExp("{{\\s*(.+?)\\s*}}","g");function QP(i){let e=[];if("string"==typeof i){let t;for(;t=JR.exec(i);)e.push(t[1]);JR.lastIndex=0}return e}function ET(i,e,t){const o=i.toString(),s=o.replace(JR,(c,f)=>{let m=e[f];return e.hasOwnProperty(f)||(t.push(`Please provide a value for the animation param ${f}`),m=""),m.toString()});return s==o?i:s}function DT(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const FL=/-+([a-z0-9])/g;function XR(i){return i.replace(FL,(...e)=>e[1].toUpperCase())}function NL(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function JP(i,e){return 0===i||0===e}function XP(i,e,t){const o=Object.keys(t);if(o.length&&e.length){let c=e[0],f=[];if(o.forEach(m=>{c.hasOwnProperty(m)||f.push(m),c[m]=t[m]}),f.length)for(var s=1;s<e.length;s++){let m=e[s];f.forEach(function(_){m[_]=e1(i,_)})}}return e}function Qi(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function e1(i,e){return window.getComputedStyle(i)[e]}function LL(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,e,t){if(":"==i[0]){const _=function(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof _)return void e.push(_);i=_}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const s=o[1],c=o[2],f=o[3];e.push(ek(s,f));"<"==c[0]&&!("*"==s&&"*"==f)&&e.push(ek(f,s))}(o,t,e)):t.push(i),t}const ST=new Set(["true","1"]),AT=new Set(["false","0"]);function ek(i,e){const t=ST.has(i)||AT.has(i),o=ST.has(e)||AT.has(e);return(s,c)=>{let f="*"==i||i==s,m="*"==e||e==c;return!f&&t&&"boolean"==typeof s&&(f=s?ST.has(i):AT.has(i)),!m&&o&&"boolean"==typeof c&&(m=c?ST.has(e):AT.has(e)),f&&m}}const BL=new RegExp("s*:selfs*,?","g");function t1(i,e,t){return new jL(i).build(e,t)}class jL{constructor(e){this._driver=e}build(e,t){const o=new qL(t);return this._resetContextStyleTimingState(o),Qi(this,Sb(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,s=t.depCount=0;const c=[],f=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const _=m,b=_.name;b.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,c.push(this.visitState(_,t))}),_.name=b}else if(1==m.type){const _=this.visitTransition(m,t);o+=_.queryCount,s+=_.depCount,f.push(_)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:c,transitions:f,queryCount:o,depCount:s,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(o.containsDynamicStyles){const c=new Set,f=s||{};if(o.styles.forEach(m=>{if(IT(m)){const _=m;Object.keys(_).forEach(b=>{QP(_[b]).forEach(C=>{f.hasOwnProperty(C)||c.add(C)})})}}),c.size){const m=DT(c.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:o,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=Qi(this,Sb(e.animation),t);return{type:1,matchers:LL(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Ah(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(o=>Qi(this,o,t)),options:Ah(e.options)}}visitGroup(e,t){const o=t.currentTime;let s=0;const c=e.steps.map(f=>{t.currentTime=o;const m=Qi(this,f,t);return s=Math.max(s,t.currentTime),m});return t.currentTime=s,{type:3,steps:c,options:Ah(e.options)}}visitAnimate(e,t){const o=function(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return n1(CT(i,e).duration,0,"");const o=i;if(o.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=n1(0,0,"");return c.dynamic=!0,c.strValue=o,c}return t=t||CT(o,e),n1(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=o;let s,c=e.styles?e.styles:yT({});if(5==c.type)s=this.visitKeyframes(c,t);else{let f=e.styles,m=!1;if(!f){m=!0;const b={};o.easing&&(b.easing=o.easing),f=yT(b)}t.currentTime+=o.duration+o.delay;const _=this.visitStyle(f,t);_.isEmptyStep=m,s=_}return t.currentAnimateTimings=null,{type:4,timings:o,style:s,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[];Array.isArray(e.styles)?e.styles.forEach(f=>{"string"==typeof f?f==cu?o.push(f):t.errors.push(`The provided style string value ${f} is not allowed.`):o.push(f)}):o.push(e.styles);let s=!1,c=null;return o.forEach(f=>{if(IT(f)){const m=f,_=m.easing;if(_&&(c=_,delete m.easing),!s)for(let b in m)if(m[b].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:o,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let s=t.currentTime,c=t.currentTime;o&&c>0&&(c-=o.duration+o.delay),e.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const _=t.collectedStyles[t.currentQuerySelector],b=_[m];let C=!0;b&&(c!=s&&c>=b.startTime&&s<=b.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${s}ms"`),C=!1),c=b.startTime),C&&(_[m]={startTime:c,endTime:s}),t.options&&function(i,e,t){const o=e.params||{},s=QP(i);s.length&&s.forEach(c=>{o.hasOwnProperty(c)||t.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(f[m],t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),o;let c=0;const f=[];let m=!1,_=!1,b=0;const C=e.steps.map(te=>{const fe=this._makeStyleAst(te,t);let ye=null!=fe.offset?fe.offset:function(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(IT(t)&&t.hasOwnProperty("offset")){const o=t;e=parseFloat(o.offset),delete o.offset}});else if(IT(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(fe.styles),De=0;return null!=ye&&(c++,De=fe.offset=ye),_=_||De<0||De>1,m=m||De<b,b=De,f.push(De),fe});_&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const D=e.steps.length;let S=0;c>0&&c<D?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(S=1/(D-1));const I=D-1,O=t.currentTime,N=t.currentAnimateTimings,G=N.duration;return C.forEach((te,fe)=>{const ye=S>0?fe==I?1:S*fe:f[fe],De=ye*G;t.currentTime=O+N.delay+De,N.duration=De,this._validateStyleAst(te,t),te.offset=ye,o.styles.push(te)}),o}visitReference(e,t){return{type:8,animation:Qi(this,Sb(e.animation),t),options:Ah(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ah(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ah(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[c,f]=function(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(BL,"")),[i=i.replace(/@\*/g,wT).replace(/@\w+/g,t=>wT+"-"+t.substr(1)).replace(/:animating/g,KR),e]}(e.selector);t.currentQuerySelector=o.length?o+" "+c:c,Ki(t.collectedStyles,t.currentQuerySelector,{});const m=Qi(this,Sb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:c,limit:s.limit||0,optional:!!s.optional,includeSelf:f,animation:m,originalSelector:e.selector,options:Ah(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:CT(e.timings,t.errors,!0);return{type:12,animation:Qi(this,Sb(e.animation),t),timings:o,options:null}}}class qL{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function IT(i){return!Array.isArray(i)&&"object"==typeof i}function Ah(i){return i?(i=Sg(i)).params&&(i.params=function(i){return i?Sg(i):null}(i.params)):i={},i}function n1(i,e,t){return{duration:i,delay:e,easing:t}}function r1(i,e,t,o,s,c,f=null,m=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:o,duration:s,delay:c,totalTime:s+c,easing:f,subTimeline:m}}class MT{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const WL=new RegExp(":enter","g"),QL=new RegExp(":leave","g");function i1(i,e,t,o,s,c={},f={},m,_,b=[]){return(new JL).buildKeyframes(i,e,t,o,s,c,f,m,_,b)}class JL{buildKeyframes(e,t,o,s,c,f,m,_,b,C=[]){b=b||new MT;const D=new o1(e,t,b,s,c,C,[]);D.options=_,D.currentTimeline.setStyles([f],null,D.errors,_),Qi(this,o,D);const S=D.timelines.filter(I=>I.containsAnimation());if(S.length&&Object.keys(m).length){const I=S[S.length-1];I.allowOnlyTimelineStyles()||I.setStyles([m],null,D.errors,_)}return S.length?S.map(I=>I.buildKeyframes()):[r1(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.consume(t.element);if(o){const s=t.createSubContext(e.options),c=t.currentTimeline.currentTime,f=this._visitSubInstructions(o,s,s.options);c!=f&&t.transformIntoNewTimeline(f)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,o){let c=t.currentTimeline.currentTime;const f=null!=o.duration?Th(o.duration):null,m=null!=o.delay?Th(o.delay):null;return 0!==f&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,f,m);c=Math.max(c,b.duration+b.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Qi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let s=t;const c=e.options;if(c&&(c.params||c.delay)&&(s=t.createSubContext(c),s.transformIntoNewTimeline(),null!=c.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=RT);const f=Th(c.delay);s.delayNextStep(f)}e.steps.length&&(e.steps.forEach(f=>Qi(this,f,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>o&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let s=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?Th(e.options.delay):0;e.steps.forEach(f=>{const m=t.createSubContext(e.options);c&&m.delayNextStep(c),Qi(this,f,m),s=Math.max(s,m.currentTimeline.currentTime),o.push(m.currentTimeline)}),o.forEach(f=>t.currentTimeline.mergeTimelineCollectedStyles(f)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return CT(t.params?ET(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),s.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(o.duration),this.visitStyle(c,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,s=t.currentAnimateTimings;!s&&o.getCurrentStyleProperties().length&&o.forwardFrame();const c=s&&s.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(c):o.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,s=t.currentTimeline.duration,c=o.duration,m=t.createSubContext().currentTimeline;m.easing=o.easing,e.styles.forEach(_=>{m.forwardTime((_.offset||0)*c),m.setStyles(_.styles,_.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(s+c),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,s=e.options||{},c=s.delay?Th(s.delay):0;c&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=RT);let f=o;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=m.length;let _=null;m.forEach((b,C)=>{t.currentQueryIndex=C;const D=t.createSubContext(e.options,b);c&&D.delayNextStep(c),b===t.element&&(_=D.currentTimeline),Qi(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(f),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,s=t.currentTimeline,c=e.timings,f=Math.abs(c.duration),m=f*(t.currentQueryTotal-1);let _=f*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":_=m-_;break;case"full":_=o.currentStaggerTime}const C=t.currentTimeline;_&&C.delayNextStep(_);const D=C.currentTime;Qi(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=s.currentTime-D+(s.startTime-o.currentTimeline.startTime)}}const RT={};class o1{constructor(e,t,o,s,c,f,m,_){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=s,this._leaveClassName=c,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new OT(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let s=this.options;null!=o.duration&&(s.duration=Th(o.duration)),null!=o.delay&&(s.delay=Th(o.delay));const c=o.params;if(c){let f=s.params;f||(f=this.options.params={}),Object.keys(c).forEach(m=>{(!t||!f.hasOwnProperty(m))&&(f[m]=ET(c[m],f,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(s=>{o[s]=t[s]})}}return e}createSubContext(e=null,t,o){const s=t||this.element,c=new o1(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,o||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=RT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+e.delay,easing:""},c=new XL(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(c),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,s,c,f){let m=[];if(s&&m.push(this.element),e.length>0){e=(e=e.replace(WL,"."+this._enterClassName)).replace(QL,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=o);0!==o&&(b=o<0?b.slice(b.length+o,b.length):b.slice(0,o)),m.push(...b)}return!c&&0==m.length&&f.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class OT{constructor(e,t,o,s){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new OT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||cu,this._currentKeyframe[t]=cu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,s){t&&(this._previousKeyframe.easing=t);const c=s&&s.params||{},f=function(i,e){const t={};let o;return i.forEach(s=>{"*"===s?(o=o||Object.keys(e),o.forEach(c=>{t[c]=cu})):tc(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(f).forEach(m=>{const _=ET(f[m],c,o);this._pendingStyles[m]=_,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:cu),this._updateStyle(m,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=e[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const o=this._styleSummary[t],s=e._styleSummary[t];(!o||s.time>o.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((m,_)=>{const b=tc(m,!0);Object.keys(b).forEach(C=>{const D=b[C];"!"==D?e.add(C):D==cu&&t.add(C)}),o||(b.offset=_/this.duration),s.push(b)});const c=e.size?DT(e.values()):[],f=t.size?DT(t.values()):[];if(o){const m=s[0],_=Sg(m);m.offset=0,_.offset=1,s=[m,_]}return r1(this.element,s,c,f,this.duration,this.startTime,this.easing,!1)}}class XL extends OT{constructor(e,t,o,s,c,f,m=!1){super(e,t,f.delay),this.keyframes=o,this.preStyleProps=s,this.postStyleProps=c,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],f=o+t,m=t/f,_=tc(e[0],!1);_.offset=0,c.push(_);const b=tc(e[0],!1);b.offset=rk(m),c.push(b);const C=e.length-1;for(let D=1;D<=C;D++){let S=tc(e[D],!1);S.offset=rk((t+S.offset*o)/f),c.push(S)}o=f,t=0,s="",e=c}return r1(this.element,e,this.preStyleProps,this.postStyleProps,o,t,s,!0)}}function rk(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class s1{}class tV extends s1{normalizePropertyName(e,t){return XR(e)}normalizeStyleValue(e,t,o,s){let c="";const f=o.toString().trim();if(nV[t]&&0!==o&&"0"!==o)if("number"==typeof o)c="px";else{const m=o.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&s.push(`Please provide a CSS unit value for ${e}:${o}`)}return f+c}}const nV=(()=>function(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ik(i,e,t,o,s,c,f,m,_,b,C,D,S){return{type:0,element:i,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:c,toState:o,toStyles:f,timelines:m,queriedElements:_,preStyleProps:b,postStyleProps:C,totalTime:D,errors:S}}const a1={};class ok{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,s){return function(i,e,t,o,s){return i.some(c=>c(e,t,o,s))}(this.ast.matchers,e,t,o,s)}buildStyles(e,t,o){const s=this._stateStyles["*"],c=this._stateStyles[e],f=s?s.buildStyles(t,o):{};return c?c.buildStyles(t,o):f}build(e,t,o,s,c,f,m,_,b,C){const D=[],S=this.ast.options&&this.ast.options.params||a1,O=this.buildStyles(o,m&&m.params||a1,D),N=_&&_.params||a1,G=this.buildStyles(s,N,D),te=new Set,fe=new Map,ye=new Map,De="void"===s,Se={params:Object.assign(Object.assign({},S),N)},We=C?[]:i1(e,t,this.ast.animation,c,f,O,G,Se,b,D);let Ct=0;if(We.forEach(qt=>{Ct=Math.max(qt.duration+qt.delay,Ct)}),D.length)return ik(t,this._triggerName,o,s,De,O,G,[],[],fe,ye,Ct,D);We.forEach(qt=>{const Io=qt.element,Fb=Ki(fe,Io,{});qt.preStyleProps.forEach(Rh=>Fb[Rh]=!0);const Nb=Ki(ye,Io,{});qt.postStyleProps.forEach(Rh=>Nb[Rh]=!0),Io!==t&&te.add(Io)});const ir=DT(te.values());return ik(t,this._triggerName,o,s,De,O,G,We,ir,fe,ye,Ct)}}class oV{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o={},s=Sg(this.defaultParams);return Object.keys(e).forEach(c=>{const f=e[c];null!=f&&(s[c]=f)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const f=c;Object.keys(f).forEach(m=>{let _=f[m];_.length>1&&(_=ET(_,s,t));const b=this.normalizer.normalizePropertyName(m,t);_=this.normalizer.normalizeStyleValue(m,b,_,t),o[b]=_})}}),o}}class aV{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new oV(s.style,s.options&&s.options.params||{},o)}),sk(this.states,"true","1"),sk(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new ok(e,s,this.states))}),this.fallbackTransition=function(i,e,t){return new ok(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,s){return this.transitionFactories.find(f=>f.match(e,t,o,s))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function sk(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const lV=new MT;class cV{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(e,t){const o=[],s=t1(this._driver,t,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,o){const s=e.element,c=UP(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(s,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const s=[],c=this._animations[e];let f;const m=new Map;if(c?(f=i1(this._driver,t,c,WR,vT,{},{},o,lV,s),f.forEach(C=>{const D=Ki(m,C.element,{});C.postStyleProps.forEach(S=>D[S]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),f=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);m.forEach((C,D)=>{Object.keys(C).forEach(S=>{C[S]=this._driver.computeStyle(D,S,cu)})});const b=ec(f.map(C=>{const D=m.get(C.element);return this._buildPlayer(C,{},D)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,o,s){const c=HR(t,"","","");return BR(this._getPlayer(e),o,c,s),()=>{}}command(e,t,o,s){if("register"==o)return void this.register(e,s[0]);if("create"==o)return void this.create(e,t,s[0]||{});const c=this._getPlayer(e);switch(o){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const ak="ng-animate-queued",uk="ng-animate-disabled",lk=".ng-animate-disabled",pV=[],ck={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Do="__ng_removed";class u1{constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(o?e.value:e),o){const c=Sg(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const o=this.options.params;Object.keys(t).forEach(s=>{null==o[s]&&(o[s]=t[s])})}}}const Ab="void",l1=new u1(Ab);class mV{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,To(t,this._hostClassName)}listen(e,t,o,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${t}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${t}" is not supported!`);const c=Ki(this._elementListeners,e,[]),f={name:t,phase:o,callback:s};c.push(f);const m=Ki(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(To(e,bT),To(e,bT+"-"+t),m[t]=l1),()=>{this._engine.afterFlush(()=>{const _=c.indexOf(f);_>=0&&c.splice(_,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,o,s=!0){const c=this._getTrigger(t),f=new c1(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(To(e,bT),To(e,bT+"-"+t),this._engine.statesByElement.set(e,m={}));let _=m[t];const b=new u1(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),m[t]=b,_||(_=l1),b.value!==Ab&&_.value===b.value){if(!function(i,e){const t=Object.keys(i),o=Object.keys(e);if(t.length!=o.length)return!1;for(let s=0;s<t.length;s++){const c=t[s];if(!e.hasOwnProperty(c)||i[c]!==e[c])return!1}return!0}(_.params,b.params)){const N=[],G=c.matchStyles(_.value,_.params,N),te=c.matchStyles(b.value,b.params,N);N.length?this._engine.reportError(N):this._engine.afterFlush(()=>{Sh(e,G),Zs(e,te)})}return}const S=Ki(this._engine.playersByElement,e,[]);S.forEach(N=>{N.namespaceId==this.id&&N.triggerName==t&&N.queued&&N.destroy()});let I=c.matchTransition(_.value,b.value,e,b.params),O=!1;if(!I){if(!s)return;I=c.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:I,fromState:_,toState:b,player:f,isFallbackTransition:O}),O||(To(e,ak),f.onStart(()=>{Ag(e,ak)})),f.onDone(()=>{let N=this.players.indexOf(f);N>=0&&this.players.splice(N,1);const G=this._engine.playersByElement.get(e);if(G){let te=G.indexOf(f);te>=0&&G.splice(te,1)}}),this.players.push(f),S.push(f),f}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,o)=>{delete t[e]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,wT,!0);o.forEach(s=>{if(s[Do])return;const c=this._engine.fetchNamespacesByElement(s);c.size?c.forEach(f=>f.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,o,s){const c=this._engine.statesByElement.get(e);if(c){const f=[];if(Object.keys(c).forEach(m=>{if(this._triggers[m]){const _=this.trigger(e,m,Ab,s);_&&f.push(_)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),o&&ec(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const s=new Set;t.forEach(c=>{const f=c.name;if(s.has(f))return;s.add(f);const _=this._triggers[f].fallbackTransition,b=o[f]||l1,C=new u1(Ab),D=new c1(this.id,f,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:f,transition:_,fromState:b,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(o.totalAnimations){const c=o.players.length?o.playersByQueriedElement.get(e):[];if(c&&c.length)s=!0;else{let f=e;for(;f=f.parentNode;)if(o.statesByElement.get(f)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)o.markElementAsRemoved(this.id,e,!1,t);else{const c=e[Do];(!c||c===ck)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){To(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const s=o.player;if(s.destroyed)return;const c=o.element,f=this._elementListeners.get(c);f&&f.forEach(m=>{if(m.name==o.triggerName){const _=HR(c,o.triggerName,o.fromState.value,o.toState.value);_._data=e,BR(o.player,m.phase,_,m.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(o)}),this._queue=[],t.sort((o,s)=>{const c=o.transition.ast.depCount,f=s.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(o.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(o=>o.element===e)||t,t}}class yV{constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,c)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,t){const o=new mV(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList.length-1;if(o>=0){let s=!1;for(let c=o;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,t)){this._namespaceList.splice(c+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let s=this._namespaceLookup[e];s&&s.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(o);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o){const s=Object.keys(o);for(let c=0;c<s.length;c++){const f=o[s[c]].namespaceId;if(f){const m=this._fetchNamespace(f);m&&t.add(m)}}}return t}trigger(e,t,o,s){if(xT(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,o,s),!0}return!1}insertNode(e,t,o,s){if(!xT(t))return;const c=t[Do];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(t);f>=0&&this.collectedLeaveElements.splice(f,1)}if(e){const f=this._fetchNamespace(e);f&&f.insertNode(t,o)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),To(e,uk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ag(e,uk))}removeNode(e,t,o,s){if(xT(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),o){const f=this.namespacesByHostElement.get(t);f&&f.id!==e&&f.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,o,s){this.collectedLeaveElements.push(t),t[Do]={namespaceId:e,setForRemoval:s,hasAnimation:o,removedBeforeQueried:!1}}listen(e,t,o,s,c){return xT(t)?this._fetchNamespace(e).listen(t,o,s,c):()=>{}}_buildInstruction(e,t,o,s,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,s,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,wT,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,KR,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ec(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Do];if(t&&t.setForRemoval){if(e[Do]=ck,t.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,lk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,lk,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,s)=>this._balanceNamespaceList(o,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)To(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let s=0;s<o.length;s++)o[s]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?ec(t).onDone(()=>{o.forEach(s=>s())}):o.forEach(s=>s())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const o=new MT,s=[],c=new Map,f=[],m=new Map,_=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(xe=>{C.add(xe);const qe=this.driver.query(xe,".ng-animate-queued",!0);for(let ot=0;ot<qe.length;ot++)C.add(qe[ot])});const D=this.bodyNode,S=Array.from(this.statesByElement.keys()),I=fk(S,this.collectedEnterElements),O=new Map;let N=0;I.forEach((xe,qe)=>{const ot=WR+N++;O.set(qe,ot),xe.forEach(Mt=>To(Mt,ot))});const G=[],te=new Set,fe=new Set;for(let xe=0;xe<this.collectedLeaveElements.length;xe++){const qe=this.collectedLeaveElements[xe],ot=qe[Do];ot&&ot.setForRemoval&&(G.push(qe),te.add(qe),ot.hasAnimation?this.driver.query(qe,".ng-star-inserted",!0).forEach(Mt=>te.add(Mt)):fe.add(qe))}const ye=new Map,De=fk(S,Array.from(te));De.forEach((xe,qe)=>{const ot=vT+N++;ye.set(qe,ot),xe.forEach(Mt=>To(Mt,ot))}),e.push(()=>{I.forEach((xe,qe)=>{const ot=O.get(qe);xe.forEach(Mt=>Ag(Mt,ot))}),De.forEach((xe,qe)=>{const ot=ye.get(qe);xe.forEach(Mt=>Ag(Mt,ot))}),G.forEach(xe=>{this.processLeaveNode(xe)})});const Se=[],We=[];for(let xe=this._namespaceList.length-1;xe>=0;xe--)this._namespaceList[xe].drainQueuedTransitions(t).forEach(ot=>{const Mt=ot.player,wr=ot.element;if(Se.push(Mt),this.collectedEnterElements.length){const Ks=wr[Do];if(Ks&&Ks.setForMove)return void Mt.destroy()}const Ws=!D||!this.driver.containsElement(D,wr),Ji=ye.get(wr),ac=O.get(wr),In=this._buildInstruction(ot,o,ac,Ji,Ws);if(In.errors&&In.errors.length)We.push(In);else{if(Ws)return Mt.onStart(()=>Sh(wr,In.fromStyles)),Mt.onDestroy(()=>Zs(wr,In.toStyles)),void s.push(Mt);if(ot.isFallbackTransition)return Mt.onStart(()=>Sh(wr,In.fromStyles)),Mt.onDestroy(()=>Zs(wr,In.toStyles)),void s.push(Mt);In.timelines.forEach(Ks=>Ks.stretchStartingKeyframe=!0),o.append(wr,In.timelines),f.push({instruction:In,player:Mt,element:wr}),In.queriedElements.forEach(Ks=>Ki(m,Ks,[]).push(Mt)),In.preStyleProps.forEach((Ks,Lb)=>{const tS=Object.keys(Ks);if(tS.length){let Oh=_.get(Lb);Oh||_.set(Lb,Oh=new Set),tS.forEach(q1=>Oh.add(q1))}}),In.postStyleProps.forEach((Ks,Lb)=>{const tS=Object.keys(Ks);let Oh=b.get(Lb);Oh||b.set(Lb,Oh=new Set),tS.forEach(q1=>Oh.add(q1))})}});if(We.length){const xe=[];We.forEach(qe=>{xe.push(`@${qe.triggerName} has failed due to:\n`),qe.errors.forEach(ot=>xe.push(`- ${ot}\n`))}),Se.forEach(qe=>qe.destroy()),this.reportError(xe)}const Ct=new Map,ir=new Map;f.forEach(xe=>{const qe=xe.element;o.has(qe)&&(ir.set(qe,qe),this._beforeAnimationBuild(xe.player.namespaceId,xe.instruction,Ct))}),s.forEach(xe=>{const qe=xe.element;this._getPreviousPlayers(qe,!1,xe.namespaceId,xe.triggerName,null).forEach(Mt=>{Ki(Ct,qe,[]).push(Mt),Mt.destroy()})});const qt=G.filter(xe=>gk(xe,_,b)),Io=new Map;hk(Io,this.driver,fe,b,cu).forEach(xe=>{gk(xe,_,b)&&qt.push(xe)});const Nb=new Map;I.forEach((xe,qe)=>{hk(Nb,this.driver,new Set(xe),_,"!")}),qt.forEach(xe=>{const qe=Io.get(xe),ot=Nb.get(xe);Io.set(xe,Object.assign(Object.assign({},qe),ot))});const Rh=[],wN=[],CN={};f.forEach(xe=>{const{element:qe,player:ot,instruction:Mt}=xe;if(o.has(qe)){if(C.has(qe))return ot.onDestroy(()=>Zs(qe,Mt.toStyles)),ot.disabled=!0,ot.overrideTotalTime(Mt.totalTime),void s.push(ot);let wr=CN;if(ir.size>1){let Ji=qe;const ac=[];for(;Ji=Ji.parentNode;){const In=ir.get(Ji);if(In){wr=In;break}ac.push(Ji)}ac.forEach(In=>ir.set(In,wr))}const Ws=this._buildAnimation(ot.namespaceId,Mt,Ct,c,Nb,Io);if(ot.setRealPlayer(Ws),wr===CN)Rh.push(ot);else{const Ji=this.playersByElement.get(wr);Ji&&Ji.length&&(ot.parentPlayer=ec(Ji)),s.push(ot)}}else Sh(qe,Mt.fromStyles),ot.onDestroy(()=>Zs(qe,Mt.toStyles)),wN.push(ot),C.has(qe)&&s.push(ot)}),wN.forEach(xe=>{const qe=c.get(xe.element);if(qe&&qe.length){const ot=ec(qe);xe.setRealPlayer(ot)}}),s.forEach(xe=>{xe.parentPlayer?xe.syncPlayerEvents(xe.parentPlayer):xe.destroy()});for(let xe=0;xe<G.length;xe++){const qe=G[xe],ot=qe[Do];if(Ag(qe,vT),ot&&ot.hasAnimation)continue;let Mt=[];if(m.size){let Ws=m.get(qe);Ws&&Ws.length&&Mt.push(...Ws);let Ji=this.driver.query(qe,KR,!0);for(let ac=0;ac<Ji.length;ac++){let In=m.get(Ji[ac]);In&&In.length&&Mt.push(...In)}}const wr=Mt.filter(Ws=>!Ws.destroyed);wr.length?wV(this,qe,wr):this.processLeaveNode(qe)}return G.length=0,Rh.forEach(xe=>{this.players.push(xe),xe.onDone(()=>{xe.destroy();const qe=this.players.indexOf(xe);this.players.splice(qe,1)}),xe.play()}),Rh}elementContainsData(e,t){let o=!1;const s=t[Do];return s&&s.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,s,c){let f=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(f=m)}else{const m=this.playersByElement.get(e);if(m){const _=!c||c==Ab;m.forEach(b=>{b.queued||!_&&b.triggerName!=s||f.push(b)})}}return(o||s)&&(f=f.filter(m=>!(o&&o!=m.namespaceId||s&&s!=m.triggerName))),f}_beforeAnimationBuild(e,t,o){const c=t.element,f=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,C=b!==c,D=Ki(o,b,[]);this._getPreviousPlayers(b,C,f,m,t.toState).forEach(I=>{const O=I.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),I.destroy(),D.push(I)})}Sh(c,t.fromStyles)}_buildAnimation(e,t,o,s,c,f){const m=t.triggerName,_=t.element,b=[],C=new Set,D=new Set,S=t.timelines.map(O=>{const N=O.element;C.add(N);const G=N[Do];if(G&&G.removedBeforeQueried)return new Tg(O.duration,O.delay);const te=N!==_,fe=function(i){const e=[];return pk(i,e),e}((o.get(N)||pV).map(Ct=>Ct.getRealPlayer())).filter(Ct=>!!Ct.element&&Ct.element===N),ye=c.get(N),De=f.get(N),Se=UP(0,this._normalizer,0,O.keyframes,ye,De),We=this._buildPlayer(O,Se,fe);if(O.subTimeline&&s&&D.add(N),te){const Ct=new c1(e,m,N);Ct.setRealPlayer(We),b.push(Ct)}return We});b.forEach(O=>{Ki(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function(i,e,t){let o;if(i instanceof Map){if(o=i.get(e),o){if(o.length){const s=o.indexOf(t);o.splice(s,1)}0==o.length&&i.delete(e)}}else if(o=i[e],o){if(o.length){const s=o.indexOf(t);o.splice(s,1)}0==o.length&&delete i[e]}return o}(this.playersByQueriedElement,O.element,O))}),C.forEach(O=>To(O,ZP));const I=ec(S);return I.onDestroy(()=>{C.forEach(O=>Ag(O,ZP)),Zs(_,t.toStyles)}),D.forEach(O=>{Ki(s,O,[]).push(I)}),I}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new Tg(e.duration,e.delay)}}class c1{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new Tg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>BR(e,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ki(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function xT(i){return i&&1===i.nodeType}function dk(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function hk(i,e,t,o,s){const c=[];t.forEach(_=>c.push(dk(_)));const f=[];o.forEach((_,b)=>{const C={};_.forEach(D=>{const S=C[D]=e.computeStyle(b,D,s);(!S||0==S.length)&&(b[Do]=gV,f.push(b))}),i.set(b,C)});let m=0;return t.forEach(_=>dk(_,c[m++])),f}function fk(i,e){const t=new Map;if(i.forEach(m=>t.set(m,[])),0==e.length)return t;const s=new Set(e),c=new Map;function f(m){if(!m)return 1;let _=c.get(m);if(_)return _;const b=m.parentNode;return _=t.has(b)?b:s.has(b)?1:f(b),c.set(m,_),_}return e.forEach(m=>{const _=f(m);1!==_&&t.get(_).push(m)}),t}const PT="$$classes";function To(i,e){if(i.classList)i.classList.add(e);else{let t=i[PT];t||(t=i[PT]={}),t[e]=!0}}function Ag(i,e){if(i.classList)i.classList.remove(e);else{let t=i[PT];t&&delete t[e]}}function wV(i,e,t){ec(t).onDone(()=>i.processLeaveNode(e))}function pk(i,e){for(let t=0;t<i.length;t++){const o=i[t];o instanceof LP?pk(o.players,e):e.push(o)}}function gk(i,e,t){const o=t.get(i);if(!o)return!1;let s=e.get(i);return s?o.forEach(c=>s.add(c)):e.set(i,o),t.delete(i),!0}class kT{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(s,c)=>{},this._transitionEngine=new yV(e,t,o),this._timelineEngine=new cV(e,t,o),this._transitionEngine.onRemovalComplete=(s,c)=>this.onRemovalComplete(s,c)}registerTrigger(e,t,o,s,c){const f=e+"-"+s;let m=this._triggerCache[f];if(!m){const _=[],b=t1(this._driver,c,_);if(_.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);m=function(i,e,t){return new aV(i,e,t)}(s,b,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(t,s,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,s){this._transitionEngine.insertNode(e,t,o,s)}onRemove(e,t,o,s){this._transitionEngine.removeNode(e,t,s||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,s){if("@"==o.charAt(0)){const[c,f]=BP(o);this._timelineEngine.command(c,t,f,s)}else this._transitionEngine.trigger(e,t,o,s)}listen(e,t,o,s,c){if("@"==o.charAt(0)){const[f,m]=BP(o);return this._timelineEngine.listen(f,t,m,c)}return this._transitionEngine.listen(e,t,o,s,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mk(i,e){let t=null,o=null;return Array.isArray(e)&&e.length?(t=d1(e[0]),e.length>1&&(o=d1(e[e.length-1]))):e&&(t=d1(e)),t||o?new Ig(i,t,o):null}class Ig{constructor(e,t,o){this._element=e,this._startStyles=t,this._endStyles=o,this._state=0;let s=Ig.initialStylesByElement.get(e);s||Ig.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zs(this._element,this._initialStyles),this._endStyles&&(Zs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ig.initialStylesByElement.delete(this._element),this._startStyles&&(Sh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sh(this._element,this._endStyles),this._endStyles=null),Zs(this._element,this._initialStyles),this._state=3)}}function d1(i){let e=null;const t=Object.keys(i);for(let o=0;o<t.length;o++){const s=t[o];DV(s)&&(e=e||{},e[s]=i[s])}return e}function DV(i){return"display"===i||"position"===i}Ig.initialStylesByElement=new WeakMap;const yk="animation",_k="animationend";class AV{constructor(e,t,o,s,c,f,m){this._element=e,this._name=t,this._duration=o,this._delay=s,this._easing=c,this._fillMode=f,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function(i,e){const t=f1(i,"").trim();let o=0;t.length&&(function(i,e){let t=0;for(let o=0;o<i.length;o++)","===i.charAt(o)&&t++;return t}(t)+1,e=`${t}, ${e}`),FT(i,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),wk(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){vk(this._element,this._name,"paused")}resume(){vk(this._element,this._name,"running")}setPosition(e){const t=bk(this._element,this._name);this._position=e*this._duration,FT(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),wk(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,e){const o=f1(i,"").split(","),s=h1(o,e);s>=0&&(o.splice(s,1),FT(i,"",o.join(",")))}(this._element,this._name))}}function vk(i,e,t){FT(i,"PlayState",t,bk(i,e))}function bk(i,e){const t=f1(i,"");return t.indexOf(",")>0?h1(t.split(","),e):h1([t],e)}function h1(i,e){for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>=0)return t;return-1}function wk(i,e,t){t?i.removeEventListener(_k,e):i.addEventListener(_k,e)}function FT(i,e,t,o){const s=yk+e;if(null!=o){const c=i.style[s];if(c.length){const f=c.split(",");f[o]=t,t=f.join(",")}}i.style[s]=t}function f1(i,e){return i.style[yk+e]||""}class Ck{constructor(e,t,o,s,c,f,m,_){this.element=e,this.keyframes=t,this.animationName=o,this._duration=s,this._delay=c,this._finalStyles=m,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=s+c,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new AV(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(e[o]=t?this._finalStyles[o]:e1(this.element,o))})}this.currentSnapshot=e}}class PV extends Tg{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=qP(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Dk{constructor(){this._count=0}validateStyleProperty(e){return zR(e)}matchesElement(e,t){return $R(e,t)}containsElement(e,t){return ZR(e,t)}query(e,t,o){return YR(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,o){o=o.map(m=>qP(m));let s=`@keyframes ${t} {\n`,c="";o.forEach(m=>{c=" ";const _=parseFloat(m.offset);s+=`${c}${100*_}% {\n`,c+=" ",Object.keys(m).forEach(b=>{const C=m[b];switch(b){case"offset":return;case"easing":return void(C&&(s+=`${c}animation-timing-function: ${C};\n`));default:return void(s+=`${c}${b}: ${C};\n`)}}),s+=`${c}}\n`}),s+="}\n";const f=document.createElement("style");return f.textContent=s,f}animate(e,t,o,s,c,f=[],m){const _=f.filter(G=>G instanceof Ck),b={};JP(o,s)&&_.forEach(G=>{let te=G.currentSnapshot;Object.keys(te).forEach(fe=>b[fe]=te[fe])});const C=function(i){let e={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(s=>{"offset"==s||"easing"==s||(e[s]=o[s])})}),e}(t=XP(e,t,b));if(0==o)return new PV(e,C);const D="gen_css_kf_"+this._count++,S=this.buildKeyframeElement(e,D,t);(function(i){var e;const t=null===(e=i.getRootNode)||void 0===e?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(S);const O=mk(e,t),N=new Ck(e,t,D,o,s,c,C,O);return N.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(S)),N}}class Sk{constructor(e,t,o,s){this.element=e,this.keyframes=t,this.options=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,o){return e.animate(t,o)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:e1(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class VV{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ak().toString()),this._cssKeyframesDriver=new Dk}validateStyleProperty(e){return zR(e)}matchesElement(e,t){return $R(e,t)}containsElement(e,t){return ZR(e,t)}query(e,t,o){return YR(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,o,s,c,f=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,o,s,c,f);const C={duration:o,delay:s,fill:0==s?"both":"forwards"};c&&(C.easing=c);const D={},S=f.filter(O=>O instanceof Sk);JP(o,s)&&S.forEach(O=>{let N=O.currentSnapshot;Object.keys(N).forEach(G=>D[G]=N[G])});const I=mk(e,t=XP(e,t=t.map(O=>tc(O,!1)),D));return new Sk(e,t,C,I)}}function Ak(){return VP()&&Element.prototype.animate||{}}let BV=(()=>{class i extends kP{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?FP(t):t;return Ik(this._renderer,null,o,"register",[s]),new jV(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(d.FYo),d.LFG($))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class jV extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new HV(this._id,e,t||{},this._renderer)}}class HV{constructor(e,t,o,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ik(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Ik(i,e,t,o,s){return i.setProperty(e,`@@${t}:${o}`,s)}const Mk="@.disabled";let GV=(()=>{class i{constructor(t,o,s){this.delegate=t,this.engine=o,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(c,f)=>{f&&f.parentNode(c)&&f.removeChild(c.parentNode,c)}}createRenderer(t,o){const c=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let C=this._rendererCache.get(c);return C||(C=new Rk("",c,this.engine),this._rendererCache.set(c,C)),C}const f=o.id,m=o.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(f,m,t,C.name,C)};return o.data.animation.forEach(_),new qV(this,m,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,s){t>=0&&t<this._microtaskId?this._zone.run(()=>o(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,m]=c;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(d.FYo),d.LFG(kT),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Rk{constructor(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,s=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,s){this.delegate.setAttribute(e,t,o,s)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,s){this.delegate.setStyle(e,t,o,s)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){"@"==t.charAt(0)&&t==Mk?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class qV extends Rk{constructor(e,t,o,s){super(t,o,s),this.factory=e,this.namespaceId=t}setProperty(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Mk?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.substr(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if("@"==t.charAt(0)){const s=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let c=t.substr(1),f="";return"@"!=c.charAt(0)&&([c,f]=function(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(c)),this.engine.listen(this.namespaceId,s,c,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,o,m)})}return this.delegate.listen(e,t,o)}}let ZV=(()=>{class i extends kT{constructor(t,o,s){super(t.body,o,s)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($),d.LFG(_T),d.LFG(s1))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Ib=new d.OlP("AnimationModuleType"),Ok=[{provide:kP,useClass:BV},{provide:s1,useFactory:function(){return new tV}},{provide:kT,useClass:ZV},{provide:d.FYo,useFactory:function(i,e,t){return new GV(i,e,t)},deps:[ta,kT,d.R0b]}],xk=[{provide:_T,useFactory:function(){return"function"==typeof Ak()?new VV:new Dk}},{provide:Ib,useValue:"BrowserAnimations"},...Ok],Pk=[{provide:_T,useClass:zP},{provide:Ib,useValue:"NoopAnimations"},...Ok];let QV=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?Pk:xk}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:xk,imports:[na]}),i})();function e2(i,e){if(1&i&&d._UZ(0,"mat-pseudo-checkbox",4),2&i){const t=d.oxw();d.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function t2(i,e){if(1&i&&(d.TgZ(0,"span",5),d._uU(1),d.qZA()),2&i){const t=d.oxw();d.xp6(1),d.hij("(",t.group.label,")")}}const n2=["*"],kk=new d.GfV("12.2.5"),o2=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ih,us=(()=>{class i{constructor(t,o,s){this._hasDoneGlobalChecks=!1,this._document=s,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checkIsEnabled(t){return!(!(0,d.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const o=getComputedStyle(t);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&kk.full!==PP.full&&console.warn("The Angular Material version ("+kk.full+") does not match the Angular CDK version ("+PP.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(OP),d.LFG(o2,8),d.LFG($))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Tb],Tb]}),i})();function s2(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=$n(e)}}}function a2(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function u2(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=$n(e)}}}function l2(i){return class extends i{constructor(...e){super(...e),this.stateChanges=new pt.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==e&&(this.errorState=c,this.stateChanges.next())}}}try{Ih="undefined"!=typeof Intl}catch(i){Ih=!1}let Nk=(()=>{class i{isErrorState(t,o){return!!(t&&t.invalid&&(t.touched||o&&o.submitted))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=d.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();class w2{constructor(e,t,o){this._renderer=e,this.element=t,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Lk={enterDuration:225,exitDuration:150},p1=pT({passive:!0}),Vk=["mousedown","touchstart"],Uk=["mouseup","mouseleave","touchend","touchcancel"];class E2{constructor(e,t,o,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Zi(o))}fadeInRipple(e,t,o={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},Lk),o.animation);o.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const f=o.radius||function(i,e,t){const o=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(o*o+s*s)}(e,t,s),m=e-s.left,_=t-s.top,b=c.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=m-f+"px",C.style.top=_-f+"px",C.style.height=2*f+"px",C.style.width=2*f+"px",null!=o.color&&(C.style.backgroundColor=o.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C),function(i){window.getComputedStyle(i).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const D=new w2(this,C,o);return D.state=0,this._activeRipples.add(D),o.persistent||(this._mostRecentTransientRipple=D),this._runTimeoutOutsideZone(()=>{const S=D===this._mostRecentTransientRipple;D.state=1,!o.persistent&&(!S||!this._isPointerDown)&&D.fadeOut()},b),D}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const o=e.element,s=Object.assign(Object.assign({},Lk),e.config.animation);o.style.transitionDuration=`${s.exitDuration}ms`,o.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,o.parentNode.removeChild(o)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Zi(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Vk))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Uk),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=function(i){return 0===i.offsetX&&0===i.offsetY}(e),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,p1)})})}_removeTriggerEvents(){this._triggerElement&&(Vk.forEach(e=>{this._triggerElement.removeEventListener(e,this,p1)}),this._pointerUpEventsRegistered&&Uk.forEach(e=>{this._triggerElement.removeEventListener(e,this,p1)}))}}const S2=new d.OlP("mat-ripple-global-options");let A2=(()=>{class i{constructor(t,o,s,c,f){this._elementRef=t,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new E2(this,o,t,s)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Yt),d.Y36(S2,8),d.Y36(Ib,8))},i.\u0275dir=d.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){2&t&&d.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),i})(),I2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[us,Cb],us]}),i})(),M2=(()=>{class i{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(Ib,8))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,o){2&t&&d.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===o.state)("mat-pseudo-checkbox-checked","checked"===o.state)("mat-pseudo-checkbox-disabled",o.disabled)("_mat-animation-noopable","NoopAnimations"===o._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,o){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),R2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[us]]}),i})();const g1=new d.OlP("MAT_OPTION_PARENT_COMPONENT"),O2=s2(class{});let x2=0,Bk=(()=>{class i extends O2{constructor(t){var o;super(),this._labelId="mat-optgroup-label-"+x2++,this._inert=null!==(o=null==t?void 0:t.inertGroups)&&void 0!==o&&o}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(g1,8))},i.\u0275dir=d.lG2({type:i,inputs:{label:"label"},features:[d.qOj]}),i})();const m1=new d.OlP("MatOptgroup");let P2=0;class jk{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let k2=(()=>{class i{constructor(t,o,s,c){this._element=t,this._changeDetectorRef=o,this._parent=s,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+P2++,this.onSelectionChange=new d.vpe,this._stateChanges=new pt.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=$n(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,o){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(o)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Cg(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new jk(this,t))}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(void 0),d.Y36(Bk))},i.\u0275dir=d.lG2({type:i,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),Hk=(()=>{class i extends k2{constructor(t,o,s,c){super(t,o,s,c)}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(g1,8),d.Y36(m1,8))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,o){1&t&&d.NdJ("click",function(){return o._selectViaInteraction()})("keydown",function(c){return o._handleKeydown(c)}),2&t&&(d.Ikx("id",o.id),d.uIk("tabindex",o._getTabIndex())("aria-selected",o._getAriaSelected())("aria-disabled",o.disabled.toString()),d.ekj("mat-selected",o.selected)("mat-option-multiple",o.multiple)("mat-active",o.active)("mat-option-disabled",o.disabled))},exportAs:["matOption"],features:[d.qOj],ngContentSelectors:n2,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,o){1&t&&(d.F$t(),d.YNc(0,e2,1,2,"mat-pseudo-checkbox",0),d.TgZ(1,"span",1),d.Hsn(2),d.qZA(),d.YNc(3,t2,2,1,"span",2),d._UZ(4,"div",3)),2&t&&(d.Q6J("ngIf",o.multiple),d.xp6(3),d.Q6J("ngIf",o.group&&o.group._inert),d.xp6(1),d.Q6J("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},directives:[ur,A2,M2],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})(),Gk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[I2,Ug,us,R2]]}),i})();var L2=P(9105);function nc(i,e,t,o){return(0,L2.m)(t)&&(o=t,t=void 0),o?nc(i,e,t).pipe((0,He.U)(s=>(0,ra.k)(s)?o(...s):o(s))):new Dn.y(s=>{qk(i,e,function(f){s.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},s,t)})}function qk(i,e,t,o,s){let c;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const f=i;i.addEventListener(e,t,s),c=()=>f.removeEventListener(e,t,s)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const f=i;i.on(e,t),c=()=>f.off(e,t)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const f=i;i.addListener(e,t),c=()=>f.removeListener(e,t)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let f=0,m=i.length;f<m;f++)qk(i[f],e,t,o,s)}o.add(c)}const j2=["underline"],H2=["connectionContainer"],G2=["inputContainer"],q2=["label"];function z2(i,e){1&i&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15),d._UZ(3,"div",16),d._UZ(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15),d._UZ(7,"div",16),d._UZ(8,"div",17),d.qZA(),d.BQk())}function $2(i,e){1&i&&(d.TgZ(0,"div",19),d.Hsn(1,1),d.qZA())}function Z2(i,e){if(1&i&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&i){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function Y2(i,e){1&i&&d.Hsn(0,3,["*ngSwitchCase","true"])}function W2(i,e){1&i&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function K2(i,e){if(1&i){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.YNc(2,Z2,4,1,"ng-container",12),d.YNc(3,Y2,1,0,"ng-content",12),d.YNc(4,W2,2,0,"span",22),d.qZA()}if(2&i){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Q2(i,e){1&i&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function J2(i,e){if(1&i&&(d.TgZ(0,"div",25,26),d._UZ(2,"span",27),d.qZA()),2&i){const t=d.oxw();d.xp6(2),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function X2(i,e){if(1&i&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&i){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function eU(i,e){if(1&i&&(d.TgZ(0,"div",31),d._uU(1),d.qZA()),2&i){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function tU(i,e){if(1&i&&(d.TgZ(0,"div",28),d.YNc(1,eU,2,2,"div",29),d.Hsn(2,6),d._UZ(3,"div",30),d.Hsn(4,7),d.qZA()),2&i){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const nU=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],rU=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],zk=new d.OlP("MatError"),oU={transitionMessages:TL("transitionMessages",[AL("enter",yT({opacity:1,transform:"translateY(0%)"})),IL("void => enter",[yT({opacity:0,transform:"translateY(-5px)"}),SL("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let y1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=d.lG2({type:i}),i})();const $k=new d.OlP("MatHint");let _1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=d.lG2({type:i,selectors:[["mat-label"]]}),i})(),aU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=d.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const Zk=new d.OlP("MatPrefix"),Yk=new d.OlP("MatSuffix");let Wk=0;const lU=a2(class{constructor(i){this._elementRef=i}},"primary"),cU=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),v1=new d.OlP("MatFormField");let dU=(()=>{class i extends lU{constructor(t,o,s,c,f,m,_,b){super(t),this._changeDetectorRef=o,this._dir=c,this._defaults=f,this._platform=m,this._ngZone=_,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new pt.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Wk++,this._labelId="mat-form-field-label-"+Wk++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const o=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=$n(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ro(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(lu(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(lu(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ql.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ro(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ro(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(lu(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const o=this._control?this._control.ngControl:null;return o&&o[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,nc(this._label.nativeElement,"transitionend").pipe(gs(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const o=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,s=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,s=0;const c=this._connectionContainerRef.nativeElement,f=c.querySelectorAll(".mat-form-field-outline-start"),m=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const _=c.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const b=this._getStartEnd(_),C=t.children,D=this._getStartEnd(C[0].getBoundingClientRect());let S=0;for(let I=0;I<C.length;I++)S+=C[I].offsetWidth;o=Math.abs(D-b)-5,s=S>0?.75*S+10:0}for(let _=0;_<f.length;_++)f[_].style.width=`${o}px`;for(let _=0;_<m.length;_++)m[_].style.width=`${s}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const o=t.getRootNode();return o&&o!==t}return document.documentElement.contains(t)}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(Eh,8),d.Y36(cU,8),d.Y36(Yt),d.Y36(d.R0b),d.Y36(Ib,8))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(t,o,s){if(1&t&&(d.Suo(s,y1,5),d.Suo(s,y1,7),d.Suo(s,_1,5),d.Suo(s,_1,7),d.Suo(s,aU,5),d.Suo(s,zk,5),d.Suo(s,$k,5),d.Suo(s,Zk,5),d.Suo(s,Yk,5)),2&t){let c;d.iGM(c=d.CRH())&&(o._controlNonStatic=c.first),d.iGM(c=d.CRH())&&(o._controlStatic=c.first),d.iGM(c=d.CRH())&&(o._labelChildNonStatic=c.first),d.iGM(c=d.CRH())&&(o._labelChildStatic=c.first),d.iGM(c=d.CRH())&&(o._placeholderChild=c.first),d.iGM(c=d.CRH())&&(o._errorChildren=c),d.iGM(c=d.CRH())&&(o._hintChildren=c),d.iGM(c=d.CRH())&&(o._prefixChildren=c),d.iGM(c=d.CRH())&&(o._suffixChildren=c)}},viewQuery:function(t,o){if(1&t&&(d.Gf(j2,5),d.Gf(H2,7),d.Gf(G2,5),d.Gf(q2,5)),2&t){let s;d.iGM(s=d.CRH())&&(o.underlineRef=s.first),d.iGM(s=d.CRH())&&(o._connectionContainerRef=s.first),d.iGM(s=d.CRH())&&(o._inputContainerRef=s.first),d.iGM(s=d.CRH())&&(o._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,o){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==o.appearance)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-appearance-legacy","legacy"==o.appearance)("mat-form-field-invalid",o._control.errorState)("mat-form-field-can-float",o._canLabelFloat())("mat-form-field-should-float",o._shouldLabelFloat())("mat-form-field-has-label",o._hasFloatingLabel())("mat-form-field-hide-placeholder",o._hideControlPlaceholder())("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-focused",o._control.focused)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))("_mat-animation-noopable",!o._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:v1,useExisting:i}]),d.qOj],ngContentSelectors:rU,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,o){1&t&&(d.F$t(nU),d.TgZ(0,"div",0),d.TgZ(1,"div",1,2),d.NdJ("click",function(c){return o._control.onContainerClick&&o._control.onContainerClick(c)}),d.YNc(3,z2,9,0,"ng-container",3),d.YNc(4,$2,2,0,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,K2,5,16,"label",8),d.qZA(),d.qZA(),d.YNc(10,Q2,2,0,"div",9),d.qZA(),d.YNc(11,J2,3,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,X2,2,1,"div",12),d.YNc(14,tU,5,2,"div",13),d.qZA(),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==o.appearance),d.xp6(1),d.Q6J("ngIf",o._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",o._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",o._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=o.appearance),d.xp6(1),d.Q6J("ngSwitch",o._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},directives:[ur,gc,yu,Yi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[oU.transitionMessages]},changeDetection:0}),i})(),b1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Ug,us,vR],us]}),i})();class fU{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new pU(e,this.durationSelector))}}class pU extends cr.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:s}=this;t=s(e)}catch(s){return this.destination.error(s)}const o=(0,cr.ft)(t,new cr.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:e,hasValue:t,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Qk=P(6561);function mU(i){const{index:e,period:t,subscriber:o}=i;if(o.next(e),!o.closed){if(-1===t)return o.complete();i.index=e+1,this.schedule(i,t)}}function VT(i,e=Xc.P){return function(i){return function(t){return t.lift(new fU(i))}}(()=>function(i=0,e,t){let o=-1;return(0,Qk.k)(e)?o=Number(e)<1?1:Number(e):(0,Tu.K)(e)&&(t=e),(0,Tu.K)(t)||(t=Xc.P),new Dn.y(s=>{const c=(0,Qk.k)(i)?i:+i-t.now();return t.schedule(mU,c,{index:0,period:o,subscriber:s})})}(i,e))}const Jk=pT({passive:!0});let Xk=(()=>{class i{constructor(t,o){this._platform=t,this._ngZone=o,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ii.E;const o=Zi(t),s=this._monitoredElements.get(o);if(s)return s.subject;const c=new pt.xQ,f="cdk-text-field-autofilled",m=_=>{"cdk-text-field-autofill-start"!==_.animationName||o.classList.contains(f)?"cdk-text-field-autofill-end"===_.animationName&&o.classList.contains(f)&&(o.classList.remove(f),this._ngZone.run(()=>c.next({target:_.target,isAutofilled:!1}))):(o.classList.add(f),this._ngZone.run(()=>c.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",m,Jk),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:c,unlisten:()=>{o.removeEventListener("animationstart",m,Jk)}}),c}stopMonitoring(t){const o=Zi(t),s=this._monitoredElements.get(o);s&&(s.unlisten(),s.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((t,o)=>this.stopMonitoring(o))}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(Yt),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Yt),d.LFG(d.R0b))},token:i,providedIn:"root"}),i})(),eF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Cb]]}),i})();const _U=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),vU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let bU=0;const wU=l2(class{constructor(i,e,t,o){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=t,this.ngControl=o}});let CU=(()=>{class i extends wU{constructor(t,o,s,c,f,m,_,b,C,D){super(m,c,f,s),this._elementRef=t,this._platform=o,this._autofillMonitor=b,this._formField=D,this._uid="mat-input-"+bU++,this.focused=!1,this.stateChanges=new pt.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>pP().has(O));const S=this._elementRef.nativeElement,I=S.nodeName.toLowerCase();this._inputValueAccessor=_||S,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",O=>{const N=O.target;!N.value&&0===N.selectionStart&&0===N.selectionEnd&&(N.setSelectionRange(1,1),N.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===I,this._isTextarea="textarea"===I,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=S.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=$n(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=$n(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&pP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=$n(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,o;const s=(null===(o=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===o?void 0:o.call(t))?null:this.placeholder;if(s!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=s,s?c.setAttribute("placeholder",s):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){vU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,o=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.SBq),d.Y36(Yt),d.Y36(ss,10),d.Y36(Jl,8),d.Y36(ph,8),d.Y36(Nk),d.Y36(_U,10),d.Y36(Xk),d.Y36(d.R0b),d.Y36(v1,8))},i.\u0275dir=d.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,o){1&t&&d.NdJ("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&t&&(d.Ikx("disabled",o.disabled)("required",o.required),d.uIk("id",o.id)("data-placeholder",o.placeholder)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required),d.ekj("mat-input-server",o._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[d._Bn([{provide:y1,useExisting:i}]),d.qOj,d.TTD]}),i})(),EU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[Nk],imports:[[eF,b1,us],eF,b1]}),i})();var DU=P(6465),SU=P(6102);new class extends SU.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let o,s=-1,c=t.length;e=e||t.shift();do{if(o=e.execute(e.state,e.delay))break}while(++s<c&&(e=t.shift()));if(this.active=!1,o){for(;++s<c&&(e=t.shift());)e.unsubscribe();throw o}}}(class extends DU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(e,t,o);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});P(4581);let UT=(()=>{class i{constructor(t,o,s){this._ngZone=t,this._platform=o,this._scrolled=new pt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Dn.y(o=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(VT(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ve.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const s=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(Pr(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,t)&&o.push(c)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let s=Zi(o),c=t.getElementRef().nativeElement;do{if(s==c)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>nc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(d.R0b),d.LFG(Yt),d.LFG($,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(d.R0b),d.LFG(Yt),d.LFG($,8))},token:i,providedIn:"root"}),i})(),Mg=(()=>{class i{constructor(t,o,s){this._platform=t,this._change=new pt.xQ,this._changeListener=c=>{this._change.next(c)},this._document=s,o.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+o,height:s,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),s=t.documentElement,c=s.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||o.scrollY||s.scrollTop||0,left:-c.left||t.body.scrollLeft||o.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(VT(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(Yt),d.LFG(d.R0b),d.LFG($,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Yt),d.LFG(d.R0b),d.LFG($,8))},token:i,providedIn:"root"}),i})(),w1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),sF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Tb,Cb,w1],Tb,w1]}),i})();class C1{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class GU extends C1{constructor(e,t,o,s){super(),this.component=e,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=s}}class BT extends C1{constructor(e,t,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class qU extends C1{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class zU extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof GU?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof BT?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof qU?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,o,s,c){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=s,this.attachDomPortal=f=>{const m=f.element,_=this._document.createComment("dom-portal");m.parentNode.insertBefore(_,m),this.outletElement.appendChild(m),this._attachedPortal=f,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(m,_)})},this._document=c}attachComponentPortal(e){const o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(o,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=o.create(e.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,o=t.createEmbeddedView(e.templateRef,e.context);return o.rootNodes.forEach(s=>this.outletElement.appendChild(s)),o.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(o);-1!==s&&t.remove(s)}),this._attachedPortal=e,o}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let $U=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const cF=gP();class KU{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Fn(-this._previousScrollPosition.left),e.style.top=Fn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,o=e.style,s=this._document.body.style,c=o.scrollBehavior||"",f=s.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),cF&&(o.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),cF&&(o.scrollBehavior=c,s.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class QU{constructor(e,t,o,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=o,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class dF{enable(){}disable(){}attach(){}}function E1(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function hF(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class JU{constructor(e,t,o,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:s}=this._viewportRuler.getViewportSize();E1(t,[{width:o,height:s,bottom:s,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let XU=(()=>{class i{constructor(t,o,s,c){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=s,this.noop=()=>new dF,this.close=f=>new QU(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new KU(this._viewportRuler,this._document),this.reposition=f=>new JU(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=c}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(UT),d.LFG(Mg),d.LFG(d.R0b),d.LFG($))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(UT),d.LFG(Mg),d.LFG(d.R0b),d.LFG($))},token:i,providedIn:"root"}),i})();class D1{constructor(e){if(this.scrollStrategy=new dF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const o of t)void 0!==e[o]&&(this[o]=e[o])}}}class eB{constructor(e,t,o,s,c){this.offsetX=o,this.offsetY=s,this.panelClass=c,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class tB{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let fF=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG($))},token:i,providedIn:"root"}),i})(),nB=(()=>{class i extends fF{constructor(t){super(t),this._keydownListener=o=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){s[c]._keydownEvents.next(o);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG($))},token:i,providedIn:"root"}),i})(),rB=(()=>{class i extends fF{constructor(t,o){super(t),this._platform=o,this._cursorStyleIsSet=!1,this._clickListener=s=>{const c=Ch(s),f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const _=f[m];if(!(_._outsidePointerEvents.observers.length<1)&&_.hasAttached()){if(_.overlayElement.contains(c))break;_._outsidePointerEvents.next(s)}}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($),d.LFG(Yt))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG($),d.LFG(Yt))},token:i,providedIn:"root"}),i})();const rc="undefined"!=typeof window?window:{},pF=void 0!==rc.__karma__&&!!rc.__karma__||void 0!==rc.jasmine&&!!rc.jasmine||void 0!==rc.jest&&!!rc.jest||void 0!==rc.Mocha&&!!rc.Mocha;let T1=(()=>{class i{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||pF){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].parentNode.removeChild(s[c])}const o=this._document.createElement("div");o.classList.add(t),pF?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($),d.LFG(Yt))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG($),d.LFG(Yt))},token:i,providedIn:"root"}),i})();class iB{constructor(e,t,o,s,c,f,m,_,b){this._portalOutlet=e,this._host=t,this._pane=o,this._config=s,this._ngZone=c,this._keyboardDispatcher=f,this._document=m,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new pt.xQ,this._attachments=new pt.xQ,this._detachments=new pt.xQ,this._locationChanges=Ri.w.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._keydownEvents=new pt.xQ,this._outsidePointerEvents=new pt.xQ,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Fn(this._config.width),e.height=Fn(this._config.height),e.minWidth=Fn(this._config.minWidth),e.minHeight=Fn(this._config.minHeight),e.maxWidth=Fn(this._config.maxWidth),e.maxHeight=Fn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(!e)return;let t,o=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",o),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",o)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(e,t,o){const s=e.classList;gR(t).forEach(c=>{c&&(o?s.add(c):s.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(lu((0,ql.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const gF="cdk-overlay-connected-position-bounding-box",oB=/([A-Za-z%]+)$/;class mF{constructor(e,t,o,s,c){this._viewportRuler=t,this._document=o,this._platform=s,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pt.xQ,this._resizeSubscription=Ri.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(gF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,o=this._viewportRect,s=[];let c;for(let f of this._preferredPositions){let m=this._getOriginPoint(e,f),_=this._getOverlayPoint(m,t,f),b=this._getOverlayFit(_,t,o,f);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,m);this._canFitWithFlexibleDimensions(b,_,o)?s.push({position:f,origin:m,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(m,f)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:m,position:f,overlayRect:t})}if(s.length){let f=null,m=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>m&&(m=b,f=_)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let o,s;if("center"==t.originX)o=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;o="start"==t.originX?c:f}return s="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:o,y:s}}_getOverlayPoint(e,t,o){let s,c;return s="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,c="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:e.x+s,y:e.y+c}}_getOverlayFit(e,t,o,s){const c=_F(t);let{x:f,y:m}=e,_=this._getOffset(s,"x"),b=this._getOffset(s,"y");_&&(f+=_),b&&(m+=b);let S=0-m,I=m+c.height-o.height,O=this._subtractOverflows(c.width,0-f,f+c.width-o.width),N=this._subtractOverflows(c.height,S,I),G=O*N;return{visibleArea:G,isCompletelyWithinViewport:c.width*c.height===G,fitsInViewportVertically:N===c.height,fitsInViewportHorizontally:O==c.width}}_canFitWithFlexibleDimensions(e,t,o){if(this._hasFlexibleDimensions){const s=o.bottom-t.y,c=o.right-t.x,f=yF(this._overlayRef.getConfig().minHeight),m=yF(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=m&&m<=c;return(e.fitsInViewportVertically||null!=f&&f<=s)&&b}return!1}_pushOverlayOnScreen(e,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=_F(t),c=this._viewportRect,f=Math.max(e.x+s.width-c.width,0),m=Math.max(e.y+s.height-c.height,0),_=Math.max(c.top-o.top-e.y,0),b=Math.max(c.left-o.left-e.x,0);let C=0,D=0;return C=s.width<=c.width?b||-f:e.x<this._viewportMargin?c.left-o.left-e.x:0,D=s.height<=c.height?_||-m:e.y<this._viewportMargin?c.top-o.top-e.y:0,this._previousPushAmount={x:C,y:D},{x:e.x+C,y:e.y+D}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const o=this._getScrollVisibility(),s=new tB(e,o);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,s=e.overlayY;o="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let c=0;c<t.length;c++)t[c].style.transformOrigin=`${o} ${s}`}_calculateBoundingBoxRect(e,t){const o=this._viewportRect,s=this._isRtl();let c,f,m,C,D,S;if("top"===t.overlayY)f=e.y,c=o.height-f+this._viewportMargin;else if("bottom"===t.overlayY)m=o.height-e.y+2*this._viewportMargin,c=o.height-m+this._viewportMargin;else{const I=Math.min(o.bottom-e.y+o.top,e.y),O=this._lastBoundingBoxSize.height;c=2*I,f=e.y-I,c>O&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.y-O/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)S=o.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)D=e.x,C=o.right-e.x;else{const I=Math.min(o.right-e.x+o.left,e.x),O=this._lastBoundingBoxSize.width;C=2*I,D=e.x-I,C>O&&!this._isInitialRender&&!this._growAfterOpen&&(D=e.x-O/2)}return{top:f,left:D,bottom:m,right:S,width:C,height:c}}_setBoundingBoxStyles(e,t){const o=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;s.height=Fn(o.height),s.top=Fn(o.top),s.bottom=Fn(o.bottom),s.width=Fn(o.width),s.left=Fn(o.left),s.right=Fn(o.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",c&&(s.maxHeight=Fn(c)),f&&(s.maxWidth=Fn(f))}this._lastBoundingBoxSize=o,Mh(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Mh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const o={},s=this._hasExactPosition(),c=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(s){const C=this._viewportRuler.getViewportScrollPosition();Mh(o,this._getExactOverlayY(t,e,C)),Mh(o,this._getExactOverlayX(t,e,C))}else o.position="static";let m="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(m+=`translateX(${_}px) `),b&&(m+=`translateY(${b}px)`),o.transform=m.trim(),f.maxHeight&&(s?o.maxHeight=Fn(f.maxHeight):c&&(o.maxHeight="")),f.maxWidth&&(s?o.maxWidth=Fn(f.maxWidth):c&&(o.maxWidth="")),Mh(this._pane.style,o)}_getExactOverlayY(e,t,o){let s={top:"",bottom:""},c=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=f,"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":s.top=Fn(c.y),s}_getExactOverlayX(e,t,o){let f,s={left:"",right:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o)),f=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===f?s.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":s.left=Fn(c.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hF(e,o),isOriginOutsideView:E1(e,o),isOverlayClipped:hF(t,o),isOverlayOutsideView:E1(t,o)}}_subtractOverflows(e,...t){return t.reduce((o,s)=>o-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+e-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&gR(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,o=e.height||0;return{top:e.y,bottom:e.y+o,left:e.x,right:e.x+t,height:o,width:t}}}function Mh(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function yF(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(oB);return t&&"px"!==t?null:parseFloat(e)}return i||null}function _F(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}class sB{constructor(e,t,o,s,c,f,m){this._preferredPositions=[],this._positionStrategy=new mF(o,s,c,f,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,o,s){const c=new eB(e,t,o,s);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const vF="cdk-global-overlay-wrapper";class aB{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(vF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:s,height:c,maxWidth:f,maxHeight:m}=o,_=!("100%"!==s&&"100vw"!==s||f&&"100%"!==f&&"100vw"!==f),b=!("100%"!==c&&"100vh"!==c||m&&"100%"!==m&&"100vh"!==m);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(vF),o.justifyContent=o.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let uB=(()=>{class i{constructor(t,o,s,c){this._viewportRuler=t,this._document=o,this._platform=s,this._overlayContainer=c}global(){return new aB}connectedTo(t,o,s){return new sB(o,s,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new mF(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(Mg),d.LFG($),d.LFG(Yt),d.LFG(T1))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Mg),d.LFG($),d.LFG(Yt),d.LFG(T1))},token:i,providedIn:"root"}),i})(),lB=0,Rb=(()=>{class i{constructor(t,o,s,c,f,m,_,b,C,D,S){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=f,this._injector=m,this._ngZone=_,this._document=b,this._directionality=C,this._location=D,this._outsideClickDispatcher=S}create(t){const o=this._createHostElement(),s=this._createPaneElement(o),c=this._createPortalOutlet(s),f=new D1(t);return f.direction=f.direction||this._directionality.value,new iB(c,o,s,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+lB++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new zU(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(XU),d.LFG(T1),d.LFG(d._Vd),d.LFG(uB),d.LFG(nB),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG($),d.LFG(Eh),d.LFG(lt),d.LFG(rB))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const hB={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Rb],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let fB=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[Rb,hB],imports:[[Tb,$U,sF],sF]}),i})();var wF=P(1593);class mB{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new S1(e,this.delay,this.scheduler))}}class S1 extends Nn.L{constructor(e,t,o){super(e),this.delay=t,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,o=t.queue,s=e.scheduler,c=e.destination;for(;o.length>0&&o[0].time-s.now()<=0;)o.shift().notification.observe(c);if(o.length>0){const f=Math.max(0,o[0].time-s.now());this.schedule(e,f)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(S1.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,o=new yB(t.now()+this.delay,e);this.queue.push(o),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(wF.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(wF.P.createComplete()),this.unsubscribe()}}class yB{constructor(e,t){this.time=e,this.notification=t}}const _B=["panel"];function vB(i,e){if(1&i&&(d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA()),2&i){const t=e.id,o=d.oxw();d.Q6J("id",o.id)("ngClass",o._classList),d.uIk("aria-label",o.ariaLabel||null)("aria-labelledby",o._getPanelAriaLabelledby(t))}}const bB=["*"];let wB=0;class CB{constructor(e,t){this.source=e,this.option=t}}const EB=u2(class{}),CF=new d.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let TB=(()=>{class i extends EB{constructor(t,o,s,c){super(),this._changeDetectorRef=t,this._elementRef=o,this._activeOptionChanges=Ri.w.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new d.vpe,this.opened=new d.vpe,this.closed=new d.vpe,this.optionActivated=new d.vpe,this._classList={},this.id="mat-autocomplete-"+wB++,this.inertGroups=(null==c?void 0:c.SAFARI)||!1,this._autoActiveFirstOption=!!s.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=$n(t)}set classList(t){this._classList=t&&t.length?function(i,e=/\s+/){const t=[];if(null!=i){const o=Array.isArray(i)?i:`${i}`.split(e);for(const s of o){const c=`${s}`.trim();c&&t.push(c)}}return t}(t).reduce((o,s)=>(o[s]=!0,o),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new nL(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const o=new CB(this,t);this.optionSelected.emit(o)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(CF),d.Y36(Yt))},i.\u0275dir=d.lG2({type:i,viewQuery:function(t,o){if(1&t&&(d.Gf(d.Rgc,7),d.Gf(_B,5)),2&t){let s;d.iGM(s=d.CRH())&&(o.template=s.first),d.iGM(s=d.CRH())&&(o.panel=s.first)}},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[d.qOj]}),i})(),SB=(()=>{class i extends TB{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=d.n5z(i)))(o||i)}}(),i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-autocomplete"]],contentQueries:function(t,o,s){if(1&t&&(d.Suo(s,m1,5),d.Suo(s,Hk,5)),2&t){let c;d.iGM(c=d.CRH())&&(o.optionGroups=c),d.iGM(c=d.CRH())&&(o.options=c)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[d._Bn([{provide:g1,useExisting:i}]),d.qOj],ngContentSelectors:bB,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,o){1&t&&(d.F$t(),d.YNc(0,vB,3,4,"ng-template"))},directives:[Oo],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),i})();const EF=new d.OlP("mat-autocomplete-scroll-strategy"),MB={provide:EF,deps:[Rb],useFactory:function(i){return()=>i.scrollStrategies.reposition()}},RB={provide:Eo,useExisting:(0,d.Gpc)(()=>DF),multi:!0};let OB=(()=>{class i{constructor(t,o,s,c,f,m,_,b,C,D,S){this._element=t,this._overlay=o,this._viewContainerRef=s,this._zone=c,this._changeDetectorRef=f,this._dir=_,this._formField=b,this._document=C,this._viewportRuler=D,this._defaults=S,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Ri.w.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new pt.xQ,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=ps(()=>this.autocomplete&&this.autocomplete.options?(0,ql.T)(...this.autocomplete.options.map(I=>I.onSelectionChange)):this._zone.onStable.pipe(gs(1),Wt(()=>this.optionSelections))),this._scrollStrategy=m}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=$n(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,ql.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Pr(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Pr(()=>this._overlayAttached)):(0,Ve.of)()).pipe((0,He.U)(t=>t instanceof jk?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,ql.T)(nc(this._document,"click"),nc(this._document,"auxclick"),nc(this._document,"touchend")).pipe(Pr(t=>{const o=Ch(t),s=this._formField?this._formField._elementRef.nativeElement:null,c=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&o!==this._element.nativeElement&&(!s||!s.contains(o))&&(!c||!c.contains(o))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(o)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const o=t.keyCode;if(27===o&&!Cg(t)&&t.preventDefault(),this.activeOption&&13===o&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,c=38===o||40===o;this.panelOpen||9===o?this.autocomplete._keyManager.onKeydown(t):c&&this._canOpen()&&this.openPanel(),(c||this.autocomplete._keyManager.activeItem!==s)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(t){let o=t.target,s=o.value;"number"===o.type&&(s=""==s?null:parseFloat(s)),this._previousValue!==s&&(this._previousValue=s,this._onChange(s),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe(gs(1)),o=this.autocomplete.options.changes.pipe((0,dr.b)(()=>this._positionStrategy.reapplyLastPosition()),function(i,e=Xc.P){const o=function(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-e.now():Math.abs(i);return s=>s.lift(new mB(o,e))}(0));return(0,ql.T)(t,o).pipe(Wt(()=>{const s=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),s!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),gs(1)).subscribe(s=>this._setValueAndClose(s))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const o=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,s=null!=o?o:"";this._formField?this._formField._control.value=s:this._element.nativeElement.value=s,this._previousValue=s}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(o=>{o!==t&&o.selected&&o.deselect()})}_attachOverlay(){var t;let o=this._overlayRef;o?(this._positionStrategy.setOrigin(this._getConnectedElement()),o.updateSize({width:this._getPanelWidth()})):(this._portal=new BT(this.autocomplete.template,this._viewContainerRef,{id:null===(t=this._formField)||void 0===t?void 0:t.getLabelId()}),o=this._overlay.create(this._getOverlayConfig()),this._overlayRef=o,o.keydownEvents().subscribe(c=>{(27===c.keyCode&&!Cg(c)||38===c.keyCode&&Cg(c,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),c.stopPropagation(),c.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&o&&o.updateSize({width:this._getPanelWidth()})})),o&&!o.hasAttached()&&(o.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const s=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&s!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var t;return new D1({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(t=this._defaults)||void 0===t?void 0:t.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const o=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],s=this._aboveClass,c=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:s},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:s}];let f;f="above"===this.position?c:"below"===this.position?o:[...o,...c],t.withPositions(f)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_scrollToOption(t){const o=this.autocomplete,s=function(i,e,t){if(t.length){let o=e.toArray(),s=t.toArray(),c=0;for(let f=0;f<i+1;f++)o[f].group&&o[f].group===s[c]&&c++;return c}return 0}(t,o.options,o.optionGroups);if(0===t&&1===s)o._setScrollTop(0);else if(o.panel){const c=o.options.toArray()[t];if(c){const f=c._getHostElement(),m=function(i,e,t,o){return i<t?i:i+e>t+o?Math.max(0,i-o+e):t}(f.offsetTop,f.offsetHeight,o._getScrollTop(),o.panel.nativeElement.offsetHeight);o._setScrollTop(m)}}}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(d.SBq),d.Y36(Rb),d.Y36(d.s_b),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(EF),d.Y36(Eh,8),d.Y36(v1,9),d.Y36($,8),d.Y36(Mg),d.Y36(CF,8))},i.\u0275dir=d.lG2({type:i,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[d.TTD]}),i})(),DF=(()=>{class i extends OB{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,o){1&t&&d.NdJ("focusin",function(){return o._handleFocus()})("blur",function(){return o._onTouched()})("input",function(c){return o._handleInput(c)})("keydown",function(c){return o._handleKeydown(c)}),2&t&&d.uIk("autocomplete",o.autocompleteAttribute)("role",o.autocompleteDisabled?null:"combobox")("aria-autocomplete",o.autocompleteDisabled?null:"list")("aria-activedescendant",o.panelOpen&&o.activeOption?o.activeOption.id:null)("aria-expanded",o.autocompleteDisabled?null:o.panelOpen.toString())("aria-owns",o.autocompleteDisabled||!o.panelOpen||null==o.autocomplete?null:o.autocomplete.id)("aria-haspopup",!o.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[d._Bn([RB]),d.qOj]}),i})(),xB=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[MB],imports:[[fB,Gk,us,Ug],w1,Gk,us]}),i})();function TF(i,e,t,o,s,c,f){try{var m=i[c](f),_=m.value}catch(b){return void t(b)}m.done?e(_):Promise.resolve(_).then(o,s)}function PB(i){return function(){var e=this,t=arguments;return new Promise(function(o,s){var c=i.apply(e,t);function f(_){TF(c,o,s,f,m,"next",_)}function m(_){TF(c,o,s,f,m,"throw",_)}f(void 0)})}}var SF="firebasestorage.googleapis.com",AF="storageBucket",Yn=function(i){function e(t,o){var s=i.call(this,A1(t),"Firebase Storage: "+o+" ("+A1(t)+")")||this;return s.customData={serverResponse:null},s._baseMessage=s.message,Object.setPrototypeOf(s,e.prototype),s}return(0,M.ZT)(e,i),e.prototype._codeEquals=function(t){return A1(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(ut.ZR);function A1(i){return"storage/"+i}function I1(){return new Yn("unknown","An unknown error occurred, please check the error payload for server response.")}function IF(){return new Yn("canceled","User canceled the upload/download.")}function MF(){return new Yn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Rg(i){return new Yn("invalid-argument",i)}function RF(){return new Yn("app-deleted","The Firebase app was deleted.")}function OF(i){return new Yn("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ob(i,e){return new Yn("invalid-format","String does not match format '"+i+"': "+e)}function jT(i){throw new Yn("internal-error","Internal error: "+i)}var So={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},M1=function(e,t){this.data=e,this.contentType=t||null};function xF(i,e){switch(i){case So.RAW:return new M1(PF(e));case So.BASE64:case So.BASE64URL:return new M1(kF(i,e));case So.DATA_URL:return new M1(function(i){var e=new FF(i);return e.base64?kF(So.BASE64,e.rest):function(i){var e;try{e=decodeURIComponent(i)}catch(t){throw Ob(So.DATA_URL,"Malformed data URL.")}return PF(e)}(e.rest)}(e),function(i){return new FF(i).contentType}(e))}throw I1()}function PF(i){for(var e=[],t=0;t<i.length;t++){var o=i.charCodeAt(t);if(o<=127)e.push(o);else if(o<=2047)e.push(192|o>>6,128|63&o);else if(55296==(64512&o))if(t<i.length-1&&56320==(64512&i.charCodeAt(t+1))){var c=o,f=i.charCodeAt(++t);e.push(240|(o=65536|(1023&c)<<10|1023&f)>>18,128|o>>12&63,128|o>>6&63,128|63&o)}else e.push(239,191,189);else 56320==(64512&o)?e.push(239,191,189):e.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(e)}function kF(i,e){switch(i){case So.BASE64:var t=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(t||o)throw Ob(i,"Invalid character '"+(t?"-":"_")+"' found: is it base64url encoded?");break;case So.BASE64URL:var c=-1!==e.indexOf("+"),f=-1!==e.indexOf("/");if(c||f)throw Ob(i,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var m;try{m=function(i){return atob(i)}(e)}catch(C){throw Ob(i,"Invalid character found")}for(var _=new Uint8Array(m.length),b=0;b<m.length;b++)_[b]=m.charCodeAt(b);return _}var FF=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ob(So.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var o=t[1]||null;null!=o&&(this.base64=function(i,e){return i.length>=e.length&&i.substring(i.length-e.length)===e}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=e.substring(e.indexOf(",")+1)},JB={STATE_CHANGED:"state_changed"},ei={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function R1(i){switch(i){case"running":case"pausing":case"canceling":return ei.RUNNING;case"paused":return ei.PAUSED;case"success":return ei.SUCCESS;case"canceled":return ei.CANCELED;case"error":default:return ei.ERROR}}var ic=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(ic||(ic={})),ic))(),XB=function(){function i(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ic.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=ic.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=ic.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return i.prototype.send=function(e,t,o,s){if(this.sent_)throw jT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(var c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_},i.prototype.getErrorCode=function(){if(!this.sent_)throw jT("cannot .getErrorCode() before sending");return this.errorCode_},i.prototype.getStatus=function(){if(!this.sent_)throw jT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},i.prototype.getResponseText=function(){if(!this.sent_)throw jT("cannot .getResponseText() before sending");return this.xhr_.responseText},i.prototype.abort=function(){this.xhr_.abort()},i.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},i.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},i.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},i}(),t3=function(){function i(){}return i.prototype.createConnection=function(){return new XB},i}(),Ao=function(){function i(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(i.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),i.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},i.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},i.makeFromBucketSpec=function(e,t){var o;try{o=i.makeFromUrl(e,t)}catch(s){return new i(e,"")}if(""===o.path)return o;throw function(i){return new Yn("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(e)},i.makeFromUrl=function(e,t){var o=null,s="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+s+"(/(.*))?$","i");function b(qt){qt.path_=decodeURIComponent(qt.path)}for(var D=t.replace(/[.]/g,"\\."),ye=[{regex:m,indices:{bucket:1,path:3},postModify:function(qt){"/"===qt.path.charAt(qt.path.length-1)&&(qt.path_=qt.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+D+"/v[A-Za-z0-9_]+/b/"+s+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp("^https?://"+(t===SF?"(?:storage.googleapis.com|storage.cloud.google.com)":t)+"/"+s+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:b}],De=0;De<ye.length;De++){var Se=ye[De],We=Se.regex.exec(e);if(We){var ir=We[Se.indices.path];ir||(ir=""),o=new i(We[Se.indices.bucket],ir),Se.postModify(o);break}}if(null==o)throw function(i){return new Yn("invalid-url","Invalid URL '"+i+"'.")}(e);return o},i}(),n3=function(){function i(e){this.promise_=Promise.reject(e)}return i.prototype.getPromise=function(){return this.promise_},i.prototype.cancel=function(e){},i}();function HT(i){return"string"==typeof i||i instanceof String}function NF(i){return O1()&&i instanceof Blob}function O1(){return"undefined"!=typeof Blob}function x1(i,e,t,o){if(o<e)throw Rg("Invalid value for '"+i+"'. Expected "+e+" or greater.");if(o>t)throw Rg("Invalid value for '"+i+"'. Expected "+t+" or less.")}function oc(i,e){var t=e.match(/^(\w+):\/\/.+/),s=e;return null==(null==t?void 0:t[1])&&(s="https://"+e),s+"/v0"+i}function LF(i){var e=encodeURIComponent,t="?";for(var o in i)i.hasOwnProperty(o)&&(t=t+(e(o)+"=")+e(i[o])+"&");return t.slice(0,-1)}var u3=function(){function i(e,t,o,s,c,f,m,_,b,C,D){var S=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=o,this.body_=s,this.successCodes_=c.slice(),this.additionalRetryCodes_=f.slice(),this.callback_=m,this.errorCallback_=_,this.progressCallback_=C,this.timeout_=b,this.pool_=D,this.promise_=new Promise(function(I,O){S.resolve_=I,S.reject_=O,S.start_()})}return i.prototype.start_=function(){var e=this;function o(s,c){var f=e.resolve_,m=e.reject_,_=c.connection;if(c.wasSuccessCode)try{var b=e.callback_(_,_.getResponseText());!function(i){return void 0!==i}(b)?f():f(b)}catch(D){m(D)}else if(null!==_)(C=I1()).serverResponse=_.getResponseText(),m(e.errorCallback_?e.errorCallback_(_,C):C);else if(c.canceled)m(C=e.appDelete_?RF():IF());else{var C;m(C=new Yn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?o(0,new GT(!1,null,!0)):this.backoffId_=function(i,e,t){var o=1,s=null,c=!1,f=0;function m(){return 2===f}var _=!1;function b(){for(var O=[],N=0;N<arguments.length;N++)O[N]=arguments[N];_||(_=!0,e.apply(null,O))}function C(O){s=setTimeout(function(){s=null,i(D,m())},O)}function D(O){for(var N=[],G=1;G<arguments.length;G++)N[G-1]=arguments[G];if(!_){if(O)return void b.call.apply(b,(0,M.ev)([null,O],N));var fe;if(m()||c)return void b.call.apply(b,(0,M.ev)([null,O],N));o<64&&(o*=2),1===f?(f=2,fe=0):fe=1e3*(o+Math.random()),C(fe)}}var S=!1;function I(O){S||(S=!0,!_&&(null!==s?(O||(f=2),clearTimeout(s),C(0)):O||(f=1)))}return C(0),setTimeout(function(){c=!0,I(!0)},t),I}(function(s,c){if(c)s(!1,new GT(!1,null,!0));else{var f=e.pool_.createConnection();e.pendingConnection_=f,null!==e.progressCallback_&&f.addUploadProgressListener(m),f.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&f.removeUploadProgressListener(m),e.pendingConnection_=null;var _=f.getErrorCode()===ic.NO_ERROR,b=f.getStatus();if(_&&!e.isRetryStatusCode_(b)){var D=-1!==e.successCodes_.indexOf(b);s(!0,new GT(D,f))}else{var C=f.getErrorCode()===ic.ABORT;s(!1,new GT(!1,null,C))}})}function m(_){null!==e.progressCallback_&&e.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)}},o,this.timeout_)},i.prototype.getPromise=function(){return this.promise_},i.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},i.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,s=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return t||s||c},i}(),GT=function(e,t,o){this.wasSuccessCode=e,this.connection=t,this.canceled=!!o};function p3(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function g3(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=p3();if(void 0!==t){for(var o=new t,s=0;s<i.length;s++)o.append(i[s]);return o.getBlob()}if(O1())return new Blob(i);throw new Yn("unsupported-environment","This browser doesn't seem to support creating Blobs")}var P1=function(){function i(e,t){var o=0,s="";NF(e)?(this.data_=e,o=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),o=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),o=e.length),this.size_=o,this.type_=s}return i.prototype.size=function(){return this.size_},i.prototype.type=function(){return this.type_},i.prototype.slice=function(e,t){if(NF(this.data_)){var s=function(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}(this.data_,e,t);return null===s?null:new i(s)}return new i(new Uint8Array(this.data_.buffer,e,t-e),!0)},i.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(O1()){var o=e.map(function(_){return _ instanceof i?_.data_:_});return new i(g3.apply(null,o))}var s=e.map(function(_){return HT(_)?xF(So.RAW,_).data:_.data_}),c=0;s.forEach(function(_){c+=_.byteLength});var f=new Uint8Array(c),m=0;return s.forEach(function(_){for(var b=0;b<_.length;b++)f[m++]=_[b]}),new i(f,!0)},i.prototype.uploadData=function(){return this.data_},i}();function k1(i){var e;try{e=JSON.parse(i)}catch(t){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(e)?e:null}function VF(i){var e=i.lastIndexOf("/",i.length-2);return-1===e?i:i.slice(e+1)}function v3(i,e){return e}var ti=function(e,t,o,s){this.server=e,this.local=t||e,this.writable=!!o,this.xform=s||v3},qT=null;function zT(){if(qT)return qT;var i=[];i.push(new ti("bucket")),i.push(new ti("generation")),i.push(new ti("metageneration")),i.push(new ti("name","fullPath",!0));var t=new ti("name");t.xform=function(c,f){return function(i){return!HT(i)||i.length<2?i:VF(i)}(f)},i.push(t);var s=new ti("size");return s.xform=function(c,f){return void 0!==f?Number(f):f},i.push(s),i.push(new ti("timeCreated")),i.push(new ti("updated")),i.push(new ti("md5Hash",null,!0)),i.push(new ti("cacheControl",null,!0)),i.push(new ti("contentDisposition",null,!0)),i.push(new ti("contentEncoding",null,!0)),i.push(new ti("contentLanguage",null,!0)),i.push(new ti("contentType",null,!0)),i.push(new ti("metadata","customMetadata",!0)),qT=i}function UF(i,e,t){var o=k1(e);return null===o?null:function(i,e,t){for(var o={type:"file"},s=t.length,c=0;c<s;c++){var f=t[c];o[f.local]=f.xform(o,e[f.server])}return function(i,e){Object.defineProperty(i,"ref",{get:function(){var c=new Ao(i.bucket,i.fullPath);return e._makeStorageReference(c)}})}(o,i),o}(i,o,t)}function F1(i,e){for(var t={},o=e.length,s=0;s<o;s++){var c=e[s];c.writable&&(t[c.server]=i[c.local])}return JSON.stringify(t)}var BF="prefixes";var du=function(e,t,o,s){this.url=e,this.method=t,this.handler=o,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ys(i){if(!i)throw I1()}function $T(i,e){return function(o,s){var c=UF(i,s,e);return Ys(null!==c),c}}function Og(i){return function(t,o){var s;return(s=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new Yn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Yn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(i){return new Yn("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===t.getStatus()?function(i){return new Yn("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):o).serverResponse=o.serverResponse,s}}function ZT(i){var e=Og(i);return function(o,s){var c=e(o,s);return 404===o.getStatus()&&(c=function(i){return new Yn("object-not-found","Object '"+i+"' does not exist.")}(i.path)),c.serverResponse=s.serverResponse,c}}function HF(i,e,t){var s=oc(e.fullServerUrl(),i.host),f=i.maxOperationRetryTime,m=new du(s,"GET",$T(i,t),f);return m.errorHandler=ZT(e),m}function I3(i,e,t,o,s){var c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),o&&(c.pageToken=o),s&&(c.maxResults=s);var m=oc(e.bucketOnlyServerUrl(),i.host),b=i.maxOperationRetryTime,C=new du(m,"GET",function(i,e){return function(o,s){var c=function(i,e,t){var o=k1(t);return null===o?null:function(i,e,t){var o={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[BF])for(var s=0,c=t[BF];s<c.length;s++){var m=c[s].replace(/\/$/,""),_=i._makeStorageReference(new Ao(e,m));o.prefixes.push(_)}if(t.items)for(var b=0,C=t.items;b<C.length;b++)_=i._makeStorageReference(new Ao(e,C[b].name)),o.items.push(_);return o}(i,e,o)}(i,e,s);return Ys(null!==c),c}}(i,e.bucket),b);return C.urlParams=c,C.errorHandler=Og(e),C}function GF(i,e,t){var o=Object.assign({},t);return o.fullPath=i.path,o.size=e.size(),o.contentType||(o.contentType=function(i,e){return e&&e.type()||"application/octet-stream"}(0,e)),o}var YT=function(e,t,o,s){this.current=e,this.total=t,this.finalized=!!o,this.metadata=s||null};function N1(i,e){var t=null;try{t=i.getResponseHeader("X-Goog-Upload-Status")}catch(s){Ys(!1)}return Ys(!!t&&-1!==(e||["active"]).indexOf(t)),t}var L3=function(e,t,o){if(function(i){return"function"==typeof i}(e)||null!=t||null!=o)this.next=e,this.error=t,this.complete=o;else{var c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}};function xg(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Promise.resolve().then(function(){return i.apply(void 0,e)})}}var zF=function(){function i(e,t,o){var s=this;void 0===o&&(o=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=o,this._mappings=zT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(c){s._request=void 0,s._chunkMultiplier=1,c._codeEquals("canceled")?(s._needToFetchStatus=!0,s.completeTransitions_()):(s._error=c,s._transition("error"))},this._metadataErrorHandler=function(c){s._request=void 0,c._codeEquals("canceled")?s.completeTransitions_():(s._error=c,s._transition("error"))},this._promise=new Promise(function(c,f){s._resolve=c,s._reject=f,s._start()}),this._promise.then(null,function(){})}return i.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(o){return e._updateProgress(t+o)}},i.prototype._shouldDoResumable=function(e){return e.size()>262144},i.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},i.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(o){var s=o[0],c=o[1];switch(t._state){case"running":e(s,c);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},i.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,o){var s=function(i,e,t,o,s){var c=e.bucketOnlyServerUrl(),f=GF(e,o,s),m={name:f.fullPath},_=oc(c,i.host),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+o.size(),"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},D=F1(f,t),O=new du(_,"POST",function(N){var G;N1(N);try{G=N.getResponseHeader("X-Goog-Upload-URL")}catch(te){Ys(!1)}return Ys(HT(G)),G},i.maxUploadRetryTime);return O.urlParams=m,O.headers=C,O.body=D,O.errorHandler=Og(e),O}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),c=e._ref.storage._makeRequest(s,t,o);e._request=c,c.getPromise().then(function(f){e._request=void 0,e._uploadUrl=f,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},i.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(o,s){var c=function(i,e,t,o){var _=new du(t,"POST",function(b){var C=N1(b,["active","final"]),D=null;try{D=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(I){Ys(!1)}D||Ys(!1);var S=Number(D);return Ys(!isNaN(S)),new YT(S,o.size(),"final"===C)},i.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Og(e),_}(e._ref.storage,e._ref._location,t,e._blob),f=e._ref.storage._makeRequest(c,o,s);e._request=f,f.getPromise().then(function(m){m=m,e._request=void 0,e._updateProgress(m.current),e._needToFetchStatus=!1,m.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},i.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,o=new YT(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken(function(c,f){var m;try{m=function(i,e,t,o,s,c,f,m){var _=new YT(0,0);if(f?(_.current=f.current,_.total=f.total):(_.current=0,_.total=o.size()),o.size()!==_.total)throw new Yn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var b=_.total-_.current,C=b;s>0&&(C=Math.min(C,s));var D=_.current,O={"X-Goog-Upload-Command":C===b?"upload, finalize":"upload","X-Goog-Upload-Offset":""+_.current},N=o.slice(D,D+C);if(null===N)throw MF();var ye=new du(t,"POST",function(De,Se){var qt,We=N1(De,["active","final"]),Ct=_.current+C,ir=o.size();return qt="final"===We?$T(e,c)(De,Se):null,new YT(Ct,ir,"final"===We,qt)},e.maxUploadRetryTime);return ye.headers=O,ye.body=N.uploadData(),ye.progressCallback=m||null,ye.errorHandler=Og(i),ye}(e._ref._location,e._ref.storage,s,e._blob,t,e._mappings,o,e._makeProgressCallback())}catch(b){return e._error=b,void e._transition("error")}var _=e._ref.storage._makeRequest(m,c,f);e._request=_,_.getPromise().then(function(b){e._increaseMultiplier(),e._request=void 0,e._updateProgress(b.current),b.finalized?(e._metadata=b.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},i.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},i.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,o){var s=HF(e._ref.storage,e._ref._location,e._mappings),c=e._ref.storage._makeRequest(s,t,o);e._request=c,c.getPromise().then(function(f){e._request=void 0,e._metadata=f,e._transition("success")},e._metadataErrorHandler)})},i.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,o){var s=function(i,e,t,o,s){var c=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},_=function(){for(var ye="",De=0;De<2;De++)ye+=Math.random().toString().slice(2);return ye}();f["Content-Type"]="multipart/related; boundary="+_;var b=GF(e,o,s),C=F1(b,t),I=P1.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",o,"\r\n--"+_+"--");if(null===I)throw MF();var O={name:b.fullPath},N=oc(c,i.host),te=i.maxUploadRetryTime,fe=new du(N,"POST",$T(i,t),te);return fe.urlParams=O,fe.headers=f,fe.body=I.uploadData(),fe.errorHandler=Og(e),fe}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),c=e._ref.storage._makeRequest(s,t,o);e._request=c,c.getPromise().then(function(f){e._request=void 0,e._metadata=f,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},i.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},i.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=IF(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},i.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(i.prototype,"snapshot",{get:function(){var e=R1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),i.prototype.on=function(e,t,o,s){var c=this,f=new L3(t,o,s);return this._addObserver(f),function(){c._removeObserver(f)}},i.prototype.then=function(e,t){return this._promise.then(e,t)},i.prototype.catch=function(e){return this.then(null,e)},i.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},i.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},i.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(o){e._notifyObserver(o)})},i.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(R1(this._state)){case ei.SUCCESS:xg(this._resolve.bind(null,this.snapshot))();break;case ei.CANCELED:case ei.ERROR:xg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},i.prototype._notifyObserver=function(e){switch(R1(this._state)){case ei.RUNNING:case ei.PAUSED:e.next&&xg(e.next.bind(e,this.snapshot))();break;case ei.SUCCESS:e.complete&&xg(e.complete.bind(e))();break;case ei.CANCELED:case ei.ERROR:e.error&&xg(e.error.bind(e,this._error))();break;default:e.error&&xg(e.error.bind(e,this._error))()}},i.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},i.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},i.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},i}(),WT=function(){function i(e,t){this._service=e,this._location=t instanceof Ao?t:Ao.makeFromUrl(t,e.host)}return i.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},i.prototype._newRef=function(e,t){return new i(e,t)},Object.defineProperty(i.prototype,"root",{get:function(){var e=new Ao(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return VF(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=function(i){if(0===i.length)return null;var e=i.lastIndexOf("/");return-1===e?"":i.slice(0,e)}(this._location.path);if(null===e)return null;var t=new Ao(this._location.bucket,e);return new i(this._service,t)},enumerable:!1,configurable:!0}),i.prototype._throwIfRoot=function(e){if(""===this._location.path)throw OF(e)},i}();function U3(i){var e={prefixes:[],items:[]};return $F(i,e).then(function(){return e})}function $F(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var s,c,f;return(0,M.Jh)(this,function(m){switch(m.label){case 0:return[4,ZF(i,{pageToken:t})];case 1:return s=m.sent(),(c=e.prefixes).push.apply(c,s.prefixes),(f=e.items).push.apply(f,s.items),null==s.nextPageToken?[3,3]:[4,$F(i,e,s.nextPageToken)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}function ZF(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&x1("options.maxResults",1,1e3,e.maxResults),o=I3(i.storage,i._location,"/",(t=e||{}).pageToken,t.maxResults),[4,i.storage.makeRequestWithTokens(o)];case 1:return[2,s.sent().getPromise()]}})})}function H3(i){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){switch(t.label){case 0:return i._throwIfRoot("getDownloadURL"),e=function(i,e,t){var s=oc(e.fullServerUrl(),i.host),f=i.maxOperationRetryTime,m=new du(s,"GET",function(i,e){return function(o,s){var c=UF(i,s,e);return Ys(null!==c),function(i,e,t){var o=k1(e);if(null===o||!HT(o.downloadTokens))return null;var s=o.downloadTokens;if(0===s.length)return null;var c=encodeURIComponent;return s.split(",").map(function(_){var C=i.fullPath;return oc("/b/"+c(i.bucket)+"/o/"+c(C),t)+LF({alt:"media",token:_})})[0]}(c,s,i.host)}}(i,t),f);return m.errorHandler=ZT(e),m}(i.storage,i._location,zT()),[4,i.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise().then(function(o){if(null===o)throw new Yn("no-download-url","The given file does not have any download URLs.");return o})]}})})}function YF(i,e){var t=function(i,e){var t=e.split("/").filter(function(o){return o.length>0}).join("/");return 0===i.length?t:i+"/"+t}(i._location.path,e),o=new Ao(i._location.bucket,t);return new WT(i.storage,o)}function L1(i){return/^[A-Za-z]+:\/\//.test(i)}function WF(i,e){if(i instanceof KT){var t=i;if(null==t._bucket)throw new Yn("no-default-bucket","No default bucket found. Did you set the '"+AF+"' property when initializing the app?");var o=new WT(t,t._bucket);return null!=e?WF(o,e):o}return void 0!==e?YF(i,e):i}function z3(i,e){if(e&&L1(e)){if(i instanceof KT)return function(i,e){return new WT(i,e)}(i,e);throw Rg("To use ref(service, url), the first argument must be a Storage instance.")}return WF(i,e)}function KF(i,e){var t=null==e?void 0:e[AF];return null==t?null:Ao.makeFromBucketSpec(t,i)}var KT=function(){function i(e,t,o,s,c,f){this.app=e,this._authProvider=t,this._appCheckProvider=o,this._pool=s,this._url=c,this._firebaseVersion=f,this._bucket=null,this._host=SF,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=c?Ao.makeFromBucketSpec(c,this._host):KF(this._host,this.app.options)}return Object.defineProperty(i.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?Ao.makeFromBucketSpec(this._url,e):KF(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){x1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){x1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),i.prototype._getAuthToken=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=o.sent()))return[2,t.accessToken];o.label=2;case 2:return[2,null]}})})},i.prototype._getAppCheckToken=function(){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,o.sent().token];case 2:return[2,null]}})})},i.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},i.prototype._makeStorageReference=function(e){return new WT(this,e)},i.prototype._makeRequest=function(e,t,o){var s=this;if(this._deleted)return new n3(RF());var c=function(i,e,t,o,s,c){var f=LF(i.urlParams),m=i.url+f,_=Object.assign({},i.headers);return function(i,e){e&&(i["X-Firebase-GMPID"]=e)}(_,e),function(i,e){null!==e&&e.length>0&&(i.Authorization="Firebase "+e)}(_,t),function(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,c),function(i,e){null!==e&&(i["X-Firebase-AppCheck"]=e)}(_,o),new u3(m,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,s)}(e,this._appId,t,o,this._pool,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(function(){return s._requests.delete(c)},function(){return s._requests.delete(c)}),c},i.prototype.makeRequestWithTokens=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=c.sent(),[2,this._makeRequest(e,t[0],t[1])]}})})},i}();function QF(i,e){return z3(i=(0,ut.m9)(i),e)}var QT=function(){function i(e,t,o){this._delegate=e,this.task=t,this.ref=o}return Object.defineProperty(i.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),i}(),JF=function(){function i(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(i.prototype,"snapshot",{get:function(){return new QT(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),i.prototype.then=function(e,t){var o=this;return this._delegate.then(function(s){if(e)return e(new QT(s,o,o._ref))},t)},i.prototype.on=function(e,t,o,s){var c=this,f=void 0;return t&&(f="function"==typeof t?function(m){return t(new QT(m,c,c._ref))}:{next:t.next?function(m){return t.next(new QT(m,c,c._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,f,o||void 0,s||void 0)},i}(),XF=function(){function i(e,t){this._delegate=e,this._service=t}return Object.defineProperty(i.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new xb(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new xb(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),i}(),xb=function(){function i(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(i.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return this._delegate.toString()},i.prototype.child=function(e){return new i(function(i,e){return YF(i,e)}(this._delegate,e),this.storage)},Object.defineProperty(i.prototype,"root",{get:function(){return new i(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new i(e,this.storage)},enumerable:!1,configurable:!0}),i.prototype.put=function(e,t){return this._throwIfRoot("put"),new JF(function(i,e,t){return function(i,e,t){return i._throwIfRoot("uploadBytesResumable"),new zF(i,new P1(e),t)}(i=(0,ut.m9)(i),e,t)}(this._delegate,e,t),this)},i.prototype.putString=function(e,t,o){void 0===t&&(t=So.RAW),this._throwIfRoot("putString");var s=xF(t,e),c=(0,M.pi)({},o);return null==c.contentType&&null!=s.contentType&&(c.contentType=s.contentType),new JF(new zF(this._delegate,new P1(s.data,!0),c),this)},i.prototype.listAll=function(){var e=this;return function(i){return U3(i=(0,ut.m9)(i))}(this._delegate).then(function(t){return new XF(t,e.storage)})},i.prototype.list=function(e){var t=this;return function(i,e){return ZF(i=(0,ut.m9)(i),e)}(this._delegate,e||void 0).then(function(o){return new XF(o,t.storage)})},i.prototype.getMetadata=function(){return function(i){return function(i){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){switch(t.label){case 0:return i._throwIfRoot("getMetadata"),e=HF(i.storage,i._location,zT()),[4,i.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise()]}})})}(i=(0,ut.m9)(i))}(this._delegate)},i.prototype.updateMetadata=function(e){return function(i,e){return function(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return i._throwIfRoot("updateMetadata"),t=function(i,e,t,o){var c=oc(e.fullServerUrl(),i.host),m=F1(t,o),b=i.maxOperationRetryTime,C=new du(c,"PATCH",$T(i,o),b);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=m,C.errorHandler=ZT(e),C}(i.storage,i._location,e,zT()),[4,i.storage.makeRequestWithTokens(t)];case 1:return[2,o.sent().getPromise()]}})})}(i=(0,ut.m9)(i),e)}(this._delegate,e)},i.prototype.getDownloadURL=function(){return function(i){return H3(i=(0,ut.m9)(i))}(this._delegate)},i.prototype.delete=function(){return this._throwIfRoot("delete"),function(i){return function(i){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){switch(t.label){case 0:return i._throwIfRoot("deleteObject"),e=function(i,e){var o=oc(e.fullServerUrl(),i.host),m=new du(o,"DELETE",function(_,b){},i.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=ZT(e),m}(i.storage,i._location),[4,i.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise()]}})})}(i=(0,ut.m9)(i))}(this._delegate)},i.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw OF(e)},i}(),nj=function(){function i(e,t){this.app=e,this._delegate=t}return Object.defineProperty(i.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),i.prototype.ref=function(e){if(L1(e))throw Rg("ref() expected a child path but got a URL, use refFromURL instead.");return new xb(QF(this._delegate,e),this)},i.prototype.refFromURL=function(e){if(!L1(e))throw Rg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ao.makeFromUrl(e,this._delegate.host)}catch(t){throw Rg("refFromUrl() expected a valid full URL but got an invalid one.")}return new xb(QF(this._delegate,e),this)},i.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},i.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},i.prototype.useEmulator=function(e,t,o){void 0===o&&(o={}),function(i,e,t,o){void 0===o&&(o={}),function(i,e,t,o){void 0===o&&(o={}),i.host="http://"+e+":"+t;var s=o.mockUserToken;s&&(i._overrideAuthToken="string"==typeof s?s:(0,ut.Sg)(s,i.app.options.projectId))}(i,e,t,o)}(this._delegate,e,t,o)},i}();function sj(i,e){var t=e.instanceIdentifier,o=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),c=i.getProvider("app-check-internal");return new nj(o,new KT(o,s,c,new t3,t,Li.Z.SDK_VERSION))}function eN(i){const e=function(i){return new Dn.y(e=>{const t=f=>e.next(f);t(i.snapshot);const c=i.on("state_changed",t);return i.then(f=>{t(f),e.complete()},f=>{t(i.snapshot),(f=>{e.error(f)})(f)}),function(){c()}}).pipe(ab(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,He.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function JT(i,e,t){return{getDownloadURL:()=>(0,Ve.of)(void 0).pipe((0,ho.QV)(e.outsideAngular),Wt(()=>i.getDownloadURL()),t),getMetadata:()=>(0,Ve.of)(void 0).pipe((0,ho.QV)(e.outsideAngular),Wt(()=>i.getMetadata()),t),delete:()=>(0,Ut.D)(i.delete()),child:o=>JT(i.child(o),e,t),updateMetadata:o=>(0,Ut.D)(i.updateMetadata(o)),put:(o,s)=>eN(i.put(o,s)),putString:(o,s,c)=>eN(i.putString(o,s,c)),listAll:()=>(0,Ut.D)(i.listAll())}}!function(i){var e={TaskState:ei,TaskEvent:JB,StringFormat:So,Storage:KT,Reference:xb};i.INTERNAL.registerComponent(new Tv.wA("storage",sj,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),i.registerVersion("@firebase/storage","0.7.0")}(Li.Z);const tN=new d.OlP("angularfire2.storageBucket"),nN=new d.OlP("angularfire2.storage.maxUploadRetryTime"),rN=new d.OlP("angularfire2.storage.maxOperationRetryTime");let XT=(()=>{class i{constructor(t,o,s,c,f,m,_){this.schedulers=new kt.HU(f),this.keepUnstableUntilFirst=(0,kt.ss)(this.schedulers);const b=(0,kt.on)(t,f,o);this.storage=(0,kt.sI)(`${b.name}.storage.${s}`,"AngularFireStorage",b,()=>{const C=f.runOutsideAngular(()=>b.storage(s||void 0));return m&&C.setMaxUploadRetryTime(m),_&&C.setMaxOperationRetryTime(_),C},[m,_])}ref(t){return JT(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return JT(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,o,s){return JT(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(o,s)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(kt.Dh),d.LFG(kt.xv,8),d.LFG(tN,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(nN,8),d.LFG(rN,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(kt.Dh),d.LFG(kt.xv,8),d.LFG(tN,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(nN,8),d.LFG(rN,8))},token:i,providedIn:"any"}),i})(),lj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),cj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[XT],imports:[lj]}),i})();function dj(i,e){if(1&i&&(d.TgZ(0,"div"),d._UZ(1,"progress",1),d._uU(2),d.ALo(3,"number"),d.qZA()),2&i){const t=e.ngIf;d.xp6(1),d.Q6J("value",t),d.xp6(1),d.hij(" ",d.lcZ(3,2,t),"%\n")}}function hj(i,e){if(1&i&&(d.TgZ(0,"div"),d.TgZ(1,"h3"),d._uU(2,"Results!"),d.qZA(),d._UZ(3,"img",3),d._UZ(4,"br"),d.TgZ(5,"a",4),d._uU(6,"Download Me!"),d.qZA(),d.qZA()),2&i){const t=e.ngIf;d.xp6(3),d.Q6J("src",t,d.LSH),d.xp6(2),d.Q6J("href",t,d.LSH)}}function fj(i,e){if(1&i){const t=d.EpF();d.TgZ(0,"div"),d._uU(1),d.YNc(2,hj,7,2,"div",0),d.TgZ(3,"button",2),d.NdJ("click",function(){return d.CHM(t),d.oxw().task.pause()}),d._uU(4,"Pause"),d.qZA(),d.TgZ(5,"button",2),d.NdJ("click",function(){return d.CHM(t),d.oxw().task.cancel()}),d._uU(6,"Cancel"),d.qZA(),d.TgZ(7,"button",2),d.NdJ("click",function(){return d.CHM(t),d.oxw().task.resume()}),d._uU(8,"Resume"),d.qZA(),d.qZA()}if(2&i){const t=e.ngIf,o=d.oxw();d.xp6(1),d.AsE(" ",t.bytesTransferred," of ",t.totalBytes," "),d.xp6(1),d.Q6J("ngIf",o.downloadURL),d.xp6(1),d.Q6J("disabled",!o.isActive(t)),d.xp6(2),d.Q6J("disabled",!o.isActive(t)),d.xp6(2),d.Q6J("disabled","paused"!==(null==t?null:t.state))}}let pj=(()=>{class i{constructor(t,o){this.storage=t,this.db=o,this.isAlbumCover=!1}ngOnInit(){this.startUpload()}startUpload(){var t=this;const o=`photo-gallery/${this.album}/${Date.now()}_${this.file.name}`,s=this.storage.ref(o);this.task=this.storage.upload(o,this.file),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe((0,dr.b)(console.log),cm(PB(function*(){t.downloadURL=yield s.getDownloadURL().toPromise(),t.db.collection("photos").add({downloadURL:t.downloadURL,album:t.album,uploadDate:Date.now()}),!t.existingAlbums.map(c=>c.name).includes(t.album)&&t.isAlbumCover&&t.db.collection("albums").add({name:t.album,coverImageURL:t.downloadURL,creationDate:Date.now()})})))}isActive(t){return"running"===t.state&&t.bytesTransferred<t.totalBytes}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(XT),d.Y36(ch))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-upload-task"]],inputs:{file:"file",album:"album",existingAlbums:"existingAlbums",isAlbumCover:"isAlbumCover"},decls:4,vars:6,consts:[[4,"ngIf"],["max","100",3,"value"],[3,"disabled","click"],[3,"src"],["target","_blank","rel","noopener",3,"href"]],template:function(t,o){1&t&&(d.YNc(0,dj,4,4,"div",0),d.ALo(1,"async"),d.YNc(2,fj,9,6,"div",0),d.ALo(3,"async")),2&t&&(d.Q6J("ngIf",d.lcZ(1,2,o.percentage)),d.xp6(2),d.Q6J("ngIf",d.lcZ(3,4,o.snapshot)))},directives:[ur],pipes:[_u,uS],styles:[""]}),i})();function gj(i,e){if(1&i&&(d.TgZ(0,"mat-option",12),d._uU(1),d.qZA()),2&i){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.hij(" ",t," ")}}function mj(i,e){1&i&&(d.TgZ(0,"p",13),d._uU(1,"You must provide an album name before uploading images!"),d.qZA())}function yj(i,e){if(1&i&&(d.TgZ(0,"div"),d._UZ(1,"app-upload-task",16),d.qZA()),2&i){const t=e.$implicit,o=e.index,s=d.oxw().ngIf;d.oxw();const c=d.MAs(9);d.xp6(1),d.Q6J("file",t)("album",c.value)("isAlbumCover",0===o)("existingAlbums",s)}}function _j(i,e){if(1&i&&(d.TgZ(0,"div",14),d.YNc(1,yj,2,4,"div",15),d.qZA()),2&i){const t=d.oxw();d.xp6(1),d.Q6J("ngForOf",t.files)}}let vj=(()=>{class i{constructor(t){this.db=t,this.isHovering=!1,this.showWarningText=!1,this.files=[],this.formController=new Ql,this.albumsCollection=this.db.collection("albums"),this.albums$=this.albumsCollection.valueChanges(),this.albumInput=this.formController.valueChanges.pipe(ro(""),(0,He.U)(o=>o.toLowerCase())),this.filteredAlbums$=Sc([this.albums$,this.albumInput]).pipe((0,He.U)(o=>{const c=o[1];return o[0].filter(f=>f.name.toLowerCase().includes(c)).map(f=>f.name)}))}toggleHover(t){this.isHovering=t}onDrop(t,o){if(""==o)this.showWarningText=!0;else{for(let s=0;s<t.length;s++)this.files.push(t.item(s));this.showWarningText=!1}}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(ch))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-uploader"]],decls:19,vars:11,consts:[[1,"box"],["appDropzone","",1,"dropzone",3,"hovered","dropped"],[1,"example-form"],["appearance","fill",1,"example-full-width"],["type","text","placeholder","Pick one","aria-label","Album","matInput","",1,"input",3,"formControl","matAutocomplete"],["selectedAlbum",""],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"title"],["class","warning",4,"ngIf"],["class","container",4,"ngIf"],[3,"value"],[1,"warning"],[1,"container"],[4,"ngFor","ngForOf"],[3,"file","album","isAlbumCover","existingAlbums"]],template:function(t,o){if(1&t){const s=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.NdJ("hovered",function(f){return o.toggleHover(f)})("dropped",function(f){d.CHM(s);const m=d.MAs(9);return o.onDrop(f,m.value)}),d.TgZ(2,"p"),d._uU(3,"Drag and Drop a File or Files"),d.qZA(),d.qZA(),d.TgZ(4,"form",2),d.TgZ(5,"mat-form-field",3),d.TgZ(6,"mat-label"),d._uU(7,"Album"),d.qZA(),d._UZ(8,"input",4,5),d.TgZ(10,"mat-autocomplete",6,7),d.YNc(12,gj,2,2,"mat-option",8),d.ALo(13,"async"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"h1",9),d._uU(15,"Uploads"),d.qZA(),d.YNc(16,mj,2,0,"p",10),d.YNc(17,_j,2,1,"div",11),d.ALo(18,"async"),d.qZA()}if(2&t){const s=d.MAs(11);d.xp6(1),d.ekj("hovering",o.isHovering),d.xp6(7),d.Q6J("formControl",o.formController)("matAutocomplete",s),d.xp6(4),d.Q6J("ngForOf",d.lcZ(13,7,o.filteredAlbums$)),d.xp6(4),d.Q6J("ngIf",o.showWarningText),d.xp6(1),d.Q6J("ngIf",d.lcZ(18,9,o.albums$))}},directives:[XD,UD,Gv,dU,_1,CU,Lv,DF,$M,nb,SB,xo,ur,Hk,pj],pipes:[_u],styles:[".warning[_ngcontent-%COMP%]{color:red}"]}),i})();function bj(i,e){if(1&i&&(d.TgZ(0,"div",7),d._UZ(1,"app-album-card",8),d.qZA()),2&i){const t=e.$implicit;d.xp6(1),d.Q6J("albumData",t)}}function wj(i,e){if(1&i&&(d.TgZ(0,"div",5),d.YNc(1,bj,2,1,"div",6),d.qZA()),2&i){const t=e.ngIf;d.xp6(1),d.Q6J("ngForOf",t)}}function Cj(i,e){1&i&&(d.TgZ(0,"div",9),d._UZ(1,"app-spinner"),d.TgZ(2,"h1",10),d._uU(3,"Loading..."),d.qZA(),d.qZA())}function Ej(i,e){if(1&i){const t=d.EpF();d.TgZ(0,"button",11),d.NdJ("click",function(){return d.CHM(t),d.oxw().toggleUploader()}),d.TgZ(1,"span",12),d._UZ(2,"i",13),d.qZA(),d.qZA()}}function Dj(i,e){if(1&i){const t=d.EpF();d.TgZ(0,"div",14),d.TgZ(1,"div",15),d.NdJ("click",function(){return d.CHM(t),d.oxw().toggleUploader()}),d.qZA(),d.TgZ(2,"div",16),d._UZ(3,"app-uploader"),d.qZA(),d.TgZ(4,"button",17),d.NdJ("click",function(){return d.CHM(t),d.oxw().toggleUploader()}),d.qZA(),d.qZA()}}let Tj=(()=>{class i{constructor(t,o){this.auth=t,this.db=o,this.showFAB=!1,this.showUploader=!1,this.auth.authStateChange.subscribe(s=>{this.showFAB=s}),this.albumDataCollection=this.db.collection("albums"),this.albumData$=this.albumDataCollection.valueChanges()}ngOnInit(){}toggleUploader(){this.showUploader=!this.showUploader}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(wf),d.Y36(ch))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-photo-gallery"]],decls:7,vars:6,consts:[[1,"container"],["class","columns is-multiline is-centered",4,"ngIf","ngIfElse"],["loading",""],["class","button is-fab is-rounded is-large",3,"click",4,"ngIf"],[3,"ngIf"],[1,"columns","is-multiline","is-centered"],["class","column is-one-third",4,"ngFor","ngForOf"],[1,"column","is-one-third"],[3,"albumData"],[1,"container","has-text-centered"],[1,"title"],[1,"button","is-fab","is-rounded","is-large",3,"click"],[1,"icon","is-small"],[1,"fas","fa-plus"],[1,"modal","is-active"],[1,"modal-background",3,"click"],[1,"modal-content"],["aria-label","close",1,"modal-close","is-large",3,"click"]],template:function(t,o){if(1&t&&(d.TgZ(0,"div",0),d.YNc(1,wj,2,1,"div",1),d.ALo(2,"async"),d.YNc(3,Cj,4,0,"ng-template",null,2,d.W1O),d.YNc(5,Ej,3,0,"button",3),d.qZA(),d.YNc(6,Dj,5,0,"ng-template",4)),2&t){const s=d.MAs(4);d.xp6(1),d.Q6J("ngIf",d.lcZ(2,4,o.albumData$))("ngIfElse",s),d.xp6(4),d.Q6J("ngIf",o.showFAB),d.xp6(1),d.Q6J("ngIf",o.showUploader)}},directives:[ur,xo,fx,Fv,vj],pipes:[_u],styles:[".container[_ngcontent-%COMP%]{padding-bottom:25px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#a9a9a9}.is-fab[_ngcontent-%COMP%]{position:fixed;bottom:15vh;right:5vw;border-color:#000;width:2.5rem;height:2.5rem;z-index:10}.modal-content[_ngcontent-%COMP%]{width:50vw}"]}),i})();const Pb=function(i){return{"is-active":i}};let Sj=(()=>{class i{constructor(){this.activeClassEvent=new d.vpe,this.activeClass=0}ngOnInit(){}changeActiveClass(t){switch((t.target||t.srcElement||t.currentTarget).attributes.id.nodeValue){case"education":this.activeClass=0;break;case"experience":this.activeClass=1;break;case"projects":this.activeClass=2;break;case"leadership":this.activeClass=3;break;case"skills":this.activeClass=4}this.activeClassEvent.emit(this.activeClass)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-resume-tabs"]],outputs:{activeClassEvent:"activeClassEvent"},decls:17,vars:15,consts:[[1,"tabs","is-centered","is-boxed"],[3,"ngClass"],["id","education",3,"click"],["id","experience",3,"click"],["id","projects",3,"click"],["id","leadership",3,"click"],["id","skills",3,"click"]],template:function(t,o){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"ul"),d.TgZ(2,"li",1),d.TgZ(3,"a",2),d.NdJ("click",function(c){return o.changeActiveClass(c)}),d._uU(4," Education "),d.qZA(),d.qZA(),d.TgZ(5,"li",1),d.TgZ(6,"a",3),d.NdJ("click",function(c){return o.changeActiveClass(c)}),d._uU(7," Experience "),d.qZA(),d.qZA(),d.TgZ(8,"li",1),d.TgZ(9,"a",4),d.NdJ("click",function(c){return o.changeActiveClass(c)}),d._uU(10," Projects and Research "),d.qZA(),d.qZA(),d.TgZ(11,"li",1),d.TgZ(12,"a",5),d.NdJ("click",function(c){return o.changeActiveClass(c)}),d._uU(13," Leadership "),d.qZA(),d.qZA(),d.TgZ(14,"li",1),d.TgZ(15,"a",6),d.NdJ("click",function(c){return o.changeActiveClass(c)}),d._uU(16," Skills "),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.Q6J("ngClass",d.VKq(5,Pb,0==o.activeClass)),d.xp6(3),d.Q6J("ngClass",d.VKq(7,Pb,1==o.activeClass)),d.xp6(3),d.Q6J("ngClass",d.VKq(9,Pb,2==o.activeClass)),d.xp6(3),d.Q6J("ngClass",d.VKq(11,Pb,3==o.activeClass)),d.xp6(3),d.Q6J("ngClass",d.VKq(13,Pb,4==o.activeClass)))},directives:[Oo],styles:[""]}),i})();function Aj(i,e){1&i&&(d.TgZ(0,"section",4),d.TgZ(1,"h1",5),d._uU(2,"Experiene"),d.qZA(),d.TgZ(3,"h2",6),d.TgZ(4,"div",7),d.TgZ(5,"div",8),d.TgZ(6,"strong"),d._uU(7,"Google LLC"),d.qZA(),d._uU(8,", Redmond, WA "),d.qZA(),d.TgZ(9,"div",9),d._uU(10," June 2020 - August 2020 "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",10),d.TgZ(12,"p"),d._uU(13,"Software Engineering Intern on DCSW Physical Automation Team"),d.qZA(),d.TgZ(14,"ul"),d.TgZ(15,"li"),d._uU(16," Developed an Angular front end dashboard to monitor and debug robots managed by the team using the Alkali platform. "),d.qZA(),d.TgZ(17,"li"),d._uU(18," Developed a Java Apps Framework back end server to serve as a pass through layer between the front end and the team\u2019s Boq Scaffolding server. "),d.qZA(),d.TgZ(19,"li"),d._uU(20," Implemented various RPC handlers in the Boq Scaffolding server to pull data required in the front end from the team\u2019s Spanner DB. "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"h2",6),d.TgZ(22,"div",7),d.TgZ(23,"div",8),d.TgZ(24,"strong"),d._uU(25,"Google LLC"),d.qZA(),d._uU(26,", New York City, NY "),d.qZA(),d.TgZ(27,"div",9),d._uU(28," May 2019 - August 2019 "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"div",10),d.TgZ(30,"p"),d._uU(31,"Software Engineering Intern on Flotilla Team"),d.qZA(),d.TgZ(32,"ul"),d.TgZ(33,"li"),d._uU(34," Developed a workflow that would audit over 1.5 million database records, across three microservices in order to find data inconsistencies amongst the entries. "),d.qZA(),d.TgZ(35,"li"),d._uU(36," Used Java to produce the backend code, and create a scalable class hierarchy allowing for easy integration of new microservices into the workflow. "),d.qZA(),d.TgZ(37,"li"),d._uU(38," Joined the data from the microservices into one joined table through a common identifier and used this to surface inconsistencies using data visualization tools. "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(39,"h2",6),d.TgZ(40,"div",7),d.TgZ(41,"div",8),d.TgZ(42,"strong"),d._uU(43,"Qualcomm Inc"),d.qZA(),d._uU(44,", San Diego, CA "),d.qZA(),d.TgZ(45,"div",9),d._uU(46," May 2018 - August 2018 "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(47,"div",10),d.TgZ(48,"p"),d._uU(49,"Software Engineering Intern on Axiom Team"),d.qZA(),d.TgZ(50,"ul"),d.TgZ(51,"li"),d._uU(52," Worked on developing UI features for Axiom, an end-to-end test automation web application, using Angular5 for the frontend, and a C# based API for communicating with the database, on the back end. "),d.qZA(),d.TgZ(53,"li"),d._uU(54," Used chart.js to display real-time data about user traffic, as well as, prime-ng and google material as a front-end framework for styling. "),d.qZA(),d.qZA(),d.qZA(),d.qZA())}function Ij(i,e){1&i&&(d.TgZ(0,"section",4),d.TgZ(1,"h1",5),d._uU(2,"Projects and Research"),d.qZA(),d.TgZ(3,"h2",6),d.TgZ(4,"div",7),d.TgZ(5,"div",8),d.TgZ(6,"strong"),d._uU(7,"Plantlanta Volunteering"),d.qZA(),d._uU(8,", Atlanta, GA "),d.qZA(),d.TgZ(9,"div",9),d._uU(10," January 2019 - December 2019 "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",10),d.TgZ(12,"ul"),d.TgZ(13,"li"),d._uU(14," Created a platform for Plantlanta that allowed volunteers to register for events and redeem points in an in-app marketplace "),d.qZA(),d.TgZ(15,"li"),d._uU(16," Built mobile client using Flutter framework, web client using Angular8, Firebase Firestore for data storage, and Firebase Cloud Functions for serverless backend. "),d.qZA(),d.TgZ(17,"li"),d._uU(18," Project won 1st place in the 2019 Fall Junior Design Expo based on judging from industry partners including Walmart, Stryker, and State Farm. "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"h2",6),d.TgZ(20,"div",7),d.TgZ(21,"div",8),d.TgZ(22,"strong"),d._uU(23,"Project Bronco"),d.qZA(),d._uU(24,", Atlanta, GA "),d.qZA(),d.TgZ(25,"div",9),d._uU(26," August 2019 - December 2019 "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(27,"div",10),d.TgZ(28,"ul"),d.TgZ(29,"li"),d._uU(30," Rewired retail RC car to a raspberry pi in order to control it through a mobile application, using python to interface withthe hardware. "),d.qZA(),d.TgZ(31,"li"),d._uU(32," Used laser range finder and sonar sensors to provide the car with \u201csmart\u201d features such as avoiding collisions, and speakers to notify the user through audio about obstacles. "),d.qZA(),d.TgZ(33,"li"),d._uU(34," Prototyped initial stages of the project using an Mbed microcontroller, and C++ to interface with hardware. "),d.qZA(),d.qZA(),d.qZA(),d.qZA())}function Mj(i,e){1&i&&(d.TgZ(0,"section",4),d.TgZ(1,"h1",5),d._uU(2,"Leadership"),d.qZA(),d.TgZ(3,"h2",6),d.TgZ(4,"div",7),d.TgZ(5,"div",8),d.TgZ(6,"strong"),d._uU(7,"SHPE IT Team Senior Board of Directors"),d.qZA(),d._uU(8,", Atlanta, GA "),d.qZA(),d.TgZ(9,"div",9),d._uU(10," May 2018 - May 2019 "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",10),d.TgZ(12,"ul"),d.TgZ(13,"li"),d._uU(14," Developed and maintained organization\u2019s mobile/web application, and public information website using React.js "),d.qZA(),d.qZA(),d.qZA(),d.qZA())}function Rj(i,e){1&i&&(d.TgZ(0,"section",4),d.TgZ(1,"h1",5),d._uU(2,"Skills"),d.qZA(),d.TgZ(3,"h2",6),d.TgZ(4,"strong"),d._uU(5,"Programming:"),d.qZA(),d._uU(6," Java, C/C++, C#, Python, HTML, CSS, TypeScript, Matlab "),d.qZA(),d._UZ(7,"br"),d.TgZ(8,"h2",6),d.TgZ(9,"strong"),d._uU(10,"Frameworks:"),d.qZA(),d._uU(11," Angular, Pytorch, Android Studio (intermediate), React (novice) "),d.qZA(),d._UZ(12,"br"),d.TgZ(13,"h2",6),d.TgZ(14,"strong"),d._uU(15,"Related Coursework:"),d.qZA(),d._uU(16," Deep Learning, Computer Vision, Robot Planning, Graduate AI, Perception and Robotics, Learning from Demonstration, Mobile Manipulaiton, Machine Learning, Embedded System Design, Computer Organization, Systems and Networks, Digital Design Lab "),d.qZA(),d._UZ(17,"br"),d.TgZ(18,"h2",6),d.TgZ(19,"strong"),d._uU(20,"Languages:"),d.qZA(),d._uU(21," Spanish, English "),d.qZA(),d._UZ(22,"br"),d.TgZ(23,"h2",6),d.TgZ(24,"strong"),d._uU(25,"Software:"),d.qZA(),d._uU(26," SolidWorks "),d.qZA(),d.qZA())}function Oj(i,e){1&i&&(d.TgZ(0,"section",4),d.TgZ(1,"h1",5),d._uU(2,"Education"),d.qZA(),d.TgZ(3,"h2",6),d.TgZ(4,"div",7),d.TgZ(5,"div",8),d.TgZ(6,"strong"),d._uU(7,"Georgia Institute of Technology"),d.qZA(),d._uU(8,", Atlanta, GA "),d.qZA(),d.TgZ(9,"div",9),d._uU(10," August 2020 - May 2021 "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",10),d.TgZ(12,"ul"),d.TgZ(13,"li"),d._uU(14,"Master's of Science in Computer Science with concentrations in Computational Perception and Robotics."),d.qZA(),d.TgZ(15,"li"),d._uU(16,"Worked in Seth Hutchinson's lab doing researh on implementing safety critical controllers using RL."),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"h2",6),d.TgZ(18,"div",7),d.TgZ(19,"div",8),d.TgZ(20,"strong"),d._uU(21,"Georgia Institute of Technology"),d.qZA(),d._uU(22,", Atlanta, GA "),d.qZA(),d.TgZ(23,"div",9),d._uU(24," August 2016 - May 2020 "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"div",10),d.TgZ(26,"ul"),d.TgZ(27,"li"),d._uU(28,"Bachelor's of Science in Computer Science with concentrations in Intelligence and Devices."),d.qZA(),d.qZA(),d.qZA(),d.qZA())}let xj=(()=>{class i{constructor(){this.activeClass=0}ngOnInit(){}updateContent(t){this.activeClass=t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-resume"]],decls:7,vars:5,consts:[[1,"container",3,"ngSwitch"],[3,"activeClassEvent"],["class","section",4,"ngSwitchCase"],["class","section",4,"ngSwitchDefault"],[1,"section"],[1,"title"],[1,"subtitle"],[1,"columns","is-gapless"],[1,"column","is-9"],[1,"column"],[1,"content"]],template:function(t,o){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"app-resume-tabs",1),d.NdJ("activeClassEvent",function(c){return o.updateContent(c)}),d.qZA(),d.YNc(2,Aj,55,0,"section",2),d.YNc(3,Ij,35,0,"section",2),d.YNc(4,Mj,15,0,"section",2),d.YNc(5,Rj,27,0,"section",2),d.YNc(6,Oj,29,0,"section",3),d.qZA()),2&t&&(d.Q6J("ngSwitch",o.activeClass),d.xp6(2),d.Q6J("ngSwitchCase",1),d.xp6(1),d.Q6J("ngSwitchCase",2),d.xp6(1),d.Q6J("ngSwitchCase",3),d.xp6(1),d.Q6J("ngSwitchCase",4))},directives:[gc,Sj,yu,Nh],styles:[".title[_ngcontent-%COMP%]{text-decoration:underline}.subtitle[_ngcontent-%COMP%]{margin:0}"]}),i})();class iN{}class oN{}class hu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const s=t.slice(0,o),c=s.toLowerCase(),f=t.slice(o+1).trim();this.maybeSetNormalizedName(s,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let o=e[t];const s=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(s,o),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof hu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new hu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof hu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...o),this.headers.set(t,s);break;case"d":const c=e.value;if(c){let f=this.headers.get(t);if(!f)return;f=f.filter(m=>-1===c.indexOf(m)),0===f.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,f)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Pj{encodeKey(e){return sN(e)}encodeValue(e){return sN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Fj=/%(\d[a-f0-9])/gi,Nj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function sN(i){return encodeURIComponent(i).replace(Fj,(e,t)=>{var o;return null!==(o=Nj[t])&&void 0!==o?o:e})}function aN(i){return`${i}`}class sc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{const c=s.indexOf("="),[f,m]=-1==c?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,c)),e.decodeValue(s.slice(c+1))],_=t.get(f)||[];_.push(m),t.set(f,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const o=e.fromObject[t];this.map.set(t,Array.isArray(o)?o:[o])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(o=>{const s=e[o];Array.isArray(s)?s.forEach(c=>{t.push({param:o,value:c,op:"a"})}):t.push({param:o,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new sc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(aN(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let o=this.map.get(e.param)||[];const s=o.indexOf(aN(e.value));-1!==s&&o.splice(s,1),o.length>0?this.map.set(e.param,o):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Lj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function uN(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function lN(i){return"undefined"!=typeof Blob&&i instanceof Blob}function cN(i){return"undefined"!=typeof FormData&&i instanceof FormData}class kb{constructor(e,t,o,s){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==o?o:null,c=s):c=o,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new hu),this.context||(this.context=new Lj),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+f}}else this.params=new sc,this.urlWithParams=t}serializeBody(){return null===this.body?null:uN(this.body)||lN(this.body)||cN(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof sc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cN(this.body)?null:lN(this.body)?this.body.type||null:uN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const o=e.method||this.method,s=e.url||this.url,c=e.responseType||this.responseType,f=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,C=e.params||this.params;const D=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((S,I)=>S.set(I,e.setHeaders[I]),b)),e.setParams&&(C=Object.keys(e.setParams).reduce((S,I)=>S.set(I,e.setParams[I]),C)),new kb(o,s,f,{params:C,headers:b,context:D,reportProgress:_,responseType:c,withCredentials:m})}}var Wn=(()=>((Wn=Wn||{})[Wn.Sent=0]="Sent",Wn[Wn.UploadProgress=1]="UploadProgress",Wn[Wn.ResponseHeader=2]="ResponseHeader",Wn[Wn.DownloadProgress=3]="DownloadProgress",Wn[Wn.Response=4]="Response",Wn[Wn.User=5]="User",Wn))();class V1{constructor(e,t=200,o="OK"){this.headers=e.headers||new hu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class U1 extends V1{constructor(e={}){super(e),this.type=Wn.ResponseHeader}clone(e={}){return new U1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eS extends V1{constructor(e={}){super(e),this.type=Wn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new eS({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dN extends V1{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function B1(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let hN=(()=>{class i{constructor(t){this.handler=t}request(t,o,s={}){let c;if(t instanceof kb)c=t;else{let _,b;_=s.headers instanceof hu?s.headers:new hu(s.headers),s.params&&(b=s.params instanceof sc?s.params:new sc({fromObject:s.params})),c=new kb(t,o,void 0!==s.body?s.body:null,{headers:_,context:s.context,params:b,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const f=(0,Ve.of)(c).pipe(io(_=>this.handler.handle(_)));if(t instanceof kb||"events"===s.observe)return f;const m=f.pipe(Pr(_=>_ instanceof eS));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return m.pipe((0,He.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe((0,He.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe((0,He.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));case"json":default:return m.pipe((0,He.U)(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new sc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,s={}){return this.request("PATCH",t,B1(s,o))}post(t,o,s={}){return this.request("POST",t,B1(s,o))}put(t,o,s={}){return this.request("PUT",t,B1(s,o))}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(iN))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class fN{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const pN=new d.OlP("HTTP_INTERCEPTORS");let Bj=(()=>{class i{intercept(t,o){return o.handle(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const jj=/^\)\]\}',?\n/;let gN=(()=>{class i{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Dn.y(o=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((I,O)=>s.setRequestHeader(I,O.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const I=t.detectContentTypeHeader();null!==I&&s.setRequestHeader("Content-Type",I)}if(t.responseType){const I=t.responseType.toLowerCase();s.responseType="json"!==I?I:"text"}const c=t.serializeBody();let f=null;const m=()=>{if(null!==f)return f;const I=1223===s.status?204:s.status,O=s.statusText||"OK",N=new hu(s.getAllResponseHeaders()),G=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(s)||t.url;return f=new U1({headers:N,status:I,statusText:O,url:G}),f},_=()=>{let{headers:I,status:O,statusText:N,url:G}=m(),te=null;204!==O&&(te=void 0===s.response?s.responseText:s.response),0===O&&(O=te?200:0);let fe=O>=200&&O<300;if("json"===t.responseType&&"string"==typeof te){const ye=te;te=te.replace(jj,"");try{te=""!==te?JSON.parse(te):null}catch(De){te=ye,fe&&(fe=!1,te={error:De,text:te})}}fe?(o.next(new eS({body:te,headers:I,status:O,statusText:N,url:G||void 0})),o.complete()):o.error(new dN({error:te,headers:I,status:O,statusText:N,url:G||void 0}))},b=I=>{const{url:O}=m(),N=new dN({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error(N)};let C=!1;const D=I=>{C||(o.next(m()),C=!0);let O={type:Wn.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(O.total=I.total),"text"===t.responseType&&!!s.responseText&&(O.partialText=s.responseText),o.next(O)},S=I=>{let O={type:Wn.UploadProgress,loaded:I.loaded};I.lengthComputable&&(O.total=I.total),o.next(O)};return s.addEventListener("load",_),s.addEventListener("error",b),s.addEventListener("timeout",b),s.addEventListener("abort",b),t.reportProgress&&(s.addEventListener("progress",D),null!==c&&s.upload&&s.upload.addEventListener("progress",S)),s.send(c),o.next({type:Wn.Sent}),()=>{s.removeEventListener("error",b),s.removeEventListener("abort",b),s.removeEventListener("load",_),s.removeEventListener("timeout",b),t.reportProgress&&(s.removeEventListener("progress",D),null!==c&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(Gg))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const j1=new d.OlP("XSRF_COOKIE_NAME"),H1=new d.OlP("XSRF_HEADER_NAME");class mN{}let Gj=(()=>{class i{constructor(t,o,s){this.doc=t,this.platform=o,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=at(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return i.\u0275fac=function(t){return new(t||i)(d.LFG($),d.LFG(d.Lbi),d.LFG(j1))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),G1=(()=>{class i{constructor(t,o){this.tokenService=t,this.headerName=o}intercept(t,o){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return o.handle(t);const c=this.tokenService.getToken();return null!==c&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,c)})),o.handle(t)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(mN),d.LFG(H1))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),qj=(()=>{class i{constructor(t,o){this.backend=t,this.injector=o,this.chain=null}handle(t){if(null===this.chain){const o=this.injector.get(pN,[]);this.chain=o.reduceRight((s,c)=>new fN(s,c),this.backend)}return this.chain.handle(t)}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(oN),d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),zj=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:G1,useClass:Bj}]}}static withOptions(t={}){return{ngModule:i,providers:[t.cookieName?{provide:j1,useValue:t.cookieName}:[],t.headerName?{provide:H1,useValue:t.headerName}:[]]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[G1,{provide:pN,useExisting:G1,multi:!0},{provide:mN,useClass:Gj},{provide:j1,useValue:"XSRF-TOKEN"},{provide:H1,useValue:"X-XSRF-TOKEN"}]}),i})(),$j=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[hN,{provide:iN,useClass:qj},gN,{provide:oN,useExisting:gN}],imports:[[zj.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();function Zj(i,e){1&i&&(d.TgZ(0,"div",16),d._UZ(1,"app-spinner"),d.qZA())}function Yj(i,e){if(1&i){const t=d.EpF();d.TgZ(0,"div",9),d.TgZ(1,"button",17),d.NdJ("click",function(){return d.CHM(t),d.oxw().toggleDeleteModal()}),d._uU(2,"Delete"),d.qZA(),d.qZA()}}function Wj(i,e){if(1&i){const t=d.EpF();d.TgZ(0,"div",18),d.TgZ(1,"div",19),d.NdJ("click",function(){return d.CHM(t),d.oxw().toggleImageModal()}),d.qZA(),d.TgZ(2,"div",20),d._UZ(3,"img",21),d.qZA(),d.TgZ(4,"button",22),d.NdJ("click",function(){return d.CHM(t),d.oxw().toggleImageModal()}),d.qZA(),d.qZA()}if(2&i){const t=d.oxw();d.xp6(3),d.s9C("src",t.imageData.downloadURL,d.LSH)}}function Kj(i,e){if(1&i){const t=d.EpF();d.TgZ(0,"div",18),d.TgZ(1,"div",19),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).toggleDeleteModal()}),d.qZA(),d.TgZ(2,"div",20),d.TgZ(3,"div",24),d.TgZ(4,"p"),d._uU(5,"Are you sure you want to delete this image?"),d.qZA(),d.TgZ(6,"button",17),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).deleteImage()}),d._uU(7,"Delete"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"button",22),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).toggleDeleteModal()}),d.qZA(),d.qZA()}}function Qj(i,e){if(1&i&&d.YNc(0,Kj,9,0,"div",23),2&i){const t=d.oxw();d.Q6J("ngIf",t.showDeleteModal)}}function Jj(i,e){}const Xj=function(i){return{"is-hidden":i}};let e6=(()=>{class i{constructor(t,o,s,c){this.auth=t,this.db=o,this.storage=s,this.http=c,this.imageData={downloadURL:"",album:"",uploadDate:"",customID:""},this.showImageModal=!1,this.showDeleteButton=!1,this.showDeleteModal=!1,this.isImageLoaded=!1,this.auth.authStateChange.subscribe(f=>{this.showDeleteButton=f})}toggleImageModal(){this.showImageModal=!this.showImageModal}toggleDeleteModal(){this.showDeleteModal=!this.showDeleteModal}deleteImage(){this.db.doc("photos/"+this.imageData.customID).delete(),this.storage.refFromURL(this.imageData.downloadURL).delete()}downloadImage(){this.http.get(this.imageData.downloadURL,{responseType:"blob"}).subscribe(t=>{console.log(t);const o=URL.createObjectURL(t);this.downloadURL(o,this.imageData.customID),URL.revokeObjectURL(o)})}downloadURL(t,o){const s=document.createElement("a");s.href=t,s.download=o,document.body.appendChild(s),s.style="display: none",s.click(),s.remove()}removeSpinner(){this.isImageLoaded=!0}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(wf),d.Y36(ch),d.Y36(XT),d.Y36(hN))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-photo-gallery-card"]],inputs:{imageData:"imageData"},decls:22,vars:12,consts:[[1,"card"],[1,"card-image"],[1,"image","is-4by3",3,"ngClass"],[3,"click"],["alt","Placeholder image",3,"src","id","loaded"],["class","container has-text-centered",4,"ngIf"],[1,"card-content"],[1,"columns","is-vcentered"],[1,"column","is-two-thirds"],[1,"column"],[1,"button","is-fullwidth",3,"click"],[1,"icon","is-small"],[1,"fas","fa-download"],["class","column",4,"ngIf"],[3,"ngIf"],["loading",""],[1,"container","has-text-centered"],[1,"button","is-danger","is-fullwidth",3,"click"],[1,"modal","is-active"],[1,"modal-background",3,"click"],[1,"modal-content"],[3,"src"],["aria-label","close",1,"modal-close","is-large",3,"click"],["class","modal is-active",4,"ngIf"],[1,"box"]],template:function(t,o){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"figure",2),d.TgZ(3,"a",3),d.NdJ("click",function(){return o.toggleImageModal()}),d.TgZ(4,"img",4),d.NdJ("loaded",function(){return o.removeSpinner()}),d.qZA(),d.qZA(),d.qZA(),d.YNc(5,Zj,2,0,"div",5),d.qZA(),d.TgZ(6,"div",6),d.TgZ(7,"div",7),d.TgZ(8,"div",8),d.TgZ(9,"strong"),d._uU(10,"Upload Date: "),d.qZA(),d._uU(11),d.ALo(12,"date"),d.qZA(),d.TgZ(13,"div",9),d.TgZ(14,"button",10),d.NdJ("click",function(){return o.downloadImage()}),d.TgZ(15,"span",11),d._UZ(16,"i",12),d.qZA(),d.qZA(),d.qZA(),d.YNc(17,Yj,3,0,"div",13),d.qZA(),d.qZA(),d.qZA(),d.YNc(18,Wj,5,1,"ng-template",14),d.YNc(19,Qj,1,1,"ng-template",14),d.YNc(20,Jj,0,0,"ng-template",null,15,d.W1O)),2&t&&(d.xp6(2),d.Q6J("ngClass",d.VKq(10,Xj,!o.isImageLoaded)),d.xp6(2),d.s9C("src",o.imageData.downloadURL,d.LSH),d.s9C("id",o.imageData.customID),d.xp6(1),d.Q6J("ngIf",!o.isImageLoaded),d.xp6(6),d.hij("",d.lcZ(12,8,o.imageData.uploadDate)," "),d.xp6(6),d.Q6J("ngIf",o.showDeleteButton),d.xp6(1),d.Q6J("ngIf",o.showImageModal),d.xp6(1),d.Q6J("ngIf",o.showDeleteModal))},directives:[Oo,PM,ur,Fv],pipes:[Hb],styles:[".card-content[_ngcontent-%COMP%]{background-color:#a9a9a9}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:scale-down}.modal-content[_ngcontent-%COMP%]{overflow:hidden}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.is-hidden[_ngcontent-%COMP%]{display:none}"]}),i})();function t6(i,e){if(1&i&&(d.TgZ(0,"div",7),d._UZ(1,"app-photo-gallery-card",8),d.qZA()),2&i){const t=e.$implicit;d.xp6(1),d.Q6J("imageData",t)}}function n6(i,e){if(1&i&&(d.TgZ(0,"div",5),d.YNc(1,t6,2,1,"div",6),d.qZA()),2&i){const t=e.ngIf;d.xp6(1),d.Q6J("ngForOf",t)}}function r6(i,e){1&i&&(d.TgZ(0,"div",9),d._UZ(1,"app-spinner"),d.TgZ(2,"h1",1),d._uU(3,"Loading..."),d.qZA(),d.qZA())}const i6=[{path:"home",component:AA},{path:"resume",component:xj},{path:"photo-gallery",component:Tj},{path:"album/:name",component:(()=>{class i{constructor(t,o,s){this.db=t,this.route=o,this.router=s,this.albumName=this.route.snapshot.paramMap.get("name"),null==this.albumName&&this.router.navigate(["/photo-gallery"]),this.imageDataCollection=this.db.collection("photos",c=>c.where("album","==",this.albumName)),this.imageData$=this.imageDataCollection.valueChanges({idField:"customID"})}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(ch),d.Y36(ha),d.Y36(pr))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-album-dashboard"]],decls:9,vars:5,consts:[[1,"container"],[1,"title"],[1,"bold"],["class","columns is-multiline is-centered",4,"ngIf","ngIfElse"],["loading",""],[1,"columns","is-multiline","is-centered"],["class","column is-one-third",4,"ngFor","ngForOf"],[1,"column","is-one-third"],[3,"imageData"],[1,"container","has-text-centered"]],template:function(t,o){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d.TgZ(2,"span",2),d._uU(3,"Album:"),d.qZA(),d._uU(4),d.qZA(),d.YNc(5,n6,2,1,"div",3),d.ALo(6,"async"),d.YNc(7,r6,4,0,"ng-template",null,4,d.W1O),d.qZA()),2&t){const s=d.MAs(8);d.xp6(4),d.hij(" ",o.albumName,""),d.xp6(1),d.Q6J("ngIf",d.lcZ(6,3,o.imageData$))("ngIfElse",s)}},directives:[ur,xo,e6,Fv],pipes:[_u],styles:[".bold[_ngcontent-%COMP%]{font-weight:bold}.container[_ngcontent-%COMP%]{margin-bottom:10px}"]}),i})()},{path:"",redirectTo:"/home",pathMatch:"full"}];let o6=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Gm.forRoot(i6,{anchorScrolling:"enabled"})],Gm]}),i})();const s6=["navbarBurger"],yN=function(){return[""]};function a6(i,e){if(1&i&&(d.TgZ(0,"a",12),d._uU(1),d.qZA()),2&i){const t=d.oxw();d.Q6J("routerLink",d.DdM(2,yN)),d.xp6(1),d.hij(" ",t.centerText," ")}}function u6(i,e){if(1&i&&(d.TgZ(0,"a",12),d._uU(1),d.qZA()),2&i){const t=d.oxw();d.Q6J("routerLink",d.DdM(2,yN)),d.xp6(1),d.hij(" ",t.centerText," ")}}const _N=function(i){return{"is-active":i}},vN=function(){return["/home"]},l6=function(){return["/resume"]},c6=function(){return["/photo-gallery"]};let d6=(()=>{class i{constructor(t){this.auth=t,this.centerText="David Jose Fernandez",this.showMenu=!1,this.isMobile=!1,this.auth.authStateChange.subscribe(o=>{this.centerText=o?"Admin Mode":"David Jose Fernandez"})}ngAfterViewInit(){this.isMobile=0!==this.burger.nativeElement.offsetHeight}toggleDropDownMenu(){this.showMenu=!this.showMenu}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(wf))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-navbar"]],viewQuery:function(t,o){if(1&t&&d.Gf(s6,5),2&t){let s;d.iGM(s=d.CRH())&&(o.burger=s.first)}},decls:24,vars:16,consts:[[1,"navbar"],[1,"navbar-brand"],["class","navbar-item main-item",3,"routerLink",4,"ngIf"],["role","button",1,"navbar-burger",3,"ngClass","click"],["navbarBurger",""],["aria-hidden","true"],["id","navbar",1,"navbar-menu",3,"ngClass"],[1,"navbar-start"],[1,"navbar-item",3,"routerLink"],["fragment","aboutme",1,"navbar-item",3,"routerLink"],[1,"navbar-end"],[1,"navbar-item"],[1,"navbar-item","main-item",3,"routerLink"]],template:function(t,o){1&t&&(d.TgZ(0,"nav",0),d.TgZ(1,"div",1),d.YNc(2,a6,2,3,"a",2),d.TgZ(3,"a",3,4),d.NdJ("click",function(){return o.toggleDropDownMenu()}),d._UZ(5,"span",5),d._UZ(6,"span",5),d._UZ(7,"span",5),d.qZA(),d.qZA(),d.TgZ(8,"div",6),d.TgZ(9,"div",7),d.TgZ(10,"a",8),d._uU(11," Home "),d.qZA(),d.TgZ(12,"a",9),d._uU(13," About Me "),d.qZA(),d.TgZ(14,"a",8),d._uU(15," Resume "),d.qZA(),d.qZA(),d.YNc(16,u6,2,3,"a",2),d.TgZ(17,"div",10),d.TgZ(18,"a",11),d._uU(19," Past Projects "),d.qZA(),d.TgZ(20,"a",8),d._uU(21," Photo Gallery "),d.qZA(),d.TgZ(22,"a",11),d._uU(23," Contact Me "),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.Q6J("ngIf",o.isMobile),d.xp6(1),d.Q6J("ngClass",d.VKq(8,_N,o.showMenu)),d.xp6(5),d.Q6J("ngClass",d.VKq(10,_N,o.showMenu)),d.xp6(2),d.Q6J("routerLink",d.DdM(12,vN)),d.xp6(2),d.Q6J("routerLink",d.DdM(13,vN)),d.xp6(2),d.Q6J("routerLink",d.DdM(14,l6)),d.xp6(2),d.Q6J("ngIf",!o.isMobile),d.xp6(4),d.Q6J("routerLink",d.DdM(15,c6)))},directives:[ur,Oo,Gu],styles:[".navbar-start[_ngcontent-%COMP%]{margin:0 0 0 auto}.navbar-end[_ngcontent-%COMP%]{margin:0 auto 0 0}.main-item[_ngcontent-%COMP%]{font-weight:bold;font-size:1.5rem}"]}),i})();function h6(i,e){1&i&&(d.TgZ(0,"p",14),d._uU(1,"If you don't know the password, you shouldn't be here!"),d.qZA())}function f6(i,e){if(1&i){const t=d.EpF();d.TgZ(0,"div",2),d.TgZ(1,"div",3),d.NdJ("click",function(){return d.CHM(t),d.oxw().showLogin()}),d.qZA(),d.TgZ(2,"div",4),d.TgZ(3,"div",5),d.TgZ(4,"div",6),d.TgZ(5,"div",7),d._UZ(6,"input",8,9),d.qZA(),d.TgZ(8,"div",10),d.TgZ(9,"button",11),d.NdJ("click",function(){d.CHM(t);const s=d.MAs(7);return d.oxw().attemptLogin(s.value)}),d._uU(10,"Log In"),d.qZA(),d.qZA(),d.qZA(),d.YNc(11,h6,2,0,"p",12),d.qZA(),d.qZA(),d.TgZ(12,"button",13),d.NdJ("click",function(){return d.CHM(t),d.oxw().showLogin()}),d.qZA(),d.qZA()}if(2&i){const t=d.oxw();d.xp6(11),d.Q6J("ngIf",t.showWrongPassword)}}let p6=(()=>{class i{constructor(t){this.auth=t,this.showModal=!1,this.showWrongPassword=!1}ngOnInit(){}showLogin(){this.showModal=!this.showModal}attemptLogin(t){this.auth.updateLogin(t)?(this.showModal=!1,this.showWrongPassword=!1):this.showWrongPassword=!0}}return i.\u0275fac=function(t){return new(t||i)(d.Y36(wf))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-login-button"]],decls:3,vars:1,consts:[[1,"button","is-ghost",3,"click"],[3,"ngIf"],[1,"modal","is-active"],[1,"modal-background",3,"click"],[1,"modal-content"],[1,"box"],[1,"columns"],[1,"column","is-two-thirds"],["type","password","placeholder","Enter Password",1,"input"],["password",""],[1,"column"],[1,"button","is-success","is-fullwidth",3,"click"],["class","wrong-password",4,"ngIf"],["aria-label","close",1,"modal-close","is-large",3,"click"],[1,"wrong-password"]],template:function(t,o){1&t&&(d.TgZ(0,"button",0),d.NdJ("click",function(){return o.showLogin()}),d._uU(1," Login\n"),d.qZA(),d.YNc(2,f6,13,1,"ng-template",1)),2&t&&(d.xp6(2),d.Q6J("ngIf",o.showModal))},directives:[ur],styles:[".wrong-password[_ngcontent-%COMP%]{color:red}.button[_ngcontent-%COMP%]{color:#a9a9a9}"]}),i})(),g6=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-footer"]],decls:27,vars:0,consts:[[1,"footer"],[1,"content","has-text-centered"],[1,"columns"],[1,"column","is-half","is-offset-one-quarter"],[1,"columns","is-mobile"],[1,"column"],[1,"image","is-64x64"],["href","https://www.facebook.com/david.j.fernandez.52","target","_blank"],["src","../../../assets/footer-logos/fblogo.png"],["href","https://www.instagram.com/djfdez_98/","target","_blank"],["src","../../../assets/footer-logos/insta.png"],["href","https://www.linkedin.com/in/david-jose-fernandez-a4436612a/","target","_blank"],["src","../../../assets/footer-logos/linkedin.png"],["href","https://www.youtube.com/channel/UCdya3TiT791rLenrdOthhVg","target","_blank"],["src","../../../assets/footer-logos/youtube.png"],[1,"login-button"]],template:function(t,o){1&t&&(d.TgZ(0,"footer",0),d.TgZ(1,"div",1),d.TgZ(2,"h1"),d._uU(3,"Connect with me on social media!"),d.qZA(),d.qZA(),d.TgZ(4,"div",2),d.TgZ(5,"div",3),d.TgZ(6,"div",4),d.TgZ(7,"div",5),d.TgZ(8,"figure",6),d.TgZ(9,"a",7),d._UZ(10,"img",8),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",5),d.TgZ(12,"figure",6),d.TgZ(13,"a",9),d._UZ(14,"img",10),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",5),d.TgZ(16,"figure",6),d.TgZ(17,"a",11),d._UZ(18,"img",12),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"div",5),d.TgZ(20,"figure",6),d.TgZ(21,"a",13),d._UZ(22,"img",14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(23,"div",1),d.TgZ(24,"p"),d._uU(25,"Developed by David Jose Fernandez"),d.qZA(),d.qZA(),d._UZ(26,"app-login-button",15),d.qZA())},directives:[p6],styles:["footer[_ngcontent-%COMP%]{background-color:#a9a9a9;padding-bottom:0}.column[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),i})(),m6=(()=>{class i{constructor(){this.title="personal-website"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"page-wrapper"],[1,"content-wrapper"]],template:function(t,o){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"app-navbar"),d._UZ(3,"router-outlet"),d.qZA(),d._UZ(4,"app-footer"),d.qZA())},directives:[d6,vf,g6],styles:[""]}),i})();const bN_firebase={apiKey:'AIzaSyC30yoF5WSWkfcgPgKuR3sBE4OGLeE1cM8"',authDomain:"personal-website-9e330.firebaseapp.com",projectId:"personal-website-9e330",storageBucket:"personal-website-9e330.appspot.com",messagingSenderId:"91344364485",appId:'1:913443644853:web:932e4a0c068627c999a5fc"',measurementId:"G-P2CSWF9KLV"};let y6=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.oAB({type:i,bootstrap:[m6]}),i.\u0275inj=d.cJS({providers:[],imports:[[na,$j,o6,kt.hO.initializeApp(bN_firebase),cx,cj,xB,b1,QV,pR,EU]]}),i})();(0,d.G48)(),TS().bootstrapModule(y6).catch(i=>console.error(i))},4762:(Fe,ge,P)=>{"use strict";P.d(ge,{ZT:()=>J,pi:()=>he,mG:()=>X,Jh:()=>L,XA:()=>H,CR:()=>V,ev:()=>le});var d=function(W,ie){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,Q){Y.__proto__=Q}||function(Y,Q){for(var be in Q)Object.prototype.hasOwnProperty.call(Q,be)&&(Y[be]=Q[be])})(W,ie)};function J(W,ie){if("function"!=typeof ie&&null!==ie)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function Y(){this.constructor=W}d(W,ie),W.prototype=null===ie?Object.create(ie):(Y.prototype=ie.prototype,new Y)}var he=function(){return(he=Object.assign||function(ie){for(var Y,Q=1,be=arguments.length;Q<be;Q++)for(var ee in Y=arguments[Q])Object.prototype.hasOwnProperty.call(Y,ee)&&(ie[ee]=Y[ee]);return ie}).apply(this,arguments)};function X(W,ie,Y,Q){return new(Y||(Y=Promise))(function(ee,Oe){function Ke(tn){try{Le(Q.next(tn))}catch(Ze){Oe(Ze)}}function en(tn){try{Le(Q.throw(tn))}catch(Ze){Oe(Ze)}}function Le(tn){tn.done?ee(tn.value):function(ee){return ee instanceof Y?ee:new Y(function(Oe){Oe(ee)})}(tn.value).then(Ke,en)}Le((Q=Q.apply(W,ie||[])).next())})}function L(W,ie){var Q,be,ee,Oe,Y={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return Oe={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(Oe[Symbol.iterator]=function(){return this}),Oe;function Ke(Le){return function(tn){return function(Le){if(Q)throw new TypeError("Generator is already executing.");for(;Y;)try{if(Q=1,be&&(ee=2&Le[0]?be.return:Le[0]?be.throw||((ee=be.return)&&ee.call(be),0):be.next)&&!(ee=ee.call(be,Le[1])).done)return ee;switch(be=0,ee&&(Le=[2&Le[0],ee.value]),Le[0]){case 0:case 1:ee=Le;break;case 4:return Y.label++,{value:Le[1],done:!1};case 5:Y.label++,be=Le[1],Le=[0];continue;case 7:Le=Y.ops.pop(),Y.trys.pop();continue;default:if(!(ee=(ee=Y.trys).length>0&&ee[ee.length-1])&&(6===Le[0]||2===Le[0])){Y=0;continue}if(3===Le[0]&&(!ee||Le[1]>ee[0]&&Le[1]<ee[3])){Y.label=Le[1];break}if(6===Le[0]&&Y.label<ee[1]){Y.label=ee[1],ee=Le;break}if(ee&&Y.label<ee[2]){Y.label=ee[2],Y.ops.push(Le);break}ee[2]&&Y.ops.pop(),Y.trys.pop();continue}Le=ie.call(W,Y)}catch(tn){Le=[6,tn],be=0}finally{Q=ee=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}}([Le,tn])}}}function H(W){var ie="function"==typeof Symbol&&Symbol.iterator,Y=ie&&W[ie],Q=0;if(Y)return Y.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&Q>=W.length&&(W=void 0),{value:W&&W[Q++],done:!W}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(W,ie){var Y="function"==typeof Symbol&&W[Symbol.iterator];if(!Y)return W;var be,Oe,Q=Y.call(W),ee=[];try{for(;(void 0===ie||ie-- >0)&&!(be=Q.next()).done;)ee.push(be.value)}catch(Ke){Oe={error:Ke}}finally{try{be&&!be.done&&(Y=Q.return)&&Y.call(Q)}finally{if(Oe)throw Oe.error}}return ee}function le(W,ie,Y){if(Y||2===arguments.length)for(var ee,Q=0,be=ie.length;Q<be;Q++)(ee||!(Q in ie))&&(ee||(ee=Array.prototype.slice.call(ie,0,Q)),ee[Q]=ie[Q]);return W.concat(ee||Array.prototype.slice.call(ie))}}},Fe=>{Fe(Fe.s=9177)}]);