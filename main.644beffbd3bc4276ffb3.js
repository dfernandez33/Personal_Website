(self.webpackChunkpersonal_website=self.webpackChunkpersonal_website||[]).push([[179],{8255:Ve=>{function me(P){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+P+"'");throw g.code="MODULE_NOT_FOUND",g})}me.keys=()=>[],me.resolve=me,me.id=8255,Ve.exports=me},3018:(Ve,me,P)=>{"use strict";P.d(me,{deG:()=>Of,tb:()=>hv,AFp:()=>Lr,ip1:()=>Xu,CZH:()=>ec,hGG:()=>RS,z2F:()=>ff,sBO:()=>eI,Sil:()=>ms,_Vd:()=>aa,EJc:()=>AE,SBq:()=>Ji,qLn:()=>Ka,vpe:()=>xi,gxx:()=>Os,tBr:()=>qa,XFs:()=>je,OlP:()=>tn,zs3:()=>Ct,ZZ4:()=>Ul,aQg:()=>uh,soG:()=>Vh,YKP:()=>lh,v3s:()=>gS,h0i:()=>Ii,PXZ:()=>PE,R0b:()=>Ur,FiY:()=>Ui,Lbi:()=>dv,g9A:()=>IE,Qsj:()=>Fu,FYo:()=>xo,JOm:()=>Hi,Tiy:()=>dy,q3G:()=>qt,tp0:()=>qo,EAV:()=>vS,Rgc:()=>jl,dDg:()=>nr,DyG:()=>kf,q4F:()=>Ll,GfV:()=>uw,s_b:()=>Si,ifc:()=>Kt,eFA:()=>OE,G48:()=>Tv,X6Q:()=>Dv,_c5:()=>GE,VLi:()=>qh,c2e:()=>SE,zSh:()=>mo,wAp:()=>Be,vHH:()=>De,EiD:()=>Kp,mCW:()=>kc,qzn:()=>vr,JVY:()=>V_,pB0:()=>B_,eBb:()=>XC,L6k:()=>j_,LAX:()=>$a,cg1:()=>zd,Tjo:()=>DS,kL8:()=>Xm,yhl:()=>Ga,dqk:()=>x,sIi:()=>pu,CqO:()=>Dm,QGY:()=>Ld,F4k:()=>Pn,RDi:()=>dc,AaK:()=>k,z3N:()=>vi,TTD:()=>Xv,xp6:()=>D0,uIk:()=>hl,ekj:()=>Fm,Suo:()=>Yy,Xpm:()=>ic,lG2:()=>Zv,Yz7:()=>dn,cJS:()=>Oo,oAB:()=>vf,Yjl:()=>zv,Y36:()=>Er,_UZ:()=>Fd,qZA:()=>_u,TgZ:()=>bl,EpF:()=>Cr,Ikx:()=>Jm,LFG:()=>yn,$8M:()=>Fi,NdJ:()=>Ud,CRH:()=>cE,oxw:()=>db,ALo:()=>Xi,lcZ:()=>No,Q6J:()=>ts,s9C:()=>Im,DdM:()=>Th,VKq:()=>Ih,iGM:()=>Ky,MAs:()=>zs,CHM:()=>Cp,LSH:()=>ji,kYT:()=>oc,Jzz:()=>Cb,YNc:()=>fm,W1O:()=>rf,_uU:()=>Bm,hij:()=>Gt,AsE:()=>mt,Gf:()=>Qy});var g=P(9765),te=P(5319),pe=P(7574),ie=P(6682),ae=P(2441);var ce=P(1307);function $(){return new g.xQ}function L(o){for(let s in o)if(o[s]===L)return s;throw Error("Could not find renamed property on target object.")}function k(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(k).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function H(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const ue=L({__forward_ref__:L});function oe(o){return o.__forward_ref__=oe,o.toString=function(){return k(this())},o}function se(o){return function(o){return"function"==typeof o&&o.hasOwnProperty(ue)&&o.__forward_ref__===oe}(o)?o():o}class De extends Error{constructor(s,u){super(function(o,s){return`${o?`NG0${o}: `:""}${s}`}(s,u)),this.code=s}}function Ae(o){return"string"==typeof o?o:null==o?"":String(o)}function Nt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ae(o)}function J(o,s){const u=s?` in ${s}`:"";throw new De("201",`No provider for ${Nt(o)} found${u}`)}function It(o,s){null==o&&function(o,s,u,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${u} ${l} ${s} <=Actual]`))}(s,o,null,"!=")}function dn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Oo(o){return{providers:o.providers||[],imports:o.imports||[]}}function ut(o){return _t(o,Lt)||_t(o,Zn)}function _t(o,s){return o.hasOwnProperty(s)?o[s]:null}function hn(o){return o&&(o.hasOwnProperty(wn)||o.hasOwnProperty(mf))?o[wn]:null}const Lt=L({\u0275prov:L}),wn=L({\u0275inj:L}),Zn=L({ngInjectableDef:L}),mf=L({ngInjectorDef:L});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let yf;function ro(o){const s=yf;return yf=o,s}function an(o,s,u){const l=ut(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&je.Optional?null:void 0!==s?s:void J(k(o),"Injector")}function qe(o){return{toString:o}.toString()}var dr=(()=>((dr=dr||{})[dr.OnPush=0]="OnPush",dr[dr.Default=1]="Default",dr))(),Kt=(()=>((Kt=Kt||{})[Kt.Emulated=0]="Emulated",Kt[Kt.None=2]="None",Kt[Kt.ShadowDom=3]="ShadowDom",Kt))();const Hr="undefined"!=typeof globalThis&&globalThis,lp="undefined"!=typeof window&&window,Qt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,x=Hr||U||lp||Qt,q={},ge=[],Ge=L({\u0275cmp:L}),bt=L({\u0275dir:L}),Et=L({\u0275pipe:L}),wt=L({\u0275mod:L}),zn=L({\u0275loc:L}),un=L({\u0275fac:L}),Ln=L({__NG_ELEMENT_ID__:L});let Ta=0;function ic(o){return qe(()=>{const u={},l={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===dr.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||ge,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Kt.Emulated,id:"c",styles:o.styles||ge,_:null,setInput:null,schemas:o.schemas||null,tView:null},d=o.directives,h=o.features,m=o.pipes;return l.id+=Ta++,l.inputs=Ia(o.inputs,u),l.outputs=Ia(o.outputs),h&&h.forEach(v=>v(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(Gv):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(fp):null,l})}function Gv(o){return Un(o)||function(o){return o[bt]||null}(o)}function fp(o){return function(o){return o[Et]||null}(o)}const $v={};function vf(o){return qe(()=>{const s={type:o.type,bootstrap:o.bootstrap||ge,declarations:o.declarations||ge,imports:o.imports||ge,exports:o.exports||ge,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&($v[o.id]=o.type),s})}function oc(o,s){return qe(()=>{const u=hr(o,!0);u.declarations=s.declarations||ge,u.imports=s.imports||ge,u.exports=s.exports||ge})}function Ia(o,s){if(null==o)return q;const u={};for(const l in o)if(o.hasOwnProperty(l)){let d=o[l],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),u[d]=l,s&&(s[d]=h)}return u}const Zv=ic;function zv(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Un(o){return o[Ge]||null}function hr(o,s){const u=o[wt]||null;if(!u&&!0===s)throw new Error(`Type ${k(o)} does not have '\u0275mod' property.`);return u}function oo(o){return Array.isArray(o)&&"object"==typeof o[1]}function cn(o){return Array.isArray(o)&&!0===o[1]}function pp(o){return 0!=(8&o.flags)}function Ef(o){return 2==(2&o.flags)}function Cf(o){return 1==(1&o.flags)}function fi(o){return null!==o.template}function Df(o){return 0!=(512&o[2])}function ws(o,s){return o.hasOwnProperty(un)?o[un]:null}class Jv{constructor(s,u,l){this.previousValue=s,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function Xv(){return gp}function gp(o){return o.type.prototype.ngOnChanges&&(o.setInput=mA),gA}function gA(){const o=mp(this),s=null==o?void 0:o.current;if(s){const u=o.previous;if(u===q)o.previous=s;else for(let l in s)u[l]=s[l];o.current=null,this.ngOnChanges(s)}}function mA(o,s,u,l){const d=mp(o)||function(o,s){return o[dC]=s}(o,{previous:q,current:null}),h=d.current||(d.current={}),m=d.previous,v=this.declaredInputs[u],b=m[v];h[v]=new Jv(b&&b.currentValue,s,m===q),o[l]=s}Xv.ngInherit=!0;const dC="__ngSimpleChanges__";function mp(o){return o[dC]||null}let fc;function dc(o){fc=o}function Jt(o){return!!o.listen}const n_={createRenderer:(o,s)=>void 0!==fc?fc:"undefined"!=typeof document?document:void 0};function Xt(o){for(;Array.isArray(o);)o=o[0];return o}function If(o,s){return Xt(s[o])}function hi(o,s){return Xt(s[o.index])}function Ra(o,s){return o.data[s]}function hc(o,s){return o[s]}function Rr(o,s){const u=s[o];return oo(u)?u:u[0]}function r_(o){return 4==(4&o[2])}function _p(o){return 128==(128&o[2])}function Fo(o,s){return null==s?null:o[s]}function o_(o){o[18]=0}function bp(o,s){o[5]+=s;let u=o,l=o[3];for(;null!==l&&(1===s&&1===u[5]||-1===s&&0===u[5]);)l[5]+=s,u=l,l=l[3]}const tt={lFrame:h_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ep(){return tt.bindingsEnabled}function he(){return tt.lFrame.lView}function ht(){return tt.lFrame.tView}function Cp(o){return tt.lFrame.contextLView=o,o[8]}function gn(){let o=a_();for(;null!==o&&64===o.type;)o=o.parent;return o}function a_(){return tt.lFrame.currentTNode}function Oi(o,s){const u=tt.lFrame;u.currentTNode=o,u.isParent=s}function Dp(){return tt.lFrame.isParent}function Ma(){return tt.isInCheckNoChangesMode}function Na(o){tt.isInCheckNoChangesMode=o}function pr(){const o=tt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function ki(){return tt.lFrame.bindingIndex}function Pa(){return tt.lFrame.bindingIndex++}function so(o){const s=tt.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,u}function Ip(o,s){const u=tt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Sp(s)}function Sp(o){tt.lFrame.currentDirectiveIndex=o}function l_(){return tt.lFrame.currentQueryIndex}function f_(o){tt.lFrame.currentQueryIndex=o}function bC(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function wC(o,s,u){if(u&je.SkipSelf){let d=s,h=o;for(;!(d=d.parent,null!==d||u&je.Host||(d=bC(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,o=h}const l=tt.lFrame=d_();return l.currentTNode=s,l.lView=o,!0}function yc(o){const s=d_(),u=o[1];tt.lFrame=s,s.currentTNode=u.firstChild,s.lView=o,s.tView=u,s.contextLView=o,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function d_(){const o=tt.lFrame,s=null===o?null:o.child;return null===s?h_(o):s}function h_(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Rp(){const o=tt.lFrame;return tt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const EC=Rp;function xp(){const o=Rp();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ir(){return tt.lFrame.selectedIndex}function Lo(o){tt.lFrame.selectedIndex=o}function en(){const o=tt.lFrame;return Ra(o.tView,o.selectedIndex)}function Af(o,s){for(let u=s.directiveStart,l=s.directiveEnd;u<l;u++){const h=o.data[u].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:w,ngOnDestroy:D}=h;m&&(o.contentHooks||(o.contentHooks=[])).push(-u,m),v&&((o.contentHooks||(o.contentHooks=[])).push(u,v),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,v)),b&&(o.viewHooks||(o.viewHooks=[])).push(-u,b),w&&((o.viewHooks||(o.viewHooks=[])).push(u,w),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,w)),null!=D&&(o.destroyHooks||(o.destroyHooks=[])).push(u,D)}}function Rf(o,s,u){g_(o,s,3,u)}function Pp(o,s,u,l){(3&o[2])===u&&g_(o,s,u,l)}function p_(o,s){let u=o[2];(3&u)===s&&(u&=2047,u+=1,o[2]=u)}function g_(o,s,u,l){const h=null!=l?l:-1,m=s.length-1;let v=0;for(let b=void 0!==l?65535&o[18]:0;b<m;b++)if("number"==typeof s[b+1]){if(v=s[b],null!=l&&v>=l)break}else s[b]<0&&(o[18]+=65536),(v<h||-1==h)&&(SC(o,u,s,b),o[18]=(4294901760&o[18])+b+2),b++}function SC(o,s,u,l){const d=u[l]<0,h=u[l+1],v=o[d?-u[l]:u[l]];if(d){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class vc{constructor(s,u,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function Oa(o,s,u){const l=Jt(o);let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const m=u[d++],v=u[d++],b=u[d++];l?o.setAttribute(s,v,b,m):s.setAttributeNS(m,v,b)}else{const m=h,v=u[++d];y_(m)?l&&o.setProperty(s,m,v):l?o.setAttribute(s,m,v):s.setAttribute(m,v),d++}}return d}function Op(o){return 3===o||4===o||6===o}function y_(o){return 64===o.charCodeAt(0)}function kp(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let u=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?u=d:0===u||xC(o,u,d,null,-1===u||2===u?s[++l]:null)}}return o}function xC(o,s,u,l,d){let h=0,m=o.length;if(-1===s)m=-1;else for(;h<o.length;){const v=o[h++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=h-1;break}}}for(;h<o.length;){const v=o[h];if("number"==typeof v)break;if(v===u){if(null===l)return void(null!==d&&(o[h+1]=d));if(l===o[h+1])return void(o[h+2]=d)}h++,null!==l&&h++,null!==d&&h++}-1!==m&&(o.splice(m,0,s),h=m+1),o.splice(h++,0,u),null!==l&&o.splice(h++,0,l),null!==d&&o.splice(h++,0,d)}function v_(o){return-1!==o}function _c(o){return 32767&o}function bc(o,s){let u=function(o){return o>>16}(o),l=s;for(;u>0;)l=l[15],u--;return l}let __=!0;function Fp(o){const s=__;return __=o,s}let $e=0;function ka(o,s){const u=Mf(o,s);if(-1!==u)return u;const l=s[1];l.firstCreatePass&&(o.injectorIndex=s.length,xr(l.data,o),xr(s,null),xr(l.blueprint,null));const d=Nf(o,s),h=o.injectorIndex;if(v_(d)){const m=_c(d),v=bc(d,s),b=v[1].data;for(let w=0;w<8;w++)s[h+w]=v[m+w]|b[m+w]}return s[h+8]=d,h}function xr(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Mf(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Nf(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,l=null,d=s;for(;null!==d;){const h=d[1],m=h.type;if(l=2===m?h.declTNode:1===m?d[6]:null,null===l)return-1;if(u++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function or(o,s,u){!function(o,s,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(Ln)&&(l=u[Ln]),null==l&&(l=u[Ln]=$e++);const d=255&l;s.data[o+(d>>5)]|=1<<d}(o,s,u)}function b_(o,s,u){if(u&je.Optional)return o;J(s,"NodeInjector")}function w_(o,s,u,l){if(u&je.Optional&&void 0===l&&(l=null),0==(u&(je.Self|je.Host))){const d=o[9],h=ro(void 0);try{return d?d.get(s,l,u&je.Optional):an(s,l,u&je.Optional)}finally{ro(h)}}return b_(l,s,u)}function pi(o,s,u,l=je.Default,d){if(null!==o){const h=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Ln)?o[Ln]:void 0;return"number"==typeof s?s>=0?255&s:OC:s}(u);if("function"==typeof h){if(!wC(s,o,l))return l&je.Host?b_(d,u,l):w_(s,u,l,d);try{const m=h(l);if(null!=m||l&je.Optional)return m;J(u)}finally{EC()}}else if("number"==typeof h){let m=null,v=Mf(o,s),b=-1,w=l&je.Host?s[16][6]:null;for((-1===v||l&je.SkipSelf)&&(b=-1===v?Nf(o,s):s[v+8],-1!==b&&Ec(l,!1)?(m=s[1],v=_c(b),s=bc(b,s)):v=-1);-1!==v;){const D=s[1];if(FC(h,v,D.data)){const I=C_(v,s,u,m,l,w);if(I!==E_)return I}b=s[v+8],-1!==b&&Ec(l,s[1].data[v+8]===w)&&FC(h,v,s)?(m=D,v=_c(b),s=bc(b,s)):v=-1}}}return w_(s,u,l,d)}const E_={};function OC(){return new ao(gn(),he())}function C_(o,s,u,l,d,h){const m=s[1],v=m.data[o+8],D=Pf(v,m,u,null==l?Ef(v)&&__:l!=m&&0!=(3&v.type),d&je.Host&&h===v);return null!==D?wc(s,m,D,v):E_}function Pf(o,s,u,l,d){const h=o.providerIndexes,m=s.data,v=1048575&h,b=o.directiveStart,D=h>>20,A=d?v+D:o.directiveEnd;for(let O=l?v:v+D;O<A;O++){const V=m[O];if(O<b&&u===V||O>=b&&V.type===u)return O}if(d){const O=m[b];if(O&&fi(O)&&O.type===u)return b}return null}function wc(o,s,u,l){let d=o[u];const h=s.data;if(function(o){return o instanceof vc}(d)){const m=d;m.resolving&&function(o,s){throw new De("200",`Circular dependency in DI detected for ${o}`)}(Nt(h[u]));const v=Fp(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?ro(m.injectImpl):null;wC(o,l,je.Default);try{d=o[u]=m.factory(void 0,h,o,l),s.firstCreatePass&&u>=l.directiveStart&&function(o,s,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(l){const m=gp(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,d),h&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,h),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,h))}(u,h[u],s)}finally{null!==b&&ro(b),Fp(v),m.resolving=!1,EC()}}return d}function FC(o,s,u){return!!(u[s+(o>>5)]&1<<o)}function Ec(o,s){return!(o&je.Self||o&je.Host&&s)}class ao{constructor(s,u){this._tNode=s,this._lView=u}get(s,u){return pi(this._tNode,this._lView,s,void 0,u)}}function Fi(o){return function(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const u=o.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const h=u[d];if(Op(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(h===s)return u[d+1];d+=2}}}return null}(gn(),o)}const Fa="__parameters__";function Cs(o,s,u){return qe(()=>{const l=function(o){return function(...u){if(o){const l=o(...u);for(const d in l)this[d]=l[d]}}}(s);function d(...h){if(this instanceof d)return l.apply(this,h),this;const m=new d(...h);return v.annotation=m,v;function v(b,w,D){const I=b.hasOwnProperty(Fa)?b[Fa]:Object.defineProperty(b,Fa,{value:[]})[Fa];for(;I.length<=D;)I.push(null);return(I[D]=I[D]||[]).push(m),b}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=o,d.annotationCls=d,d})}class tn{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=dn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Of=new tn("AnalyzeForEntryComponents"),kf=Function;function $r(o,s){void 0===s&&(s=o);for(let u=0;u<o.length;u++){let l=o[u];Array.isArray(l)?(s===o&&(s=o.slice(0,u)),$r(l,s)):s!==o&&s.push(l)}return s}function gi(o,s){o.forEach(u=>Array.isArray(u)?gi(u,s):s(u))}function Ff(o,s,u){s>=o.length?o.push(u):o.splice(s,0,u)}function Ds(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Mr(o,s,u){let l=yr(o,s);return l>=0?o[1|l]=u:(l=~l,function(o,s,u,l){let d=o.length;if(d==s)o.push(u,l);else if(1===d)o.push(l,o[0]),o[0]=u;else{for(d--,o.push(o[d-1],o[d]);d>s;)o[d]=o[d-2],d--;o[s]=u,o[s+1]=l}}(o,l,s,u)),l}function Up(o,s){const u=yr(o,s);if(u>=0)return o[1|u]}function yr(o,s){return function(o,s,u){let l=0,d=o.length>>u;for(;d!==l;){const h=l+(d-l>>1),m=o[h<<u];if(s===m)return h<<u;m>s?d=h:l=h+1}return~(d<<u)}(o,s,1)}const Sc={},jp="__NG_DI_FLAG__",ja="ngTempTokenPath",x_=/\n/gm,Bp="__source",Lf=L({provide:String,useValue:L});let Is;function Ba(o){const s=Is;return Is=o,s}function zC(o,s=je.Default){if(void 0===Is)throw new Error("inject() must be called from an injection context");return null===Is?an(o,void 0,s):Is.get(o,s&je.Optional?null:void 0,s)}function yn(o,s=je.Default){return(yf||zC)(se(o),s)}function Ho(o){const s=[];for(let u=0;u<o.length;u++){const l=se(o[u]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,h=je.Default;for(let m=0;m<l.length;m++){const v=l[m],b=FA(v);"number"==typeof b?-1===b?d=v.token:h|=b:d=v}s.push(yn(d,h))}else s.push(yn(l))}return s}function Ha(o,s){return o[jp]=s,o.prototype[jp]=s,o}function FA(o){return o[jp]}function xn(o,s,u,l){const d=o[ja];throw s[Bp]&&d.unshift(s[Bp]),o.message=function(o,s,u,l=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let d=k(s);if(Array.isArray(s))d=s.map(k).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):k(v)))}d=`{${h.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${o.replace(x_,"\n  ")}`}("\n"+o.message,d,u,l),o.ngTokenPath=d,o[ja]=null,o}const qa=Ha(Cs("Inject",o=>({token:o})),-1),Ui=Ha(Cs("Optional"),8),qo=Ha(Cs("SkipSelf"),4);let Rs;function Go(o){var s;return(null===(s=function(){if(void 0===Rs&&(Rs=null,x.trustedTypes))try{Rs=x.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Rs}())||void 0===s?void 0:s.createHTML(o))||o}class xs{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class QC extends xs{getTypeName(){return"HTML"}}class YC extends xs{getTypeName(){return"Style"}}class JC extends xs{getTypeName(){return"Script"}}class U_ extends xs{getTypeName(){return"URL"}}class Gp extends xs{getTypeName(){return"ResourceURL"}}function vi(o){return o instanceof xs?o.changingThisBreaksApplicationSecurity:o}function vr(o,s){const u=Ga(o);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function Ga(o){return o instanceof xs&&o.getTypeName()||null}function V_(o){return new QC(o)}function j_(o){return new YC(o)}function XC(o){return new JC(o)}function $a(o){return new U_(o)}function B_(o){return new Gp(o)}class qf{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Go(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class q_{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const l=this.inertDocument.createElement("body");u.appendChild(l)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Go(s),u;const l=this.inertDocument.createElement("body");return l.innerHTML=Go(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const u=s.attributes;for(let d=u.length-1;0<d;d--){const m=u.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const G_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function kc(o){return(o=String(o)).match(G_)||o.match(Zp)?o:"unsafe:"+o}function _i(o){const s={};for(const u of o.split(","))s[u]=!0;return s}function Lc(...o){const s={};for(const u of o)for(const l in u)u.hasOwnProperty(l)&&(s[l]=!0);return s}const Z_=_i("area,br,col,hr,img,wbr"),z_=_i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uc=_i("rp,rt"),$f=Lc(Z_,Lc(z_,_i("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lc(Uc,_i("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lc(Uc,z_)),zp=_i("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vc=_i("srcset"),K_=Lc(zp,Vc,_i("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_i("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Q_=_i("script,style,template");class Zf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!$f.hasOwnProperty(u))return this.sanitizedSomething=!0,!Q_.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=s.attributes;for(let d=0;d<l.length;d++){const h=l.item(d),m=h.name,v=m.toLowerCase();if(!K_.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let b=h.value;zp[v]&&(b=kc(b)),Vc[v]&&(o=b,b=(o=String(o)).split(",").map(s=>kc(s.trim())).join(", ")),this.buf.push(" ",m,'="',Y_(b),'"')}var o;return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();$f.hasOwnProperty(u)&&!Z_.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(Y_(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const tD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wp=/([^\#-~ |!])/g;function Y_(o){return o.replace(/&/g,"&amp;").replace(tD,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Wp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jc;function Kp(o,s){let u=null;try{jc=jc||function(o){const s=new q_(o);return function(){try{return!!(new window.DOMParser).parseFromString(Go(""),"text/html")}catch(o){return!1}}()?new qf(s):s}(o);let l=s?String(s):"";u=jc.getInertBodyElement(l);let d=5,h=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=h,h=u.innerHTML,u=jc.getInertBodyElement(l)}while(l!==h);return Go((new Zf).sanitizeChildren(Qp(u)||u))}finally{if(u){const l=Qp(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Qp(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var qt=(()=>((qt=qt||{})[qt.NONE=0]="NONE",qt[qt.HTML=1]="HTML",qt[qt.STYLE=2]="STYLE",qt[qt.SCRIPT=3]="SCRIPT",qt[qt.URL=4]="URL",qt[qt.RESOURCE_URL=5]="RESOURCE_URL",qt))();function ji(o){const s=function(){const o=he();return o&&o[12]}();return s?s.sanitize(qt.URL,o)||"":vr(o,"URL")?vi(o):kc(Ae(o))}const Kf="__ngContext__";function Ot(o,s){o[Kf]=s}function Qf(o){const s=function(o){return o[Kf]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function Xf(o){return o.ngOriginalError}function tg(o,...s){o.error(...s)}class Ka{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),l=this._findContext(s),d=(o=s)&&o.ngErrorLogger||tg;var o;d(this._console,"ERROR",s),u&&d(this._console,"ORIGINAL ERROR",u),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Xf(s)):null}_findOriginalError(s){let u=s&&Xf(s);for(;u&&Xf(u);)u=Xf(u);return u||null}}const u0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(x))();function Bi(o){return o instanceof Function?o():o}var Hi=(()=>((Hi=Hi||{})[Hi.Important=1]="Important",Hi[Hi.DashCase=2]="DashCase",Hi))();function rg(o,s){return undefined(o,s)}function Ya(o){const s=o[3];return cn(s)?s[3]:s}function rd(o){return f0(o[13])}function sg(o){return f0(o[4])}function f0(o){for(;null!==o&&!cn(o);)o=o[4];return o}function Ja(o,s,u,l,d){if(null!=l){let h,m=!1;cn(l)?h=l:oo(l)&&(m=!0,l=l[0]);const v=Xt(l);0===o&&null!==u?null==d?Gc(s,u,v):qi(s,u,v,d||null,!0):1===o&&null!==u?qi(s,u,v,d||null,!0):2===o?function(o,s,u){const l=sd(o,s);l&&function(o,s,u,l){Jt(o)?o.removeChild(s,u,l):s.removeChild(u)}(o,l,s,u)}(s,v,m):3===o&&s.destroyNode(v),null!=h&&function(o,s,u,l,d){const h=u[7];h!==Xt(u)&&Ja(s,o,l,h,d);for(let v=10;v<u.length;v++){const b=u[v];zc(b[1],b,o,s,l,h)}}(s,o,h,u,d)}}function ug(o,s,u){return Jt(o)?o.createElement(s,u):null===u?o.createElement(s):o.createElementNS(u,s)}function h0(o,s){const u=o[9],l=u.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,bp(d,-1)),u.splice(l,1)}function lg(o,s){if(o.length<=10)return;const u=10+s,l=o[u];if(l){const d=l[17];null!==d&&d!==o&&h0(d,l),s>0&&(o[u-1][4]=l[4]);const h=Ds(o,10+s);!function(o,s){zc(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function p0(o,s){if(!(256&s[2])){const u=s[11];Jt(u)&&u.destroyNode&&zc(o,s,u,3,null,null),function(o){let s=o[13];if(!s)return od(o[1],o);for(;s;){let u=null;if(oo(s))u=s[13];else{const l=s[10];l&&(u=l)}if(!u){for(;s&&!s[4]&&s!==o;)oo(s)&&od(s[1],s),s=s[3];null===s&&(s=o),oo(s)&&od(s[1],s),u=s&&s[4]}s=u}}(s)}}function od(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(o,s){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let l=0;l<u.length;l+=2){const d=s[u[l]];if(!(d instanceof vc)){const h=u[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=d[h[m]],b=h[m+1];try{b.call(v)}finally{}}else try{h.call(d)}finally{}}}}(o,s),function(o,s){const u=o.cleanup,l=s[7];let d=-1;if(null!==u)for(let h=0;h<u.length-1;h+=2)if("string"==typeof u[h]){const m=u[h+1],v="function"==typeof m?m(s):Xt(s[m]),b=l[d=u[h+2]],w=u[h+3];"boolean"==typeof w?v.removeEventListener(u[h],b,w):w>=0?l[d=w]():l[d=-w].unsubscribe(),h+=2}else{const m=l[d=u[h+1]];u[h].call(m)}if(null!==l){for(let h=d+1;h<l.length;h++)l[h]();s[7]=null}}(o,s),1===s[1].type&&Jt(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&cn(s[3])){u!==s[3]&&h0(u,s);const l=s[19];null!==l&&l.detachView(o)}}}function sr(o,s,u){return function(o,s,u){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return u[0];if(2&l.flags){const d=o.data[l.directiveStart].encapsulation;if(d===Kt.None||d===Kt.Emulated)return null}return hi(l,u)}(o,s.parent,u)}function qi(o,s,u,l,d){Jt(o)?o.insertBefore(s,u,l,d):s.insertBefore(u,l,d)}function Gc(o,s,u){Jt(o)?o.appendChild(s,u):s.appendChild(u)}function $c(o,s,u,l,d){null!==l?qi(o,s,u,l,d):Gc(o,s,u)}function sd(o,s){return Jt(o)?o.parentNode(s):s.parentNode}let fg=function(o,s,u){return 40&o.type?hi(o,u):null};function Zc(o,s,u,l){const d=sr(o,l,s),h=s[11],v=function(o,s,u){return fg(o,s,u)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(u))for(let b=0;b<u.length;b++)$c(h,d,u[b],v,!1);else $c(h,d,u,v,!1)}function tu(o,s){if(null!==s){const u=s.type;if(3&u)return hi(s,o);if(4&u)return lo(-1,o[s.index]);if(8&u){const l=s.child;if(null!==l)return tu(o,l);{const d=o[s.index];return cn(d)?lo(-1,d):Xt(d)}}if(32&u)return rg(s,o)()||Xt(o[s.index]);{const l=SD(o,s);return null!==l?Array.isArray(l)?l[0]:tu(Ya(o[16]),l):tu(o,s.next)}}return null}function SD(o,s){return null!==s?o[16][6].projection[s.projection]:null}function lo(o,s){const u=10+o+1;if(u<s.length){const l=s[u],d=l[1].firstChild;if(null!==d)return tu(l,d)}return s[7]}function gg(o,s,u,l,d,h,m){for(;null!=u;){const v=l[u.index],b=u.type;if(m&&0===s&&(v&&Ot(Xt(v),l),u.flags|=4),64!=(64&u.flags))if(8&b)gg(o,s,u.child,l,d,h,!1),Ja(s,o,d,v,h);else if(32&b){const w=rg(u,l);let D;for(;D=w();)Ja(s,o,d,D,h);Ja(s,o,d,v,h)}else 16&b?mg(o,s,l,u,d,h):Ja(s,o,d,v,h);u=m?u.projectionNext:u.next}}function zc(o,s,u,l,d,h){gg(u,l,o.firstChild,s,d,h,!1)}function mg(o,s,u,l,d,h){const m=u[16],b=m[6].projection[l.projection];if(Array.isArray(b))for(let w=0;w<b.length;w++)Ja(s,o,d,b[w],h);else gg(o,s,b,m[3],d,h,!0)}function y0(o,s,u){Jt(o)?o.setAttribute(s,"style",u):s.style.cssText=u}function ud(o,s,u){Jt(o)?""===u?o.removeAttribute(s,"class"):o.setAttribute(s,"class",u):s.className=u}function v0(o,s,u){let l=o.length;for(;;){const d=o.indexOf(s,u);if(-1===d)return d;if(0===d||o.charCodeAt(d-1)<=32){const h=s.length;if(d+h===l||o.charCodeAt(d+h)<=32)return d}u=d+1}}const _0="ng-template";function yg(o,s,u){let l=0;for(;l<o.length;){let d=o[l++];if(u&&"class"===d){if(d=o[l],-1!==v0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<o.length&&"string"==typeof(d=o[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function b0(o){return 4===o.type&&o.value!==_0}function MD(o,s,u){return s===(4!==o.type||u?o.value:_0)}function w0(o,s,u){let l=4;const d=o.attrs||[],h=function(o){for(let s=0;s<o.length;s++)if(Op(o[s]))return s;return o.length}(d);let m=!1;for(let v=0;v<s.length;v++){const b=s[v];if("number"!=typeof b){if(!m)if(4&l){if(l=2|1&l,""!==b&&!MD(o,b,u)||""===b&&1===s.length){if(bi(l))return!1;m=!0}}else{const w=8&l?b:s[++v];if(8&l&&null!==o.attrs){if(!yg(o.attrs,w,u)){if(bi(l))return!1;m=!0}continue}const I=WA(8&l?"class":b,d,b0(o),u);if(-1===I){if(bi(l))return!1;m=!0;continue}if(""!==w){let A;A=I>h?"":d[I+1].toLowerCase();const O=8&l?A:null;if(O&&-1!==v0(O,w,0)||2&l&&w!==A){if(bi(l))return!1;m=!0}}}}else{if(!m&&!bi(l)&&!bi(b))return!1;if(m&&bi(b))continue;m=!1,l=b|1&l}}return bi(l)||m}function bi(o){return 0==(1&o)}function WA(o,s,u,l){if(null===s)return-1;let d=0;if(l||!u){let h=!1;for(;d<s.length;){const m=s[d];if(m===o)return d;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=h?1:2}return-1}return function(o,s){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const l=o[u];if("number"==typeof l)return-1;if(l===s)return u;u++}return-1}(s,o)}function E0(o,s,u=!1){for(let l=0;l<s.length;l++)if(w0(o,s[l],u))return!0;return!1}function vg(o,s){return o?":not("+s.trim()+")":s}function kD(o){let s=o[0],u=1,l=2,d="",h=!1;for(;u<o.length;){let m=o[u];if("string"==typeof m)if(2&l){const v=o[++u];d+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!bi(m)&&(s+=vg(h,d),d=""),l=m,h=h||!bi(l);u++}return""!==d&&(s+=vg(h,d)),s}const Ye={};function D0(o){T0(ht(),he(),ir()+o,Ma())}function T0(o,s,u,l){if(!l)if(3==(3&s[2])){const h=o.preOrderCheckHooks;null!==h&&Rf(s,h,u)}else{const h=o.preOrderHooks;null!==h&&Pp(s,h,0,u)}Lo(u)}function ld(o,s){return o<<17|s<<2}function wi(o){return o>>17&32767}function _g(o){return 2|o}function Ei(o){return(131068&o)>>2}function S(o,s){return-131069&o|s<<2}function fo(o){return 1|o}function gd(o,s){const u=o.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const d=u[l],h=u[l+1];if(-1!==h){const m=o.data[h];f_(d),m.contentQueries(2,s[h],h)}}}function ou(o,s,u,l,d,h,m,v,b,w){const D=s.blueprint.slice();return D[0]=d,D[2]=140|l,o_(D),D[3]=D[15]=o,D[8]=u,D[10]=m||o&&o[10],D[11]=v||o&&o[11],D[12]=b||o&&o[12]||null,D[9]=w||o&&o[9]||null,D[6]=h,D[16]=2==s.type?o[16]:D,D}function go(o,s,u,l,d){let h=o.data[s];if(null===h)h=function(o,s,u,l,d){const h=a_(),m=Dp(),b=o.data[s]=function(o,s,u,l,d,h){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,u,s,l,d);return null===o.firstChild&&(o.firstChild=b),null!==h&&(m?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(o,s,u,l,d),tt.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=u,h.value=l,h.attrs=d;const m=function(){const o=tt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Oi(h,!0),h}function Zo(o,s,u,l){if(0===u)return-1;const d=s.length;for(let h=0;h<u;h++)s.push(l),o.blueprint.push(l),o.data.push(null);return d}function Ps(o,s,u){yc(s);try{const l=o.viewQuery;null!==l&&Vg(1,l,u);const d=o.template;null!==d&&md(o,s,d,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&gd(o,s),o.staticViewQueries&&Vg(2,o.viewQuery,u);const h=o.components;null!==h&&function(o,s){for(let u=0;u<s.length;u++)YD(o,s[u])}(s,h)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{s[2]&=-5,xp()}}function su(o,s,u,l){const d=s[2];if(256==(256&d))return;yc(s);const h=Ma();try{o_(s),function(o){tt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&md(o,s,u,2,l);const m=3==(3&d);if(!h)if(m){const w=o.preOrderCheckHooks;null!==w&&Rf(s,w,null)}else{const w=o.preOrderHooks;null!==w&&Pp(s,w,0,null),p_(s,0)}if(function(o){for(let s=rd(o);null!==s;s=sg(s)){if(!s[2])continue;const u=s[9];for(let l=0;l<u.length;l++){const d=u[l],h=d[3];0==(1024&d[2])&&bp(h,1),d[2]|=1024}}}(s),function(o){for(let s=rd(o);null!==s;s=sg(s))for(let u=10;u<s.length;u++){const l=s[u],d=l[1];_p(l)&&su(d,l,d.template,l[8])}}(s),null!==o.contentQueries&&gd(o,s),!h)if(m){const w=o.contentCheckHooks;null!==w&&Rf(s,w)}else{const w=o.contentHooks;null!==w&&Pp(s,w,1),p_(s,1)}!function(o,s){const u=o.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const d=u[l];if(d<0)Lo(~d);else{const h=d,m=u[++l],v=u[++l];Ip(m,h),v(2,s[h])}}}finally{Lo(-1)}}(o,s);const v=o.components;null!==v&&function(o,s){for(let u=0;u<s.length;u++)Lg(o,s[u])}(s,v);const b=o.viewQuery;if(null!==b&&Vg(2,b,l),!h)if(m){const w=o.viewCheckHooks;null!==w&&Rf(s,w)}else{const w=o.viewHooks;null!==w&&Pp(s,w,2),p_(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,bp(s[3],-1))}finally{xp()}}function qD(o,s,u,l){const d=s[10],h=!Ma(),m=r_(s);try{h&&!m&&d.begin&&d.begin(),m&&Ps(o,s,l),su(o,s,u,l)}finally{h&&!m&&d.end&&d.end()}}function md(o,s,u,l,d){const h=ir(),m=2&l;try{Lo(-1),m&&s.length>20&&T0(o,s,20,Ma()),u(l,d)}finally{Lo(h)}}function Ig(o,s,u){!Ep()||(function(o,s,u,l){const d=u.directiveStart,h=u.directiveEnd;o.firstCreatePass||ka(u,s),Ot(l,s);const m=u.initialInputs;for(let v=d;v<h;v++){const b=o.data[v],w=fi(b);w&&WD(s,u,b);const D=wc(s,o,v,u);Ot(D,s),null!==m&&KD(0,v-d,D,b,0,m),w&&(Rr(u.index,s)[8]=D)}}(o,s,u,hi(u,s)),128==(128&u.flags)&&function(o,s,u){const l=u.directiveStart,d=u.directiveEnd,m=u.index,v=tt.lFrame.currentDirectiveIndex;try{Lo(m);for(let b=l;b<d;b++){const w=o.data[b],D=s[b];Sp(b),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Nn(w,D)}}finally{Lo(-1),Sp(v)}}(o,s,u))}function Sg(o,s,u=hi){const l=s.localNames;if(null!==l){let d=s.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?u(s,o):o[m];o[d++]=v}}}function jn(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=zo(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function zo(o,s,u,l,d,h,m,v,b,w){const D=20+l,I=D+d,A=function(o,s){const u=[];for(let l=0;l<s;l++)u.push(l<o?null:Ye);return u}(D,I),O="function"==typeof w?w():w;return A[1]={type:o,blueprint:A,template:u,queries:null,viewQuery:v,declTNode:s,data:A.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:O,incompleteFirstPass:!1}}function Qc(o,s,u,l){const d=el(s);null===u?d.push(l):(d.push(u),o.firstCreatePass&&jg(o).push(l,d.length-1))}function vd(o,s,u){for(let l in o)if(o.hasOwnProperty(l)){const d=o[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(s,d):u[l]=[s,d]}return u}function ur(o,s,u,l,d,h,m,v){const b=hi(s,u);let D,w=s.inputs;!v&&null!=w&&(D=w[l])?(Jn(o,u,D,l,d),Ef(s)&&function(o,s){const u=Rr(s,o);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(l=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),d=null!=m?m(d,s.value||"",l):d,Jt(h)?h.setProperty(b,l,d):y_(l)||(b.setProperty?b.setProperty(l,d):b[l]=d))}function Mg(o,s,u,l){let d=!1;if(Ep()){const h=function(o,s,u){const l=o.directiveRegistry;let d=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];E0(u,m.selectors,!1)&&(d||(d=[]),or(ka(u,s),o,m.type),fi(m)?(wd(o,u),d.unshift(m)):d.push(m))}return d}(o,s,u),m=null===l?null:{"":-1};if(null!==h){d=!0,Og(u,o.data.length,h.length);for(let D=0;D<h.length;D++){const I=h[D];I.providersResolver&&I.providersResolver(I)}let v=!1,b=!1,w=Zo(o,s,h.length,null);for(let D=0;D<h.length;D++){const I=h[D];u.mergedAttrs=kp(u.mergedAttrs,I.hostAttrs),j0(o,u,s,w,I),zD(w,I,m),null!==I.contentQueries&&(u.flags|=8),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(u.flags|=128);const A=I.type.prototype;!v&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),v=!0),!b&&(A.ngOnChanges||A.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),b=!0),w++}!function(o,s){const l=s.directiveEnd,d=o.data,h=s.attrs,m=[];let v=null,b=null;for(let w=s.directiveStart;w<l;w++){const D=d[w],I=D.inputs,A=null===h||b0(s)?null:kg(I,h);m.push(A),v=vd(I,w,v),b=vd(D.outputs,w,b)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=v,s.outputs=b}(o,u)}m&&function(o,s,u){if(s){const l=o.localNames=[];for(let d=0;d<s.length;d+=2){const h=u[s[d+1]];if(null==h)throw new De("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],h)}}}(u,l,m)}return u.mergedAttrs=kp(u.mergedAttrs,u.attrs),d}function _d(o,s,u,l,d,h){const m=h.hostBindings;if(m){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const b=~s.index;(function(o){let s=o.length;for(;s>0;){const u=o[--s];if("number"==typeof u&&u<0)return u}return 0})(v)!=b&&v.push(b),v.push(l,d,m)}}function Nn(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function wd(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function zD(o,s,u){if(u){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)u[s.exportAs[l]]=o;fi(s)&&(u[""]=o)}}function Og(o,s,u){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+u,o.providerIndexes=s}function j0(o,s,u,l,d){o.data[l]=d;const h=d.factory||(d.factory=ws(d.type)),m=new vc(h,fi(d),null);o.blueprint[l]=m,u[l]=m,_d(o,s,0,l,Zo(o,u,d.hostVars,Ye),d)}function WD(o,s,u){const l=hi(s,o),d=jn(u),h=o[10],m=Xc(o,ou(o,d,null,u.onPush?64:16,l,s,h,h.createRenderer(l,u),null,null));o[s.index]=m}function Zr(o,s,u,l,d,h){const m=hi(o,s);!function(o,s,u,l,d,h,m){if(null==h)Jt(o)?o.removeAttribute(s,d,u):s.removeAttribute(d);else{const v=null==m?Ae(h):m(h,l||"",d);Jt(o)?o.setAttribute(s,d,v,u):u?s.setAttributeNS(u,d,v):s.setAttribute(d,v)}}(s[11],m,h,o.value,u,l,d)}function KD(o,s,u,l,d,h){const m=h[s];if(null!==m){const v=l.setInput;for(let b=0;b<m.length;){const w=m[b++],D=m[b++],I=m[b++];null!==v?l.setInput(u,I,w,D):u[D]=I}}}function kg(o,s){let u=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;o.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,o[d],s[l+1])),l+=2}else l+=2;else l+=4}return u}function B0(o,s,u,l){return new Array(o,!0,!1,s,null,0,l,u,null,null)}function Lg(o,s){const u=Rr(s,o);if(_p(u)){const l=u[1];80&u[2]?su(l,u,l.template,u[8]):u[5]>0&&Cd(u)}}function Cd(o){for(let l=rd(o);null!==l;l=sg(l))for(let d=10;d<l.length;d++){const h=l[d];if(1024&h[2]){const m=h[1];su(m,h,m.template,h[8])}else h[5]>0&&Cd(h)}const u=o[1].components;if(null!==u)for(let l=0;l<u.length;l++){const d=Rr(u[l],o);_p(d)&&d[5]>0&&Cd(d)}}function YD(o,s){const u=Rr(s,o),l=u[1];(function(o,s){for(let u=s.length;u<o.blueprint.length;u++)s.push(o.blueprint[u])})(l,u),Ps(l,u,u[8])}function Xc(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function Dd(o){for(;o;){o[2]|=64;const s=Ya(o);if(Df(o)&&!s)return o;o=s}return null}function Ug(o,s,u){const l=s[10];l.begin&&l.begin();try{su(o,s,o.template,u)}catch(d){throw Bg(s,d),d}finally{l.end&&l.end()}}function q0(o){!function(o){for(let s=0;s<o.components.length;s++){const u=o.components[s],l=Qf(u),d=l[1];qD(d,l,d.template,u)}}(o[8])}function Vg(o,s,u){f_(0),s(o,u)}const G0=(()=>Promise.resolve(null))();function el(o){return o[7]||(o[7]=[])}function jg(o){return o.cleanup||(o.cleanup=[])}function Bg(o,s){const u=o[9],l=u?u.get(Ka,null):null;l&&l.handleError(s)}function Jn(o,s,u,l,d){for(let h=0;h<u.length;){const m=u[h++],v=u[h++],b=s[m],w=o.data[m];null!==w.setInput?w.setInput(b,d,l,v):b[v]=d}}function $i(o,s,u){const l=If(s,o);!function(o,s,u){Jt(o)?o.setValue(s,u):s.textContent=u}(o[11],l,u)}function Wo(o,s,u){let l=u?o.styles:null,d=u?o.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?h=v:1==h?d=H(d,v):2==h&&(l=H(l,v+": "+s[++m]+";"))}u?o.styles=l:o.stylesWithoutHost=l,u?o.classes=d:o.classesWithoutHost=d}const Os=new tn("INJECTOR",-1);class Hg{get(s,u=Sc){if(u===Sc){const l=new Error(`NullInjectorError: No provider for ${k(s)}!`);throw l.name="NullInjectorError",l}return u}}const mo=new tn("Set Injector scope."),ks={},qg={};let tl;function nl(){return void 0===tl&&(tl=new Hg),tl}function Gg(o,s=null,u=null,l){return new XD(o,u,s||nl(),l)}class XD{constructor(s,u,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];u&&gi(u,v=>this.processProvider(v,s,u)),gi([s],v=>this.processInjectorType(v,[],h)),this.records.set(Os,Fs(void 0,this));const m=this.records.get(mo);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:k(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=Sc,l=je.Default){this.assertNotDestroyed();const d=Ba(this),h=ro(void 0);try{if(!(l&je.SkipSelf)){let v=this.records.get(s);if(void 0===v){const b=("function"==typeof(o=s)||"object"==typeof o&&o instanceof tn)&&ut(s);v=b&&this.injectableDefInScope(b)?Fs(il(s),ks):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&je.Self?nl():this.parent).get(s,u=l&je.Optional&&u===Sc?null:u)}catch(m){if("NullInjectorError"===m.name){if((m[ja]=m[ja]||[]).unshift(k(s)),d)throw m;return xn(m,s,"R3InjectorError",this.source)}throw m}finally{ro(h),Ba(d)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(k(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,u,l){if(!(s=se(s)))return!1;let d=hn(s);const h=null==d&&s.ngModule||void 0,m=void 0===h?s:h,v=-1!==l.indexOf(m);if(void 0!==h&&(d=hn(h)),null==d)return!1;if(null!=d.imports&&!v){let D;l.push(m);try{gi(d.imports,I=>{this.processInjectorType(I,u,l)&&(void 0===D&&(D=[]),D.push(I))})}finally{}if(void 0!==D)for(let I=0;I<D.length;I++){const{ngModule:A,providers:O}=D[I];gi(O,V=>this.processProvider(V,A,O||ge))}}this.injectorDefTypes.add(m);const b=ws(m)||(()=>new m);this.records.set(m,Fs(b,ks));const w=d.providers;if(null!=w&&!v){const D=s;gi(w,I=>this.processProvider(I,D,w))}return void 0!==h&&void 0!==s.providers}processProvider(s,u,l){let d=Ls(s=se(s))?s:se(s&&s.provide);const h=zg(o=s)?Fs(void 0,o.useValue):Fs(function(o,s,u){let l;if(Ls(o)){const d=se(o);return ws(d)||il(d)}if(zg(o))l=()=>se(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...Ho(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))l=()=>yn(se(o.useExisting));else{const d=se(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return ws(d)||il(d);l=()=>new d(...Ho(o.deps))}return l}(o),ks);var o;if(Ls(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=Fs(void 0,ks,!0),m.factory=()=>Ho(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,h)}hydrate(s,u){return u.value===ks&&(u.value=qg,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(s){if(!s.providedIn)return!1;const u=se(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function il(o){const s=ut(o),u=null!==s?s.factory:ws(o);if(null!==u)return u;if(o instanceof tn)throw new Error(`Token ${k(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const s=o.length;if(s>0){const l=function(o,s){const u=[];for(let l=0;l<o;l++)u.push(s);return u}(s,"?");throw new Error(`Can't resolve all parameters for ${k(o)}: (${l.join(", ")}).`)}const u=function(o){const s=o&&(o[Lt]||o[Zn]);if(s){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function Fs(o,s,u=!1){return{factory:o,value:s,multi:u?[]:void 0}}function zg(o){return null!==o&&"object"==typeof o&&Lf in o}function Ls(o){return"function"==typeof o}const Vs=function(o,s,u){return function(o,s=null,u=null,l){const d=Gg(o,s,u,l);return d._resolveInjectorDefTypes(),d}({name:u},s,o,u)};class Ct{static create(s,u){return Array.isArray(s)?Vs(s,u,""):Vs(s.providers,s.parent,s.name||"")}}function Pd(o,s){Af(Qf(o)[1],gn())}Ct.THROW_IF_NOT_FOUND=Sc,Ct.NULL=new Hg,Ct.\u0275prov=dn({token:Ct,providedIn:"any",factory:()=>yn(Os)}),Ct.__NG_ELEMENT_ID__=-1;let dl=null;function Bs(){if(!dl){const o=x.Symbol;if(o&&o.iterator)dl=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const l=s[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(dl=l)}}}return dl}class _r{constructor(s){this.wrapped=s}static wrap(s){return new _r(s)}static unwrap(s){return _r.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof _r}}function pu(o){return!!im(o)&&(Array.isArray(o)||!(o instanceof Map)&&Bs()in o)}function im(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Wr(o,s,u){return o[s]=u}function Bn(o,s,u){return!Object.is(o[s],u)&&(o[s]=u,!0)}function hl(o,s,u,l){const d=he();return Bn(d,Pa(),s)&&(ht(),Zr(en(),d,o,s,u,l)),hl}function gu(o,s,u,l){return Bn(o,Pa(),u)?s+Ae(u)+l:Ye}function qs(o,s,u,l,d,h){const v=function(o,s,u,l){const d=Bn(o,s,u);return Bn(o,s+1,l)||d}(o,ki(),u,d);return so(2),v?s+Ae(u)+l+Ae(d)+h:Ye}function fm(o,s,u,l,d,h,m,v){const b=he(),w=ht(),D=o+20,I=w.firstCreatePass?function(o,s,u,l,d,h,m,v,b){const w=s.consts,D=go(s,o,4,m||null,Fo(w,v));Mg(s,u,D,Fo(w,b)),Af(s,D);const I=D.tViews=zo(2,D,l,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,w);return null!==s.queries&&(s.queries.template(s,D),I.queries=s.queries.embeddedTView(D)),D}(D,w,b,s,u,l,d,h,m):w.data[D];Oi(I,!1);const A=b[11].createComment("");Zc(w,b,A,I),Ot(A,b),Xc(b,b[D]=B0(A,b,A,I)),Cf(I)&&Ig(w,b,I),null!=m&&Sg(b,I,v)}function zs(o){return hc(tt.lFrame.contextLView,20+o)}function Er(o,s=je.Default){const u=he();return null===u?yn(o,s):pi(gn(),u,se(o),s)}function ts(o,s,u){const l=he();return Bn(l,Pa(),s)&&ur(ht(),en(),l,o,s,l[11],u,!1),ts}function kd(o,s,u,l,d){const m=d?"class":"style";Jn(o,u,s.inputs[m],m,l)}function bl(o,s,u,l){const d=he(),h=ht(),m=20+o,v=d[11],b=d[m]=ug(v,s,tt.lFrame.currentNamespace),w=h.firstCreatePass?function(o,s,u,l,d,h,m){const v=s.consts,w=go(s,o,2,d,Fo(v,h));return Mg(s,u,w,Fo(v,m)),null!==w.attrs&&Wo(w,w.attrs,!1),null!==w.mergedAttrs&&Wo(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(m,h,d,0,s,u,l):h.data[m];Oi(w,!0);const D=w.mergedAttrs;null!==D&&Oa(v,b,D);const I=w.classes;null!==I&&ud(v,b,I);const A=w.styles;null!==A&&y0(v,b,A),64!=(64&w.flags)&&Zc(h,d,b,w),0===tt.lFrame.elementDepthCount&&Ot(b,d),tt.lFrame.elementDepthCount++,Cf(w)&&(Ig(h,d,w),function(o,s,u){if(pp(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const m=o.data[h];m.contentQueries&&m.contentQueries(1,u[h],h)}}}(h,w,d)),null!==l&&Sg(d,w)}function _u(){let o=gn();Dp()?tt.lFrame.isParent=!1:(o=o.parent,Oi(o,!1));const s=o;tt.lFrame.elementDepthCount--;const u=ht();u.firstCreatePass&&(Af(u,o),pp(o)&&u.queries.elementEnd(o)),null!=s.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(s)&&kd(u,s,he(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(s)&&kd(u,s,he(),s.stylesWithoutHost,!1)}function Fd(o,s,u,l){bl(o,s,u,l),_u()}function Cr(){return he()}function Ld(o){return!!o&&"function"==typeof o.then}function Pn(o){return!!o&&"function"==typeof o.subscribe}const Dm=Pn;function Ud(o,s,u,l){const d=he(),h=ht(),m=gn();return function(o,s,u,l,d,h,m,v){const b=Cf(l),D=o.firstCreatePass&&jg(o),I=s[8],A=el(s);let O=!0;if(3&l.type||v){const G=hi(l,s),_e=v?v(G):G,le=A.length,Fe=v?Xe=>v(Xt(Xe[l.index])):l.index;if(Jt(u)){let Xe=null;if(!v&&b&&(Xe=function(o,s,u,l){const d=o.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const m=d[h];if(m===u&&d[h+1]===l){const v=s[7],b=d[h+2];return v.length>b?v[b]:null}"string"==typeof m&&(h+=2)}return null}(o,s,d,l.index)),null!==Xe)(Xe.__ngLastListenerFn__||Xe).__ngNextListenerFn__=h,Xe.__ngLastListenerFn__=h,O=!1;else{h=Tm(l,s,I,h,!1);const vt=u.listen(_e,d,h);A.push(h,vt),D&&D.push(d,Fe,le,le+1)}}else h=Tm(l,s,I,h,!0),_e.addEventListener(d,h,m),A.push(h),D&&D.push(d,Fe,le,m)}else h=Tm(l,s,I,h,!1);const V=l.outputs;let X;if(O&&null!==V&&(X=V[d])){const G=X.length;if(G)for(let _e=0;_e<G;_e+=2){const Gn=s[X[_e]][X[_e+1]].subscribe(h),no=A.length;A.push(h,Gn),D&&D.push(d,l.index,no,-(no+1))}}}(h,d,d[11],m,o,s,!!u,l),Ud}function Dr(o,s,u,l){try{return!1!==u(l)}catch(d){return Bg(o,d),!1}}function Tm(o,s,u,l,d){return function h(m){if(m===Function)return l;const v=2&o.flags?Rr(o.index,s):s;0==(32&s[2])&&Dd(v);let b=Dr(s,0,l,m),w=h.__ngNextListenerFn__;for(;w;)b=Dr(s,0,w,m)&&b,w=w.__ngNextListenerFn__;return d&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function db(o=1){return function(o){return(tt.lFrame.contextLView=function(o,s){for(;o>0;)s=s[15],o--;return s}(o,tt.lFrame.contextLView))[8]}(o)}function Im(o,s,u){return Sm(o,"",s,"",u),Im}function Sm(o,s,u,l,d){const h=he(),m=gu(h,s,u,l);return m!==Ye&&ur(ht(),en(),h,o,m,h[11],d,!1),Sm}function Tl(o,s,u,l,d){const h=o[u+1],m=null===s;let v=l?wi(h):Ei(h),b=!1;for(;0!==v&&(!1===b||m);){const D=o[v+1];xm(o[v],s)&&(b=!0,o[v+1]=l?fo(D):_g(D)),v=l?wi(D):Ei(D)}b&&(o[u+1]=l?_g(h):fo(h))}function xm(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&yr(o,s)>=0}const ln={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Bd(o){return o.substring(ln.key,ln.keyEnd)}function Cu(o){return o.substring(ln.value,ln.valueEnd)}function Nm(o,s){const u=ln.textEnd;let l=ln.key=Ki(o,s,u);return u===l?-1:(l=ln.keyEnd=function(o,s,u){let l;for(;s<u&&(45===(l=o.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(o,l,u),l=Pm(o,l,u),l=ln.value=Ki(o,l,u),l=ln.valueEnd=function(o,s,u){let l=-1,d=-1,h=-1,m=s,v=m;for(;m<u;){const b=o.charCodeAt(m++);if(59===b)return v;34===b||39===b?v=m=Om(o,b,m,u):s===m-4&&85===h&&82===d&&76===l&&40===b?v=m=Om(o,41,m,u):b>32&&(v=m),h=d,d=l,l=-33&b}return v}(o,l,u),Pm(o,l,u))}function Ki(o,s,u){for(;s<u&&o.charCodeAt(s)<=32;)s++;return s}function Pm(o,s,u,l){return(s=Ki(o,s,u))<u&&s++,s}function Om(o,s,u,l){let d=-1,h=u;for(;h<l;){const m=o.charCodeAt(h++);if(m==s&&92!==d)return h;d=92==m&&92===d?0:m}throw new Error}function Fm(o,s){return function(o,s,u,l){const d=he(),h=ht(),m=so(2);h.firstUpdatePass&&Lm(h,o,m,l),s!==Ye&&Bn(d,m,s)&&Um(h,h.data[ir()],d,d[11],o,d[m+1]=function(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=k(vi(o)))),o}(s,u),l,m)}(o,s,null,!0),Fm}function Di(o){!function(o,s,u,l){const d=ht(),h=so(2);d.firstUpdatePass&&Lm(d,null,h,l);const m=he();if(u!==Ye&&Bn(m,h,u)){const v=d.data[ir()];if(jm(v,l)&&!Js(d,h)){let b=l?v.classesWithoutHost:v.stylesWithoutHost;null!==b&&(u=H(b,u||"")),kd(d,v,m,u,l)}else!function(o,s,u,l,d,h,m,v){d===Ye&&(d=ge);let b=0,w=0,D=0<d.length?d[0]:null,I=0<h.length?h[0]:null;for(;null!==D||null!==I;){const A=b<d.length?d[b+1]:void 0,O=w<h.length?h[w+1]:void 0;let X,V=null;D===I?(b+=2,w+=2,A!==O&&(V=I,X=O)):null===I||null!==D&&D<I?(b+=2,V=D):(w+=2,V=I,X=O),null!==V&&Um(o,s,u,l,V,X,m,v),D=b<d.length?d[b]:null,I=w<h.length?h[w]:null}}(d,v,m,m[11],m[h+1],m[h+1]=function(o,s,u){if(null==u||""===u)return ge;const l=[],d=vi(u);if(Array.isArray(d))for(let h=0;h<d.length;h++)o(l,d[h],!0);else if("object"==typeof d)for(const h in d)d.hasOwnProperty(h)&&o(l,h,d[h]);else"string"==typeof d&&s(l,d);return l}(o,s,u),l,h)}}(qd,Du,o,!1)}function Du(o,s){for(let u=function(o){return function(o){ln.key=0,ln.keyEnd=0,ln.value=0,ln.valueEnd=0,ln.textEnd=o.length}(o),Nm(o,Ki(o,0,ln.textEnd))}(s);u>=0;u=Nm(s,u))qd(o,Bd(s),Cu(s))}function Js(o,s){return s>=o.expandoStartIndex}function Lm(o,s,u,l){const d=o.data;if(null===d[u+1]){const h=d[ir()],m=Js(o,u);jm(h,l)&&null===s&&!m&&(s=!1),s=function(o,s,u,l){const d=function(o){const s=tt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let h=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(u=ns(u=Tu(null,o,s,u,l),s.attrs,l),h=null);else{const m=s.directiveStylingLast;if(-1===m||o[m]!==d)if(u=Tu(d,o,s,u,l),null===h){let b=function(o,s,u){const l=u?s.classBindings:s.styleBindings;if(0!==Ei(l))return o[wi(l)]}(o,s,l);void 0!==b&&Array.isArray(b)&&(b=Tu(null,o,s,b[1],l),b=ns(b,s.attrs,l),function(o,s,u,l){o[wi(u?s.classBindings:s.styleBindings)]=l}(o,s,l,b))}else h=function(o,s,u){let l;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)l=ns(l,o[h].hostAttrs,u);return ns(l,s.attrs,u)}(o,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),u}(d,h,s,l),function(o,s,u,l,d,h){let m=h?s.classBindings:s.styleBindings,v=wi(m),b=Ei(m);o[l]=u;let D,w=!1;if(Array.isArray(u)){const I=u;D=I[1],(null===D||yr(I,D)>0)&&(w=!0)}else D=u;if(d)if(0!==b){const A=wi(o[v+1]);o[l+1]=ld(A,v),0!==A&&(o[A+1]=S(o[A+1],l)),o[v+1]=function(o,s){return 131071&o|s<<17}(o[v+1],l)}else o[l+1]=ld(v,0),0!==v&&(o[v+1]=S(o[v+1],l)),v=l;else o[l+1]=ld(b,0),0===v?v=l:o[b+1]=S(o[b+1],l),b=l;w&&(o[l+1]=_g(o[l+1])),Tl(o,D,l,!0),Tl(o,D,l,!1),function(o,s,u,l,d){const h=d?o.residualClasses:o.residualStyles;null!=h&&"string"==typeof s&&yr(h,s)>=0&&(u[l+1]=fo(u[l+1]))}(s,D,o,l,h),m=ld(v,b),h?s.classBindings=m:s.styleBindings=m}(d,h,s,u,m,l)}}function Tu(o,s,u,l,d){let h=null;const m=u.directiveEnd;let v=u.directiveStylingLast;for(-1===v?v=u.directiveStart:v++;v<m&&(h=s[v],l=ns(l,h.hostAttrs,d),h!==o);)v++;return null!==o&&(u.directiveStylingLast=v),l}function ns(o,s,u){const l=u?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?d=m:d===l&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Mr(o,m,!!u||s[++h]))}return void 0===o?null:o}function qd(o,s,u){Mr(o,s,vi(u))}function Um(o,s,u,l,d,h,m,v){if(!(3&s.type))return;const b=o.data,w=b[v+1];rs(function(o){return 1==(1&o)}(w)?Vm(b,s,u,d,Ei(w),m):void 0)||(rs(h)||function(o){return 2==(2&o)}(w)&&(h=Vm(b,null,u,d,v,m)),function(o,s,u,l,d){const h=Jt(o);if(s)d?h?o.addClass(u,l):u.classList.add(l):h?o.removeClass(u,l):u.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:Hi.DashCase;if(null==d)h?o.removeStyle(u,l,m):u.style.removeProperty(l);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),m|=Hi.Important),h?o.setStyle(u,l,d,m):u.style.setProperty(l,d,v?"important":"")}}}(l,m,If(ir(),u),d,h))}function Vm(o,s,u,l,d,h){const m=null===s;let v;for(;d>0;){const b=o[d],w=Array.isArray(b),D=w?b[1]:b,I=null===D;let A=u[d+1];A===Ye&&(A=I?ge:void 0);let O=I?Up(A,l):D===l?A:void 0;if(w&&!rs(O)&&(O=Up(b,l)),rs(O)&&(v=O,m))return v;const V=o[d+1];d=m?wi(V):Ei(V)}if(null!==s){let b=h?s.residualClasses:s.residualStyles;null!=b&&(v=Up(b,l))}return v}function rs(o){return void 0!==o}function jm(o,s){return 0!=(o.flags&(s?16:32))}function Bm(o,s=""){const u=he(),l=ht(),d=o+20,h=l.firstCreatePass?go(l,d,1,s,null):l.data[d],m=u[d]=function(o,s){return Jt(o)?o.createText(s):o.createTextNode(s)}(u[11],s);Zc(l,u,m,h),Oi(h,!1)}function Gt(o,s,u){const l=he(),d=gu(l,o,s,u);return d!==Ye&&$i(l,ir(),d),Gt}function mt(o,s,u,l,d){const h=he(),m=qs(h,o,s,u,l,d);return m!==Ye&&$i(h,ir(),m),mt}function Cb(o,s,u){Di(gu(he(),o,s,u))}function Jm(o,s,u){const l=he();return Bn(l,Pa(),s)&&ur(ht(),en(),l,o,s,l[11],u,!0),Jm}const Io=void 0;var Rl=["en",[["a","p"],["AM","PM"],Io],[["AM","PM"],Io,Io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Io,"{1} 'at' {0}",Io],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const s=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let lr={};function zd(o){const s=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=ey(s);if(u)return u;const l=s.split("-")[0];if(u=ey(l),u)return u;if("en"===l)return Rl;throw new Error(`Missing locale data for the locale "${o}".`)}function Xm(o){return zd(o)[Be.PluralCase]}function ey(o){return o in lr||(lr[o]=x.ng&&x.ng.common&&x.ng.common.locales&&x.ng.common.locales[o]),lr[o]}var Be=(()=>((Be=Be||{})[Be.LocaleId=0]="LocaleId",Be[Be.DayPeriodsFormat=1]="DayPeriodsFormat",Be[Be.DayPeriodsStandalone=2]="DayPeriodsStandalone",Be[Be.DaysFormat=3]="DaysFormat",Be[Be.DaysStandalone=4]="DaysStandalone",Be[Be.MonthsFormat=5]="MonthsFormat",Be[Be.MonthsStandalone=6]="MonthsStandalone",Be[Be.Eras=7]="Eras",Be[Be.FirstDayOfWeek=8]="FirstDayOfWeek",Be[Be.WeekendRange=9]="WeekendRange",Be[Be.DateFormat=10]="DateFormat",Be[Be.TimeFormat=11]="TimeFormat",Be[Be.DateTimeFormat=12]="DateTimeFormat",Be[Be.NumberSymbols=13]="NumberSymbols",Be[Be.NumberFormats=14]="NumberFormats",Be[Be.CurrencyCode=15]="CurrencyCode",Be[Be.CurrencySymbol=16]="CurrencySymbol",Be[Be.CurrencyName=17]="CurrencyName",Be[Be.Currencies=18]="Currencies",Be[Be.Directionality=19]="Directionality",Be[Be.PluralCase=20]="PluralCase",Be[Be.ExtraData=21]="ExtraData",Be))();const xl="en-US";let Xs=xl;function ss(o){It(o,"Expected localeId to be defined"),"string"==typeof o&&(Xs=o.toLowerCase().replace(/_/g,"-"))}class oh{}const ku="ngComponent";class cy{resolveComponentFactory(s){throw function(o){const s=Error(`No component factory found for ${k(o)}. Did you add it to @NgModule.entryComponents?`);return s[ku]=o,s}(s)}}class aa{}function Fl(...o){}function ua(o,s){return new Ji(hi(o,s))}aa.NULL=new cy;const sw=function(){return ua(gn(),he())};let Ji=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=sw,o})();function fy(o){return o instanceof Ji?o.nativeElement:o}class xo{}let Fu=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>aw(),o})();const aw=function(){const o=he(),u=Rr(gn().index,o);return function(o){return o[11]}(oo(u)?u:o)};let dy=(()=>{class o{}return o.\u0275prov=dn({token:o,providedIn:"root",factory:()=>null}),o})();class uw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ll=new uw("12.2.2");class In{constructor(){}supports(s){return pu(s)}create(s){return new WT(s)}}const zT=(o,s)=>s;class WT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||zT}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,l=this._removalsHead,d=0,h=null;for(;u||l;){const m=!l||u&&u.currentIndex<lw(l,d,h)?u:l,v=lw(m,d,h),b=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(u=u._next,null==m.previousIndex)d++;else{h||(h=[]);const w=v-d,D=b-d;if(w!=D){for(let A=0;A<w;A++){const O=A<h.length?h[A]:h[A]=0,V=O+A;D<=V&&V<w&&(h[A]=O+1)}h[m.previousIndex]=D-w}}v!==b&&s(m,v,b)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!pu(s))throw new Error(`Error trying to diff '${k(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,m,u=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)h=s[v],m=this._trackByFn(v,h),null!==u&&Object.is(u.trackById,m)?(l&&(u=this._verifyReinsertion(u,h,m,v)),Object.is(u.item,h)||this._addIdentityChange(u,h)):(u=this._mismatch(u,h,m,v),l=!0),u=u._next}else d=0,function(o,s){if(Array.isArray(o))for(let u=0;u<o.length;u++)s(o[u]);else{const u=o[Bs()]();let l;for(;!(l=u.next()).done;)s(l.value)}}(s,v=>{m=this._trackByFn(d,v),null!==u&&Object.is(u.trackById,m)?(l&&(u=this._verifyReinsertion(u,v,m,d)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,m,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,l,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,h,d)):s=this._addAfter(new KT(u,l),h,d),s}_verifyReinsertion(s,u,l,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,u,l),this._addToMoves(s,l),s}_moveAfter(s,u,l){return this._unlink(s),this._insertAfter(s,u,l),this._addToMoves(s,l),s}_addAfter(s,u,l){return this._insertAfter(s,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,l){const d=null===u?this._itHead:u._next;return s._next=d,s._prev=u,null===d?this._itTail=s:d._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new cw),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,l=s._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class KT{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const u=s._prevDup,l=s._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class cw{constructor(){this.map=new Map}put(s){const u=s.trackById;let l=this.map.get(u);l||(l=new QT,this.map.set(u,l)),l.add(s)}get(s,u){const d=this.map.get(s);return d?d.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lw(o,s,u){const l=o.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+s+d}class kn{constructor(){}supports(s){return s instanceof Map||im(s)}create(){return new fw}}class fw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||im(s)))throw new Error(`Error trying to diff '${k(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const h=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,h)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const l=s._prev;return u._next=s,u._prev=l,s._prev=u,l&&(l._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,u);const h=d._prev,m=d._next;return h&&(h._next=m),m&&(m._prev=h),d._next=null,d._prev=null,d}const l=new dw(s);return this._records.set(s,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(l=>u(s[l],l))}}class dw{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ah(){return new Ul([new In])}let Ul=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||ah()),deps:[[o,new qo,new Ui]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=dn({token:o,providedIn:"root",factory:ah}),o})();function py(){return new uh([new kn])}let uh=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||py()),deps:[[o,new qo,new Ui]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=dn({token:o,providedIn:"root",factory:py}),o})();function Lu(o,s,u,l,d=!1){for(;null!==u;){const h=s[u.index];if(null!==h&&l.push(Xt(h)),cn(h))for(let v=10;v<h.length;v++){const b=h[v],w=b[1].firstChild;null!==w&&Lu(b[1],b,w,l)}const m=u.type;if(8&m)Lu(o,s,u.child,l);else if(32&m){const v=rg(u,s);let b;for(;b=v();)l.push(b)}else if(16&m){const v=SD(s,u);if(Array.isArray(v))l.push(...v);else{const b=Ya(s[16]);Lu(b[1],b,v,l,!0)}}u=d?u.projectionNext:u.next}return l}class ca{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return Lu(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(cn(s)){const u=s[8],l=u?u.indexOf(this):-1;l>-1&&(lg(s,l),Ds(u,l))}this._attachedToViewContainer=!1}p0(this._lView[1],this._lView)}onDestroy(s){Qc(this._lView[1],this._lView,null,s)}markForCheck(){Dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ug(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,s,u){Na(!0);try{Ug(o,s,u)}finally{Na(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,zc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class hw extends ca{constructor(s){super(s),this._view=s}detectChanges(){q0(this._view)}checkNoChanges(){!function(o){Na(!0);try{q0(o)}finally{Na(!1)}}(this._view)}get context(){return null}}const XT=function(o){return function(o,s,u){if(Ef(o)&&!u){const l=Rr(o.index,s);return new ca(l,l)}return 47&o.type?new ca(s[16],s):null}(gn(),he(),16==(16&o))};let eI=(()=>{class o{}return o.__NG_ELEMENT_ID__=XT,o})();const ch=[new kn],gy=new Ul([new In]),gw=new uh(ch),rI=function(){return la(gn(),he())};let jl=(()=>{class o{}return o.__NG_ELEMENT_ID__=rI,o})();const iI=jl,Bl=class extends iI{constructor(s,u,l){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(s){const u=this._declarationTContainer.tViews,l=ou(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(u)),Ps(u,l,s),new ca(l)}};function la(o,s){return 4&o.type?new Bl(s,o,ua(o,s)):null}class Ii{}class lh{}const my=function(){return yy(gn(),he())};let Si=(()=>{class o{}return o.__NG_ELEMENT_ID__=my,o})();const oI=Si,_w=class extends oI{constructor(s,u,l){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=l}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const s=Nf(this._hostTNode,this._hostLView);if(v_(s)){const u=bc(s,this._hostLView),l=_c(s);return new ao(u[1].data[l+8],u)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=bw(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,l){const d=s.createEmbeddedView(u||{});return this.insert(d,l),d}createComponent(s,u,l,d,h){const m=l||this.parentInjector;if(!h&&null==s.ngModule&&m){const b=m.get(Ii,null);b&&(h=b)}const v=s.create(m,d,void 0,h);return this.insert(v.hostView,u),v}insert(s,u){const l=s._lView,d=l[1];if(cn(l[3])){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const I=l[3],A=new _w(I,I[6],I[3]);A.detach(A.indexOf(s))}}const h=this._adjustIndex(u),m=this._lContainer;!function(o,s,u,l){const d=10+l,h=u.length;l>0&&(u[d-1][4]=s),l<h-10?(s[4]=u[d],Ff(u,10+l,s)):(u.push(s),s[4]=null),s[3]=u;const m=s[17];null!==m&&u!==m&&function(o,s){const u=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===u?o[9]=[s]:u.push(s)}(m,s);const v=s[19];null!==v&&v.insertView(o),s[2]|=128}(d,l,m,h);const v=lo(h,m),b=l[11],w=sd(b,m[7]);return null!==w&&function(o,s,u,l,d,h){l[0]=d,l[6]=s,zc(o,l,u,1,d,h)}(d,m[6],b,l,w,v),s.attachToViewContainerRef(),Ff(Vu(m),h,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=bw(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),l=lg(this._lContainer,u);l&&(Ds(Vu(this._lContainer),u),p0(l[1],l))}detach(s){const u=this._adjustIndex(s,-1),l=lg(this._lContainer,u);return l&&null!=Ds(Vu(this._lContainer),u)?new ca(l):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function bw(o){return o[8]}function Vu(o){return o[8]||(o[8]=[])}function yy(o,s){let u;const l=s[o.index];if(cn(l))u=l;else{let d;if(8&o.type)d=Xt(l);else{const h=s[11];d=h.createComment("");const m=hi(o,s);qi(h,sd(h,m),d,function(o,s){return Jt(o)?o.nextSibling(s):s.nextSibling}(h,m),!1)}s[o.index]=u=B0(l,s,d,o),Xc(s,u)}return new _w(u,o,s)}const Wu={};class Ri extends aa{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=Un(s);return new Zw(u,this.ngModule)}}function ds(o){const s=[];for(let u in o)o.hasOwnProperty(u)&&s.push({propName:o[u],templateName:u});return s}const Ch=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>u0});class Zw extends oh{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=s.selectors.map(kD).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return ds(this.componentDef.inputs)}get outputs(){return ds(this.componentDef.outputs)}create(s,u,l,d){const h=(d=d||this.ngModule)?function(o,s){return{get:(u,l,d)=>{const h=o.get(u,Wu,d);return h!==Wu||l===Wu?h:s.get(u,l,d)}}}(s,d.injector):s,m=h.get(xo,n_),v=h.get(dy,null),b=m.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",D=l?function(o,s,u){if(Jt(o))return o.selectRootElement(s,u===Kt.ShadowDom);let l="string"==typeof s?o.querySelector(s):s;return l.textContent="",l}(b,l,this.componentDef.encapsulation):ug(m.createRenderer(null,this.componentDef),w,function(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(w)),I=this.componentDef.onPush?576:528,A=function(o,s){return{components:[],scheduler:o||u0,clean:G0,playerHandler:s||null,flags:0}}(),O=zo(0,null,null,1,0,null,null,null,null,null),V=ou(null,O,A,I,null,null,m,b,v,h);let X,G;yc(V);try{const _e=function(o,s,u,l,d,h){const m=u[1];u[20]=o;const b=go(m,20,2,"#host",null),w=b.mergedAttrs=s.hostAttrs;null!==w&&(Wo(b,w,!0),null!==o&&(Oa(d,o,w),null!==b.classes&&ud(d,o,b.classes),null!==b.styles&&y0(d,o,b.styles)));const D=l.createRenderer(o,s),I=ou(u,jn(s),null,s.onPush?64:16,u[20],b,l,D,h||null,null);return m.firstCreatePass&&(or(ka(b,u),m,s.type),wd(m,b),Og(b,u.length,1)),Xc(u,I),u[20]=I}(D,this.componentDef,V,m,b);if(D)if(l)Oa(b,D,["ng-version",Ll.full]);else{const{attrs:le,classes:Fe}=function(o){const s=[],u=[];let l=1,d=2;for(;l<o.length;){let h=o[l];if("string"==typeof h)2===d?""!==h&&s.push(h,o[++l]):8===d&&u.push(h);else{if(!bi(d))break;d=h}l++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);le&&Oa(b,D,le),Fe&&Fe.length>0&&ud(b,D,Fe.join(" "))}if(G=Ra(O,20),void 0!==u){const le=G.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const Xe=u[Fe];le.push(null!=Xe?Array.from(Xe):null)}}X=function(o,s,u,l,d){const h=u[1],m=function(o,s,u){const l=gn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),j0(o,l,s,Zo(o,s,1,null),u));const d=wc(s,o,l.directiveStart,l);Ot(d,s);const h=hi(l,s);return h&&Ot(h,s),d}(h,u,s);if(l.components.push(m),o[8]=m,d&&d.forEach(b=>b(m,s)),s.contentQueries){const b=gn();s.contentQueries(1,m,b.directiveStart)}const v=gn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Lo(v.index),_d(u[1],v,0,v.directiveStart,v.directiveEnd,s),Nn(s,m)),m}(_e,this.componentDef,V,A,[Pd]),Ps(O,V,null)}finally{xp()}return new Ww(this.componentType,X,ua(G,V),V,G)}}class Ww extends class{}{constructor(s,u,l,d,h){super(),this.location=l,this._rootLView=d,this._tNode=h,this.instance=u,this.hostView=this.changeDetectorRef=new hw(d),this.componentType=s}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const oi=new Map;class CI extends Ii{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ri(this);const l=hr(s),d=s[zn]||null;d&&ss(d),this._bootstrapComponents=Bi(l.bootstrap),this._r3Injector=Gg(s,u,[{provide:Ii,useValue:this},{provide:aa,useValue:this.componentFactoryResolver}],k(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=Ct.THROW_IF_NOT_FOUND,l=je.Default){return s===Ct||s===Ii||s===Os?this:this._r3Injector.get(s,u,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Hy extends lh{constructor(s){super(),this.moduleType=s,null!==hr(s)&&function(o){const s=new Set;!function u(l){const d=hr(l,!0),h=d.id;null!==h&&(function(o,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${o} - ${k(s)} vs ${k(s.name)}`)}(h,oi.get(h),l),oi.set(h,l));const m=Bi(d.imports);for(const v of m)s.has(v)||(s.add(v),u(v))}(o)}(s)}create(s){return new CI(this.moduleType,s)}}function Th(o,s,u){const l=pr()+o,d=he();return d[l]===Ye?Wr(d,l,u?s.call(u):s()):function(o,s){return o[s]}(d,l)}function Ih(o,s,u,l){return Zy(he(),pr(),o,s,u,l)}function Zy(o,s,u,l,d,h){const m=s+u;return Bn(o,m,d)?Wr(o,m+1,h?l.call(h,d):l(d)):function(o,s){const u=o[s];return u===Ye?void 0:u}(o,m+1)}function Xi(o,s){const u=ht();let l;const d=o+20;u.firstCreatePass?(l=function(o,s){if(s)for(let u=s.length-1;u>=0;u--){const l=s[u];if(o===l.name)return l}throw new De("302",`The pipe '${o}' could not be found!`)}(s,u.pipeRegistry),u.data[d]=l,l.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(d,l.onDestroy)):l=u.data[d];const h=l.factory||(l.factory=ws(l.type)),m=ro(Er);try{const v=Fp(!1),b=h();return Fp(v),function(o,s,u,l){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),s[u]=l}(u,he(),d,b),b}finally{ro(m)}}function No(o,s,u){const l=o+20,d=he(),h=hc(d,l);return function(o,s){_r.isWrapped(s)&&(s=_r.unwrap(s),o[ki()]=Ye);return s}(d,function(o,s){return o[1].data[s].pure}(d,l)?Zy(d,pr(),s,h.transform,u,h):h.transform(u))}function Sh(o){return s=>{setTimeout(o,void 0,s)}}const xi=class extends g.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,l){var d,h,m;let v=s,b=u||(()=>null),w=l;if(s&&"object"==typeof s){const I=s;v=null===(d=I.next)||void 0===d?void 0:d.bind(I),b=null===(h=I.error)||void 0===h?void 0:h.bind(I),w=null===(m=I.complete)||void 0===m?void 0:m.bind(I)}this.__isAsync&&(b=Sh(b),v&&(v=Sh(v)),w&&(w=Sh(w)));const D=super.subscribe({next:v,error:b,complete:w});return s instanceof te.w&&s.add(D),D}};function rE(){return this._results[Bs()]()}class Xl{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Bs(),l=Xl.prototype;l[u]||(l[u]=rE)}get changes(){return this._changes||(this._changes=new xi)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const l=this;l.dirty=!1;const d=$r(s);(this._changesDetected=!function(o,s,u){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++){let d=o[l],h=s[l];if(u&&(d=u(d),h=u(h)),h!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ef{constructor(s){this.queryList=s,this.matches=null}clone(){return new ef(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qu{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const l=null!==s.contentQueries?s.contentQueries[0]:u.length,d=[];for(let h=0;h<l;h++){const m=u.getByIndex(h);d.push(this.queries[m.indexInDeclarationView].clone())}return new Qu(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==Jy(s,u).matches&&this.queries[u].setDirty()}}class sE{constructor(s,u,l=null){this.predicate=s,this.flags=u,this.read=l}}class zy{constructor(s=[]){this.queries=s}elementStart(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,h=this.getByIndex(l).embeddedTView(s,d);h&&(h.indexInDeclarationView=l,null!==u?u.push(h):u=[h])}return null!==u?new zy(u):null}template(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class eo{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new eo(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const h=l[d];this.matchTNodeWithReadOption(s,u,va(u,h)),this.matchTNodeWithReadOption(s,u,Pf(u,s,h,!1,!1))}else l===jl?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,Pf(u,s,l,!1,!1))}matchTNodeWithReadOption(s,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Ji||d===Si||d===jl&&4&u.type)this.addMatch(u.index,-2);else{const h=Pf(u,s,d,!1,!1);null!==h&&this.addMatch(u.index,h)}else this.addMatch(u.index,l)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function va(o,s){const u=o.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===s)return u[l+1];return null}function uE(o,s,u,l){return-1===u?function(o,s){return 11&o.type?ua(o,s):4&o.type?la(o,s):null}(s,o):-2===u?function(o,s,u){return u===Ji?ua(s,o):u===jl?la(s,o):u===Si?yy(s,o):void 0}(o,s,l):wc(o,o[1],u,s)}function Ah(o,s,u,l){const d=s[19].queries[l];if(null===d.matches){const h=o.data,m=u.matches,v=[];for(let b=0;b<m.length;b+=2){const w=m[b];v.push(w<0?null:uE(s,h[w],m[b+1],u.metadata.read))}d.matches=v}return d.matches}function Wy(o,s,u,l){const d=o.queries.getByIndex(u),h=d.matches;if(null!==h){const m=Ah(o,s,d,u);for(let v=0;v<h.length;v+=2){const b=h[v];if(b>0)l.push(m[v/2]);else{const w=h[v+1],D=s[-b];for(let I=10;I<D.length;I++){const A=D[I];A[17]===A[3]&&Wy(A[1],A,w,l)}if(null!==D[9]){const I=D[9];for(let A=0;A<I.length;A++){const O=I[A];Wy(O[1],O,w,l)}}}}}return l}function Ky(o){const s=he(),u=ht(),l=l_();f_(l+1);const d=Jy(u,l);if(o.dirty&&r_(s)===(2==(2&d.metadata.flags))){if(null===d.matches)o.reset([]);else{const h=d.crossesNgTemplate?Wy(u,s,l,[]):Ah(u,s,d,l);o.reset(h,fy),o.notifyOnChanges()}return!0}return!1}function Qy(o,s,u){const l=ht();l.firstCreatePass&&(fE(l,new sE(o,s,u),-1),2==(2&s)&&(l.staticViewQueries=!0)),nf(l,he(),s)}function Yy(o,s,u,l){const d=ht();if(d.firstCreatePass){const h=gn();fE(d,new sE(s,u,l),h.index),function(o,s){const u=o.contentQueries||(o.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,s)}(d,o),2==(2&u)&&(d.staticContentQueries=!0)}nf(d,he(),u)}function cE(){return o=he(),s=l_(),o[19].queries[s].queryList;var o,s}function nf(o,s,u){const l=new Xl(4==(4&u));Qc(o,s,l,l.destroy),null===s[19]&&(s[19]=new Qu),s[19].queries.push(new ef(l))}function fE(o,s,u){null===o.queries&&(o.queries=new zy),o.queries.track(new eo(s,u))}function Jy(o,s){return o.queries.getByIndex(s)}function rf(o,s){return la(o,s)}const Xu=new tn("Application Initializer");let ec=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Fl,this.reject=Fl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(Ld(h))u.push(h);else if(Dm(h)){const m=new Promise((v,b)=>{h.subscribe({complete:v,error:b})});u.push(m)}}Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(yn(Xu,8))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();const Lr=new tn("AppId"),TE={provide:Lr,useFactory:function(){return`${Uh()}${Uh()}${Uh()}`},deps:[]};function Uh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IE=new tn("Platform Initializer"),dv=new tn("Platform ID"),hv=new tn("appBootstrapListener");let SE=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();const Vh=new tn("LocaleId"),AE=new tn("DefaultCurrencyCode");class ai{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}const pv=function(o){return new Hy(o)},JI=pv,Bh=function(o){return Promise.resolve(pv(o))},Hh=function(o){const s=pv(o),l=Bi(hr(o).declarations).reduce((d,h)=>{const m=Un(h);return m&&d.push(new Zw(m)),d},[]);return new ai(s,l)},gv=Hh,tS=function(o){return Promise.resolve(Hh(o))};let ms=(()=>{class o{constructor(){this.compileModuleSync=JI,this.compileModuleAsync=Bh,this.compileModuleAndAllComponentsSync=gv,this.compileModuleAndAllComponentsAsync=tS}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();const iS=(()=>Promise.resolve(0))();function mv(o){"undefined"==typeof Zone?iS.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ur{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xi(!1),this.onMicrotaskEmpty=new xi(!1),this.onStable=new xi(!1),this.onError=new xi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let o=x.requestAnimationFrame,s=x.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(o){const s=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(x,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,bv(o),o.isCheckStableRunning=!0,yv(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),bv(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,h,m,v)=>{try{return xE(o),u.invokeTask(d,h,m,v)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||o.shouldCoalesceRunChangeDetection)&&s(),wv(o)}},onInvoke:(u,l,d,h,m,v,b)=>{try{return xE(o),u.invoke(d,h,m,v,b)}finally{o.shouldCoalesceRunChangeDetection&&s(),wv(o)}},onHasTask:(u,l,d,h)=>{u.hasTask(d,h),l===d&&("microTask"==h.change?(o._hasPendingMicrotasks=h.microTask,bv(o),yv(o)):"macroTask"==h.change&&(o.hasPendingMacrotasks=h.macroTask))},onHandleError:(u,l,d,h)=>(u.handleError(d,h),o.runOutsideAngular(()=>o.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ur.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ur.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,l){return this._inner.run(s,u,l)}runTask(s,u,l,d){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+d,s,sS,Fl,Fl);try{return h.runTask(m,u,l)}finally{h.cancelTask(m)}}runGuarded(s,u,l){return this._inner.runGuarded(s,u,l)}runOutsideAngular(s){return this._outer.run(s)}}const sS={};function yv(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function bv(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function xE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function wv(o){o._nesting--,yv(o)}class aS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xi,this.onMicrotaskEmpty=new xi,this.onStable=new xi,this.onError=new xi}run(s,u,l){return s.apply(u,l)}runGuarded(s,u,l){return s.apply(u,l)}runOutsideAngular(s){return s()}runTask(s,u,l,d){return s.apply(u,l)}}let nr=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ur.assertNotInAngularZone(),mv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:h,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,l,d){return[]}}return o.\u0275fac=function(u){return new(u||o)(yn(Ur))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})(),cf=(()=>{class o{constructor(){this._applications=new Map,Ev.addToWindow(this)}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return Ev.findTestabilityInTree(this,u,l)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();class uS{addToWindow(s){}findTestabilityInTree(s,u,l){return null}}function qh(o){Ev=o}let Ev=new uS,ME=!0,Cv=!1;function Dv(){return Cv=!0,ME}function Tv(){if(Cv)throw new Error("Cannot enable prod mode after platform setup.");ME=!1}let ui;const lf=new tn("AllowMultipleToken");class PE{constructor(s,u){this.name=s,this.token=u}}function OE(o,s,u=[]){const l=`Platform: ${s}`,d=new tn(l);return(h=[])=>{let m=kE();if(!m||m.injector.get(lf,!1))if(o)o(u.concat(h).concat({provide:d,useValue:!0}));else{const v=u.concat(h).concat({provide:d,useValue:!0},{provide:mo,useValue:"platform"});!function(o){if(ui&&!ui.destroyed&&!ui.injector.get(lf,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ui=o.get(Iv);const s=o.get(IE,null);s&&s.forEach(u=>u())}(Ct.create({providers:v,name:l}))}return function(o){const s=kE();if(!s)throw new Error("No platform exists!");if(!s.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function kE(){return ui&&!ui.destroyed?ui:null}let Iv=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const v=function(o,s){let u;return u="noop"===o?new aS:("zone.js"===o?void 0:o)||new Ur({enableLongStackTrace:Dv(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:Ur,useValue:v}];return v.run(()=>{const w=Ct.create({providers:b,parent:this.injector,name:u.moduleType.name}),D=u.create(w),I=D.injector.get(Ka,null);if(!I)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const A=v.onError.subscribe({next:O=>{I.handleError(O)}});D.onDestroy(()=>{Sv(this._modules,D),A.unsubscribe()})}),function(o,s,u){try{const l=u();return Ld(l)?l.catch(d=>{throw s.runOutsideAngular(()=>o.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>o.handleError(l)),l}}(I,v,()=>{const A=D.injector.get(ec);return A.runInitializers(),A.donePromise.then(()=>(ss(D.injector.get(Vh,xl)||xl),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,l=[]){const d=Zh({},l);return function(o,s,u){const l=new Hy(u);return Promise.resolve(l)}(0,0,u).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(u){const l=u.injector.get(ff);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${k(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(yn(Ct))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();function Zh(o,s){return Array.isArray(s)?s.reduce(Zh,o):Object.assign(Object.assign({},o),s)}let ff=(()=>{class o{constructor(u,l,d,h,m){this._zone=u,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new pe.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),b=new pe.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Ur.assertNotInAngularZone(),mv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{Ur.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ie.T)(v,b.pipe(o=>(0,ce.x)()(function(o,s){return function(l){let d;d="function"==typeof o?o:function(){return o};const h=Object.create(l,ae.N);return h.source=l,h.subjectFactory=d,h}}($)(o))))}bootstrap(u,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof oh?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const h=function(o){return o.isBoundToModule}(d)?void 0:this._injector.get(Ii),v=d.create(Ct.NULL,[],l||d.selector,h),b=v.location.nativeElement,w=v.injector.get(nr,null),D=w&&v.injector.get(cf);return w&&D&&D.registerApplication(b,w),v.onDestroy(()=>{this.detachView(v.hostView),Sv(this.components,v),D&&D.unregisterApplication(b)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;Sv(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(hv,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(yn(Ur),yn(Ct),yn(Ka),yn(aa),yn(ec))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();function Sv(o,s){const u=o.indexOf(s);u>-1&&o.splice(u,1)}class gS{}class VE{}const yS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let vS=(()=>{class o{constructor(u,l){this._compiler=u,this._config=l||yS}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[l,d]=u.split("#");return void 0===d&&(d="default"),P(8255)(l).then(h=>h[d]).then(h=>jE(h,l,d)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(u){let[l,d]=u.split("#"),h="NgFactory";return void 0===d&&(d="default",h=""),P(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(m=>m[d+h]).then(m=>jE(m,l,d))}}return o.\u0275fac=function(u){return new(u||o)(yn(ms),yn(VE,8))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();function jE(o,s,u){if(!o)throw new Error(`Cannot find '${u}' in '${s}'`);return o}const DS=function(o){return null},GE=OE(null,"core",[{provide:dv,useValue:"unknown"},{provide:Iv,deps:[Ct]},{provide:cf,deps:[]},{provide:SE,deps:[]}]),SS=[{provide:ff,useClass:ff,deps:[Ur,Ct,Ka,aa,ec]},{provide:Ch,deps:[Ur],useFactory:function(o){let s=[];return o.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(u){s.push(u)}}},{provide:ec,useClass:ec,deps:[[new Ui,Xu]]},{provide:ms,useClass:ms,deps:[]},TE,{provide:Ul,useFactory:function(){return gy},deps:[]},{provide:uh,useFactory:function(){return gw},deps:[]},{provide:Vh,useFactory:function(o){return ss(o=o||"undefined"!=typeof $localize&&$localize.locale||xl),o},deps:[[new qa(Vh),new Ui,new qo]]},{provide:AE,useValue:"USD"}];let RS=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(yn(ff))},o.\u0275mod=vf({type:o}),o.\u0275inj=Oo({providers:SS}),o})()},57:(Ve,me,P)=>{"use strict";P.d(me,{hO:()=>jr,xv:()=>se,Dh:()=>oe,HU:()=>L,GT:()=>ue,sI:()=>Nt,on:()=>De,ss:()=>j,pX:()=>H,yq:()=>Ze});var g=P(7771),te=P(3637),pe=P(3342),ie=P(3101),ae=P(309),Y=P(3018),fe=P(2329);function ce(){}Ve=P.hmd(Ve);class ${constructor(J,z=g.N){this.zone=J,this.delegate=z}now(){return this.delegate.now()}schedule(J,z,K){const ve=this.zone;return this.delegate.schedule(function(Pe){ve.runGuarded(()=>{J.apply(this,[Pe])})},z,K)}}class M{constructor(J){this.zone=J,this.task=null}call(J,z){const K=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ce,{},ce,ce)),z.pipe((0,pe.b)({next:K,complete:K,error:K})).subscribe(J).add(K)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class L{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new $(Zone.current)),this.insideAngular=J.run(()=>new $(Zone.current,te.z))}}function j(W){return function(z){return(z=z.lift(new M(W.ngZone))).pipe((0,ie.R)(W.outsideAngular),(0,ae.QV)(W.insideAngular))}}const k=["ngOnDestroy"],H=(W,J,z,K={})=>new Proxy(W,{get:(ve,Q)=>z.runOutsideAngular(()=>{var Pe;if(W[Q])return(null===(Pe=null==K?void 0:K.spy)||void 0===Pe?void 0:Pe.get)&&K.spy.get(Q,W[Q]),W[Q];if(k.indexOf(Q)>-1)return()=>{};const Ke=J.toPromise().then(zt=>{const Le=zt&&zt[Q];return"function"==typeof Le?Le.bind(zt):Le&&Le.then?Le.then(Wt=>z.run(()=>Wt)):z.run(()=>Le)});return new Proxy(()=>{},{get:(zt,Le)=>Ke[Le],apply:(zt,Le,Wt)=>Ke.then(ze=>{var Me;const ot=ze&&ze(...Wt);return(null===(Me=null==K?void 0:K.spy)||void 0===Me?void 0:Me.apply)&&K.spy.apply(Q,Wt,ot),ot})})})}),ue=(W,J)=>{J.forEach(z=>{Object.getOwnPropertyNames(z.prototype||z).forEach(K=>{Object.defineProperty(W.prototype,K,Object.getOwnPropertyDescriptor(z.prototype||z,K))})})},oe=new Y.OlP("angularfire2.app.options"),se=new Y.OlP("angularfire2.app.nameOrConfig"),Ie=new Y.GfV("6.1.5");function De(W,J,z){const ve="object"==typeof z&&z||{};ve.name=ve.name||"string"==typeof z&&z||"[DEFAULT]";const Pe=fe.Z.apps.filter(Ke=>Ke&&Ke.name===ve.name)[0]||J.runOutsideAngular(()=>fe.Z.initializeApp(W,ve));try{JSON.stringify(W)!==JSON.stringify(Pe.options)&&Ne("error",`${Pe.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return Pe}const Ze=()=>{Ne("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Ne=(W,...J)=>{(0,Y.X6Q)()&&"undefined"!=typeof console&&console[W](...J)};function Nt(W,J,z,K,ve){const[Q,...Pe]=globalThis.\u0275AngularfireInstanceCache.get(W)||[];if(Q){try{ve.some((Ke,zt)=>{const Le=Pe[zt];return Ke&&"object"==typeof Ke?JSON.stringify(Ke)!==JSON.stringify(Le):Ke!==Le})&&Ne("error",`${J} was already initialized on the ${z.name} Firebase App instance with different settings.${Ve.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ke){}return Q}{const Ke=K();return globalThis.\u0275AngularfireInstanceCache.set(W,[Ke,...ve]),Ke}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Ft={provide:class{},useFactory:De,deps:[oe,Y.R0b,[new Y.FiY,se]]};let jr=(()=>{class W{constructor(z){fe.Z.registerVersion("angularfire",Ie.full,z.toString()),fe.Z.registerVersion("angular",Y.q4F.full)}static initializeApp(z,K){return{ngModule:W,providers:[{provide:oe,useValue:z},{provide:se,useValue:K}]}}}return W.\u0275fac=function(z){return new(z||W)(Y.LFG(Y.Lbi))},W.\u0275mod=Y.oAB({type:W}),W.\u0275inj=Y.cJS({providers:[Ft]}),W})()},9759:(Ve,me,P)=>{"use strict";P.d(me,{Z:()=>Wt});var ae,Ne,g=P(4762),te=P(4685),pe=P(6034),ie=P(300),Y=((ae={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ae["bad-app-name"]="Illegal App name: '{$appName}",ae["duplicate-app"]="Firebase App named '{$appName}' already exists",ae["app-deleted"]="Firebase App named '{$appName}' already deleted",ae["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ae["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ae),fe=new te.LL("app","Firebase",Y),ce="@firebase/app",Ae="[DEFAULT]",Nt=((Ne={})[ce]="fire-core",Ne["@firebase/analytics"]="fire-analytics",Ne["@firebase/app-check"]="fire-app-check",Ne["@firebase/auth"]="fire-auth",Ne["@firebase/database"]="fire-rtdb",Ne["@firebase/functions"]="fire-fn",Ne["@firebase/installations"]="fire-iid",Ne["@firebase/messaging"]="fire-fcm",Ne["@firebase/performance"]="fire-perf",Ne["@firebase/remote-config"]="fire-rc",Ne["@firebase/storage"]="fire-gcs",Ne["@firebase/firestore"]="fire-fst",Ne["fire-js"]="fire-js",Ne["firebase-wrapper"]="fire-js-all",Ne),Ft=new ie.Yd("@firebase/app"),jr=function(){function ze(Me,ot,kt){var It=this;this.firebase_=kt,this.isDeleted_=!1,this.name_=ot.name,this.automaticDataCollectionEnabled_=ot.automaticDataCollectionEnabled||!1,this.options_=(0,te.p$)(Me),this.container=new pe.H0(ot.name),this._addComponent(new pe.wA("app",function(){return It},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(dt){return It._addComponent(dt)})}return Object.defineProperty(ze.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Me){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Me},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),ze.prototype.delete=function(){var Me=this;return new Promise(function(ot){Me.checkDestroyed_(),ot()}).then(function(){return Me.firebase_.INTERNAL.removeApp(Me.name_),Promise.all(Me.container.getProviders().map(function(ot){return ot.delete()}))}).then(function(){Me.isDeleted_=!0})},ze.prototype._getService=function(Me,ot){var kt;void 0===ot&&(ot=Ae),this.checkDestroyed_();var It=this.container.getProvider(Me);return!It.isInitialized()&&"EXPLICIT"===(null===(kt=It.getComponent())||void 0===kt?void 0:kt.instantiationMode)&&It.initialize(),It.getImmediate({identifier:ot})},ze.prototype._removeServiceInstance=function(Me,ot){void 0===ot&&(ot=Ae),this.container.getProvider(Me).clearInstance(ot)},ze.prototype._addComponent=function(Me){try{this.container.addComponent(Me)}catch(ot){Ft.debug("Component "+Me.name+" failed to register with FirebaseApp "+this.name,ot)}},ze.prototype._addOrOverwriteComponent=function(Me){this.container.addOrOverwriteComponent(Me)},ze.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},ze.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fe.create("app-deleted",{appName:this.name_})},ze}();jr.prototype.name&&jr.prototype.options||jr.prototype.delete||console.log("dc");var K=function z(){var ze=function(ze){var Me={},ot=new Map,kt={__esModule:!0,initializeApp:function(ut,_t){void 0===_t&&(_t={}),("object"!=typeof _t||null===_t)&&(_t={name:_t});var $n=_t;void 0===$n.name&&($n.name=Ae);var hn=$n.name;if("string"!=typeof hn||!hn)throw fe.create("bad-app-name",{appName:String(hn)});if((0,te.r3)(Me,hn))throw fe.create("duplicate-app",{appName:hn});var Lt=new ze(ut,$n,kt);return Me[hn]=Lt,Lt},app:dt,registerVersion:function(ut,_t,Br){var $n,hn=null!==($n=Nt[ut])&&void 0!==$n?$n:ut;Br&&(hn+="-"+Br);var Lt=hn.match(/\s|\//),wn=_t.match(/\s|\//);if(Lt||wn){var Zn=['Unable to register library "'+hn+'" with version "'+_t+'":'];return Lt&&Zn.push('library name "'+hn+'" contains illegal characters (whitespace or "/")'),Lt&&wn&&Zn.push("and"),wn&&Zn.push('version name "'+_t+'" contains illegal characters (whitespace or "/")'),void Ft.warn(Zn.join(" "))}cp(new pe.wA(hn+"-version",function(){return{library:hn,version:_t}},"VERSION"))},setLogLevel:ie.Ub,onLog:function(ut,_t){if(null!==ut&&"function"!=typeof ut)throw fe.create("invalid-log-argument");(0,ie.Am)(ut,_t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:cp,removeApp:function(ut){delete Me[ut]},components:ot,useAsService:function(ut,_t){return"serverAuth"===_t?null:_t}}};function dt(ut){if(!(0,te.r3)(Me,ut=ut||Ae))throw fe.create("no-app",{appName:ut});return Me[ut]}function cp(ut){var _t=ut.name;if(ot.has(_t))return Ft.debug("There were multiple attempts to register component "+_t+"."),"PUBLIC"===ut.type?kt[_t]:null;if(ot.set(_t,ut),"PUBLIC"===ut.type){var Br=function(wn){if(void 0===wn&&(wn=dt()),"function"!=typeof wn[_t])throw fe.create("invalid-app-argument",{appName:_t});return wn[_t]()};void 0!==ut.serviceProps&&(0,te.ZB)(Br,ut.serviceProps),kt[_t]=Br,ze.prototype[_t]=function(){for(var wn=[],Zn=0;Zn<arguments.length;Zn++)wn[Zn]=arguments[Zn];return this._getService.bind(this,_t).apply(this,ut.multipleInstances?wn:[])}}for(var $n=0,hn=Object.keys(Me);$n<hn.length;$n++)Me[hn[$n]]._addComponent(ut);return"PUBLIC"===ut.type?kt[_t]:null}return kt.default=kt,Object.defineProperty(kt,"apps",{get:function(){return Object.keys(Me).map(function(ut){return Me[ut]})}}),dt.App=ze,kt}(jr);return ze.INTERNAL=(0,g.pi)((0,g.pi)({},ze.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(ot){(0,te.ZB)(ze,ot)},createSubscribe:te.ne,ErrorFactory:te.LL,deepExtend:te.ZB}),ze}(),ve=function(){function ze(Me){this.container=Me}return ze.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ot){if(function(ze){var Me=ze.getComponent();return"VERSION"===(null==Me?void 0:Me.type)}(ot)){var kt=ot.getImmediate();return kt.library+"/"+kt.version}return null}).filter(function(ot){return ot}).join(" ")},ze}();if((0,te.jU)()&&void 0!==self.firebase){Ft.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ke=self.firebase.SDK_VERSION;Ke&&Ke.indexOf("LITE")>=0&&Ft.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var zt=K.initializeApp;K.initializeApp=function(){for(var ze=[],Me=0;Me<arguments.length;Me++)ze[Me]=arguments[Me];return(0,te.UG)()&&Ft.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),zt.apply(void 0,ze)};var ze,Le=K;(ze=Le).INTERNAL.registerComponent(new pe.wA("platform-logger",function(ot){return new ve(ot)},"PRIVATE")),ze.registerVersion(ce,"0.6.30",undefined),ze.registerVersion("fire-js","");const Wt=Le},6034:(Ve,me,P)=>{"use strict";P.d(me,{wA:()=>pe,H0:()=>ce});var g=P(4762),te=P(4685),pe=function(){function $(M,L,j){this.name=M,this.instanceFactory=L,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $.prototype.setInstantiationMode=function(M){return this.instantiationMode=M,this},$.prototype.setMultipleInstances=function(M){return this.multipleInstances=M,this},$.prototype.setServiceProps=function(M){return this.serviceProps=M,this},$.prototype.setInstanceCreatedCallback=function(M){return this.onInstanceCreated=M,this},$}(),ie="[DEFAULT]",ae=function(){function $(M,L){this.name=M,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $.prototype.get=function(M){var L=this.normalizeInstanceIdentifier(M);if(!this.instancesDeferred.has(L)){var j=new te.BH;if(this.instancesDeferred.set(L,j),this.isInitialized(L)||this.shouldAutoInitialize())try{var k=this.getOrInitializeService({instanceIdentifier:L});k&&j.resolve(k)}catch(H){}}return this.instancesDeferred.get(L).promise},$.prototype.getImmediate=function(M){var L,j=this.normalizeInstanceIdentifier(null==M?void 0:M.identifier),k=null!==(L=null==M?void 0:M.optional)&&void 0!==L&&L;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(k)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(H){if(k)return null;throw H}},$.prototype.getComponent=function(){return this.component},$.prototype.setComponent=function(M){var L,j;if(M.name!==this.name)throw Error("Mismatching Component "+M.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=M,this.shouldAutoInitialize()){if(function($){return"EAGER"===$.instantiationMode}(M))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(De){}try{for(var k=(0,g.XA)(this.instancesDeferred.entries()),H=k.next();!H.done;H=k.next()){var ue=(0,g.CR)(H.value,2),se=ue[1],He=this.normalizeInstanceIdentifier(ue[0]);try{var Ie=this.getOrInitializeService({instanceIdentifier:He});se.resolve(Ie)}catch(De){}}}catch(De){L={error:De}}finally{try{H&&!H.done&&(j=k.return)&&j.call(k)}finally{if(L)throw L.error}}}},$.prototype.clearInstance=function(M){void 0===M&&(M=ie),this.instancesDeferred.delete(M),this.instancesOptions.delete(M),this.instances.delete(M)},$.prototype.delete=function(){return(0,g.mG)(this,void 0,void 0,function(){var M;return(0,g.Jh)(this,function(L){switch(L.label){case 0:return M=Array.from(this.instances.values()),[4,Promise.all((0,g.ev)((0,g.ev)([],(0,g.CR)(M.filter(function(j){return"INTERNAL"in j}).map(function(j){return j.INTERNAL.delete()}))),(0,g.CR)(M.filter(function(j){return"_delete"in j}).map(function(j){return j._delete()}))))];case 1:return L.sent(),[2]}})})},$.prototype.isComponentSet=function(){return null!=this.component},$.prototype.isInitialized=function(M){return void 0===M&&(M=ie),this.instances.has(M)},$.prototype.getOptions=function(M){return void 0===M&&(M=ie),this.instancesOptions.get(M)||{}},$.prototype.initialize=function(M){var L,j;void 0===M&&(M={});var k=M.options,H=void 0===k?{}:k,ue=this.normalizeInstanceIdentifier(M.instanceIdentifier);if(this.isInitialized(ue))throw Error(this.name+"("+ue+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var oe=this.getOrInitializeService({instanceIdentifier:ue,options:H});try{for(var se=(0,g.XA)(this.instancesDeferred.entries()),He=se.next();!He.done;He=se.next()){var Ie=(0,g.CR)(He.value,2),Ze=Ie[1];ue===this.normalizeInstanceIdentifier(Ie[0])&&Ze.resolve(oe)}}catch(Ae){L={error:Ae}}finally{try{He&&!He.done&&(j=se.return)&&j.call(se)}finally{if(L)throw L.error}}return oe},$.prototype.onInit=function(M,L){var j,k=this.normalizeInstanceIdentifier(L),H=null!==(j=this.onInitCallbacks.get(k))&&void 0!==j?j:new Set;H.add(M),this.onInitCallbacks.set(k,H);var ue=this.instances.get(k);return ue&&M(ue,k),function(){H.delete(M)}},$.prototype.invokeOnInitCallbacks=function(M,L){var j,k,H=this.onInitCallbacks.get(L);if(H)try{for(var ue=(0,g.XA)(H),oe=ue.next();!oe.done;oe=ue.next()){var se=oe.value;try{se(M,L)}catch(He){}}}catch(He){j={error:He}}finally{try{oe&&!oe.done&&(k=ue.return)&&k.call(ue)}finally{if(j)throw j.error}}},$.prototype.getOrInitializeService=function(M){var L=M.instanceIdentifier,j=M.options,k=void 0===j?{}:j,H=this.instances.get(L);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:Y(L),options:k}),this.instances.set(L,H),this.instancesOptions.set(L,k),this.invokeOnInitCallbacks(H,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,H)}catch(ue){}return H||null},$.prototype.normalizeInstanceIdentifier=function(M){return void 0===M&&(M=ie),this.component?this.component.multipleInstances?M:ie:M},$.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},$}();function Y($){return $===ie?void 0:$}var ce=function(){function $(M){this.name=M,this.providers=new Map}return $.prototype.addComponent=function(M){var L=this.getProvider(M.name);if(L.isComponentSet())throw new Error("Component "+M.name+" has already been registered with "+this.name);L.setComponent(M)},$.prototype.addOrOverwriteComponent=function(M){this.getProvider(M.name).isComponentSet()&&this.providers.delete(M.name),this.addComponent(M)},$.prototype.getProvider=function(M){if(this.providers.has(M))return this.providers.get(M);var L=new ae(M,this);return this.providers.set(M,L),L},$.prototype.getProviders=function(){return Array.from(this.providers.values())},$}()},300:(Ve,me,P)=>{"use strict";function g(){for(var j=0,k=0,H=arguments.length;k<H;k++)j+=arguments[k].length;var ue=Array(j),oe=0;for(k=0;k<H;k++)for(var se=arguments[k],He=0,Ie=se.length;He<Ie;He++,oe++)ue[oe]=se[He];return ue}P.d(me,{in:()=>ie,Yd:()=>$,Ub:()=>M,Am:()=>L});var te,pe=[],ie=(()=>{return(j=ie||(ie={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",ie;var j})(),ae={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Y=ie.INFO,fe=((te={})[ie.DEBUG]="log",te[ie.VERBOSE]="log",te[ie.INFO]="info",te[ie.WARN]="warn",te[ie.ERROR]="error",te),ce=function(j,k){for(var H=[],ue=2;ue<arguments.length;ue++)H[ue-2]=arguments[ue];if(!(k<j.logLevel)){var oe=(new Date).toISOString(),se=fe[k];if(!se)throw new Error("Attempted to log a message with an invalid logType (value: "+k+")");console[se].apply(console,g(["["+oe+"]  "+j.name+":"],H))}},$=function(){function j(k){this.name=k,this._logLevel=Y,this._logHandler=ce,this._userLogHandler=null,pe.push(this)}return Object.defineProperty(j.prototype,"logLevel",{get:function(){return this._logLevel},set:function(k){if(!(k in ie))throw new TypeError('Invalid value "'+k+'" assigned to `logLevel`');this._logLevel=k},enumerable:!1,configurable:!0}),j.prototype.setLogLevel=function(k){this._logLevel="string"==typeof k?ae[k]:k},Object.defineProperty(j.prototype,"logHandler",{get:function(){return this._logHandler},set:function(k){if("function"!=typeof k)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=k},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(k){this._userLogHandler=k},enumerable:!1,configurable:!0}),j.prototype.debug=function(){for(var k=[],H=0;H<arguments.length;H++)k[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.DEBUG],k)),this._logHandler.apply(this,g([this,ie.DEBUG],k))},j.prototype.log=function(){for(var k=[],H=0;H<arguments.length;H++)k[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.VERBOSE],k)),this._logHandler.apply(this,g([this,ie.VERBOSE],k))},j.prototype.info=function(){for(var k=[],H=0;H<arguments.length;H++)k[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.INFO],k)),this._logHandler.apply(this,g([this,ie.INFO],k))},j.prototype.warn=function(){for(var k=[],H=0;H<arguments.length;H++)k[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.WARN],k)),this._logHandler.apply(this,g([this,ie.WARN],k))},j.prototype.error=function(){for(var k=[],H=0;H<arguments.length;H++)k[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ie.ERROR],k)),this._logHandler.apply(this,g([this,ie.ERROR],k))},j}();function M(j){pe.forEach(function(k){k.setLogLevel(j)})}function L(j,k){for(var H=function(He){var Ie=null;k&&k.level&&(Ie=ae[k.level]),He.userLogHandler=null===j?null:function(De,Ze){for(var Ne=[],Ae=2;Ae<arguments.length;Ae++)Ne[Ae-2]=arguments[Ae];var Nt=Ne.map(function(Ft){if(null==Ft)return null;if("string"==typeof Ft)return Ft;if("number"==typeof Ft||"boolean"==typeof Ft)return Ft.toString();if(Ft instanceof Error)return Ft.message;try{return JSON.stringify(Ft)}catch(jr){return null}}).filter(function(Ft){return Ft}).join(" ");Ze>=(null!=Ie?Ie:De.logLevel)&&j({level:ie[Ze].toLowerCase(),message:Nt,args:Ne,type:De.name})}},ue=0,oe=pe;ue<oe.length;ue++)H(oe[ue])}},4685:(Ve,me,P)=>{"use strict";P.d(me,{BH:()=>H,LL:()=>Pe,ZR:()=>Q,r3:()=>dt,Sg:()=>ue,ne:()=>$n,p$:()=>L,ZB:()=>j,m9:()=>Qt,z$:()=>oe,jU:()=>Ie,ru:()=>De,d:()=>Ne,w1:()=>Ae,uI:()=>se,UG:()=>He,b$:()=>Ze,G6:()=>jr,Mn:()=>Nt});var g=P(4762),ae=function(U){for(var x=[],Z=0,ne=0;ne<U.length;ne++){var q=U.charCodeAt(ne);q<128?x[Z++]=q:q<2048?(x[Z++]=q>>6|192,x[Z++]=63&q|128):55296==(64512&q)&&ne+1<U.length&&56320==(64512&U.charCodeAt(ne+1))?(q=65536+((1023&q)<<10)+(1023&U.charCodeAt(++ne)),x[Z++]=q>>18|240,x[Z++]=q>>12&63|128,x[Z++]=q>>6&63|128,x[Z++]=63&q|128):(x[Z++]=q>>12|224,x[Z++]=q>>6&63|128,x[Z++]=63&q|128)}return x},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(U,x){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Z=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[],q=0;q<U.length;q+=3){var ge=U[q],Ge=q+1<U.length,bt=Ge?U[q+1]:0,Et=q+2<U.length,wt=Et?U[q+2]:0,Ln=(15&bt)<<2|wt>>6,Ta=63&wt;Et||(Ta=64,Ge||(Ln=64)),ne.push(Z[ge>>2],Z[(3&ge)<<4|bt>>4],Z[Ln],Z[Ta])}return ne.join("")},encodeString:function(U,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(U):this.encodeByteArray(ae(U),x)},decodeString:function(U,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(U):function(U){for(var x=[],Z=0,ne=0;Z<U.length;){var q=U[Z++];if(q<128)x[ne++]=String.fromCharCode(q);else if(q>191&&q<224){var ge=U[Z++];x[ne++]=String.fromCharCode((31&q)<<6|63&ge)}else if(q>239&&q<365){var Et=((7&q)<<18|(63&(ge=U[Z++]))<<12|(63&(Ge=U[Z++]))<<6|63&U[Z++])-65536;x[ne++]=String.fromCharCode(55296+(Et>>10)),x[ne++]=String.fromCharCode(56320+(1023&Et))}else{ge=U[Z++];var Ge=U[Z++];x[ne++]=String.fromCharCode((15&q)<<12|(63&ge)<<6|63&Ge)}}return x.join("")}(this.decodeStringToByteArray(U,x))},decodeStringToByteArray:function(U,x){this.init_();for(var Z=x?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[],q=0;q<U.length;){var ge=Z[U.charAt(q++)],bt=q<U.length?Z[U.charAt(q)]:0,wt=++q<U.length?Z[U.charAt(q)]:64,un=++q<U.length?Z[U.charAt(q)]:64;if(++q,null==ge||null==bt||null==wt||null==un)throw Error();ne.push(ge<<2|bt>>4),64!==wt&&(ne.push(bt<<4&240|wt>>2),64!==un&&ne.push(wt<<6&192|un))}return ne},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},$=function(U){return function(U){var x=ae(U);return fe.encodeByteArray(x,!0)}(U).replace(/\./g,"")};function L(U){return j(void 0,U)}function j(U,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return x}for(var ne in x)!x.hasOwnProperty(ne)||!k(ne)||(U[ne]=j(U[ne],x[ne]));return U}function k(U){return"__proto__"!==U}var H=function(){function U(){var x=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Z,ne){x.resolve=Z,x.reject=ne})}return U.prototype.wrapCallback=function(x){var Z=this;return function(ne,q){ne?Z.reject(ne):Z.resolve(q),"function"==typeof x&&(Z.promise.catch(function(){}),1===x.length?x(ne):x(ne,q))}},U}();function ue(U,x){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ne=x||"demo-project",q=U.iat||0,ge=U.sub||U.user_id;if(!ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ge=(0,g.pi)({iss:"https://securetoken.google.com/"+ne,aud:ne,iat:q,exp:q+3600,auth_time:q,sub:ge,user_id:ge,firebase:{sign_in_provider:"custom",identities:{}}},U);return[$(JSON.stringify({alg:"none",type:"JWT"})),$(JSON.stringify(Ge)),""].join(".")}function oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function He(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function De(){var U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return oe().indexOf("Electron/")>=0}function Ae(){var U=oe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Nt(){return oe().indexOf("MSAppHost/")>=0}function jr(){return!He()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Q=function(U){function x(Z,ne,q){var ge=U.call(this,ne)||this;return ge.code=Z,ge.customData=q,ge.name="FirebaseError",Object.setPrototypeOf(ge,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(ge,Pe.prototype.create),ge}return(0,g.ZT)(x,U),x}(Error),Pe=function(){function U(x,Z,ne){this.service=x,this.serviceName=Z,this.errors=ne}return U.prototype.create=function(x){for(var Z=[],ne=1;ne<arguments.length;ne++)Z[ne-1]=arguments[ne];var q=Z[0]||{},ge=this.service+"/"+x,Ge=this.errors[x],bt=Ge?Ke(Ge,q):"Error",Et=this.serviceName+": "+bt+" ("+ge+").",wt=new Q(ge,Et,q);return wt},U}();function Ke(U,x){return U.replace(zt,function(Z,ne){var q=x[ne];return null!=q?String(q):"<"+ne+"?>"})}var zt=/\{\$([^}]+)}/g;function dt(U,x){return Object.prototype.hasOwnProperty.call(U,x)}function $n(U,x){var Z=new hn(U,x);return Z.subscribe.bind(Z)}!function(){function U(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var x=1;x<this.blockSize;++x)this.pad_[x]=0;this.reset()}U.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},U.prototype.compress_=function(x,Z){Z||(Z=0);var ne=this.W_;if("string"==typeof x)for(var q=0;q<16;q++)ne[q]=x.charCodeAt(Z)<<24|x.charCodeAt(Z+1)<<16|x.charCodeAt(Z+2)<<8|x.charCodeAt(Z+3),Z+=4;else for(q=0;q<16;q++)ne[q]=x[Z]<<24|x[Z+1]<<16|x[Z+2]<<8|x[Z+3],Z+=4;for(q=16;q<80;q++)ne[q]=4294967295&((ge=ne[q-3]^ne[q-8]^ne[q-14]^ne[q-16])<<1|ge>>>31);var un,Ln,Ge=this.chain_[0],bt=this.chain_[1],Et=this.chain_[2],wt=this.chain_[3],zn=this.chain_[4];for(q=0;q<80;q++){q<40?q<20?(un=wt^bt&(Et^wt),Ln=1518500249):(un=bt^Et^wt,Ln=1859775393):q<60?(un=bt&Et|wt&(bt|Et),Ln=2400959708):(un=bt^Et^wt,Ln=3395469782);var ge=(Ge<<5|Ge>>>27)+un+zn+Ln+ne[q]&4294967295;zn=wt,wt=Et,Et=4294967295&(bt<<30|bt>>>2),bt=Ge,Ge=ge}this.chain_[0]=this.chain_[0]+Ge&4294967295,this.chain_[1]=this.chain_[1]+bt&4294967295,this.chain_[2]=this.chain_[2]+Et&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+zn&4294967295},U.prototype.update=function(x,Z){if(null!=x){void 0===Z&&(Z=x.length);for(var ne=Z-this.blockSize,q=0,ge=this.buf_,Ge=this.inbuf_;q<Z;){if(0===Ge)for(;q<=ne;)this.compress_(x,q),q+=this.blockSize;if("string"==typeof x){for(;q<Z;)if(ge[Ge]=x.charCodeAt(q),++q,++Ge===this.blockSize){this.compress_(ge),Ge=0;break}}else for(;q<Z;)if(ge[Ge]=x[q],++q,++Ge===this.blockSize){this.compress_(ge),Ge=0;break}}this.inbuf_=Ge,this.total_+=Z}},U.prototype.digest=function(){var x=[],Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&Z,Z/=256;this.compress_(this.buf_);var q=0;for(ne=0;ne<5;ne++)for(var ge=24;ge>=0;ge-=8)x[q]=this.chain_[ne]>>ge&255,++q;return x}}();var hn=function(){function U(x,Z){var ne=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(function(){x(ne)}).catch(function(q){ne.error(q)})}return U.prototype.next=function(x){this.forEachObserver(function(Z){Z.next(x)})},U.prototype.error=function(x){this.forEachObserver(function(Z){Z.error(x)}),this.close(x)},U.prototype.complete=function(){this.forEachObserver(function(x){x.complete()}),this.close()},U.prototype.subscribe=function(x,Z,ne){var ge,q=this;if(void 0===x&&void 0===Z&&void 0===ne)throw new Error("Missing Observer.");void 0===(ge=function(U,x){if("object"!=typeof U||null===U)return!1;for(var Z=0,ne=["next","error","complete"];Z<ne.length;Z++){var q=ne[Z];if(q in U&&"function"==typeof U[q])return!0}return!1}(x)?x:{next:x,error:Z,complete:ne}).next&&(ge.next=Zn),void 0===ge.error&&(ge.error=Zn),void 0===ge.complete&&(ge.complete=Zn);var Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{q.finalError?ge.error(q.finalError):ge.complete()}catch(bt){}}),this.observers.push(ge),Ge},U.prototype.unsubscribeOne=function(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},U.prototype.forEachObserver=function(x){if(!this.finalized)for(var Z=0;Z<this.observers.length;Z++)this.sendOne(Z,x)},U.prototype.sendOne=function(x,Z){var ne=this;this.task.then(function(){if(void 0!==ne.observers&&void 0!==ne.observers[x])try{Z(ne.observers[x])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})},U.prototype.close=function(x){var Z=this;this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(function(){Z.observers=void 0,Z.onNoObservers=void 0}))},U}();function Zn(){}function Qt(U){return U&&U._delegate?U._delegate:U}},2329:(Ve,me,P)=>{"use strict";P.d(me,{Z:()=>g.Z});var g=P(9759);g.Z.registerVersion("firebase","8.10.0","app"),g.Z.SDK_VERSION="8.10.0"},7574:(Ve,me,P)=>{"use strict";P.d(me,{y:()=>L});var g=P(7393),pe=P(9181),ie=P(6490),Y=P(6554),fe=P(4487);var M=P(2494);let L=(()=>{class k{constructor(ue){this._isScalar=!1,ue&&(this._subscribe=ue)}lift(ue){const oe=new k;return oe.source=this,oe.operator=ue,oe}subscribe(ue,oe,se){const{operator:He}=this,Ie=function(k,H,ue){if(k){if(k instanceof g.L)return k;if(k[pe.b])return k[pe.b]()}return k||H||ue?new g.L(k,H,ue):new g.L(ie.c)}(ue,oe,se);if(Ie.add(He?He.call(Ie,this.source):this.source||M.v.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),M.v.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(ue){try{return this._subscribe(ue)}catch(oe){M.v.useDeprecatedSynchronousErrorHandling&&(ue.syncErrorThrown=!0,ue.syncErrorValue=oe),function(k){for(;k;){const{closed:H,destination:ue,isStopped:oe}=k;if(H||oe)return!1;k=ue&&ue instanceof g.L?ue:null}return!0}(ue)?ue.error(oe):console.warn(oe)}}forEach(ue,oe){return new(oe=j(oe))((se,He)=>{let Ie;Ie=this.subscribe(De=>{try{ue(De)}catch(Ze){He(Ze),Ie&&Ie.unsubscribe()}},He,se)})}_subscribe(ue){const{source:oe}=this;return oe&&oe.subscribe(ue)}[Y.L](){return this}pipe(...ue){return 0===ue.length?this:function(k){return 0===k.length?fe.y:1===k.length?k[0]:function(ue){return k.reduce((oe,se)=>se(oe),ue)}}(ue)(this)}toPromise(ue){return new(ue=j(ue))((oe,se)=>{let He;this.subscribe(Ie=>He=Ie,Ie=>se(Ie),()=>oe(He))})}}return k.create=H=>new k(H),k})();function j(k){if(k||(k=M.v.Promise||Promise),!k)throw new Error("no Promise impl found");return k}},6490:(Ve,me,P)=>{"use strict";P.d(me,{c:()=>pe});var g=P(2494),te=P(4449);const pe={closed:!0,next(ie){},error(ie){if(g.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,te.z)(ie)},complete(){}}},9765:(Ve,me,P)=>{"use strict";P.d(me,{Yc:()=>fe,xQ:()=>ce});var g=P(7574),te=P(7393),pe=P(5319),ie=P(7971),ae=P(8858),Y=P(9181);class fe extends te.L{constructor(L){super(L),this.destination=L}}let ce=(()=>{class M extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Y.b](){return new fe(this)}lift(j){const k=new $(this,this);return k.operator=j,k}next(j){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:k}=this,H=k.length,ue=k.slice();for(let oe=0;oe<H;oe++)ue[oe].next(j)}}error(j){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=j,this.isStopped=!0;const{observers:k}=this,H=k.length,ue=k.slice();for(let oe=0;oe<H;oe++)ue[oe].error(j);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:j}=this,k=j.length,H=j.slice();for(let ue=0;ue<k;ue++)H[ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(j){if(this.closed)throw new ie.N;return super._trySubscribe(j)}_subscribe(j){if(this.closed)throw new ie.N;return this.hasError?(j.error(this.thrownError),pe.w.EMPTY):this.isStopped?(j.complete(),pe.w.EMPTY):(this.observers.push(j),new ae.W(this,j))}asObservable(){const j=new g.y;return j.source=this,j}}return M.create=(L,j)=>new $(L,j),M})();class $ extends ce{constructor(L,j){super(),this.destination=L,this.source=j}next(L){const{destination:j}=this;j&&j.next&&j.next(L)}error(L){const{destination:j}=this;j&&j.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:j}=this;return j?this.source.subscribe(L):pe.w.EMPTY}}},8858:(Ve,me,P)=>{"use strict";P.d(me,{W:()=>te});var g=P(5319);class te extends g.w{constructor(ie,ae){super(),this.subject=ie,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ie=this.subject,ae=ie.observers;if(this.subject=null,!ae||0===ae.length||ie.isStopped||ie.closed)return;const Y=ae.indexOf(this.subscriber);-1!==Y&&ae.splice(Y,1)}}},7393:(Ve,me,P)=>{"use strict";P.d(me,{L:()=>fe});var g=P(9105),te=P(6490),pe=P(5319),ie=P(9181),ae=P(2494),Y=P(4449);class fe extends pe.w{constructor(M,L,j){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!M){this.destination=te.c;break}if("object"==typeof M){M instanceof fe?(this.syncErrorThrowable=M.syncErrorThrowable,this.destination=M,M.add(this)):(this.syncErrorThrowable=!0,this.destination=new ce(this,M));break}default:this.syncErrorThrowable=!0,this.destination=new ce(this,M,L,j)}}[ie.b](){return this}static create(M,L,j){const k=new fe(M,L,j);return k.syncErrorThrowable=!1,k}next(M){this.isStopped||this._next(M)}error(M){this.isStopped||(this.isStopped=!0,this._error(M))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(M){this.destination.next(M)}_error(M){this.destination.error(M),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:M}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=M,this}}class ce extends fe{constructor(M,L,j,k){super(),this._parentSubscriber=M;let H,ue=this;(0,g.m)(L)?H=L:L&&(H=L.next,j=L.error,k=L.complete,L!==te.c&&(ue=Object.create(L),(0,g.m)(ue.unsubscribe)&&this.add(ue.unsubscribe.bind(ue)),ue.unsubscribe=this.unsubscribe.bind(this))),this._context=ue,this._next=H,this._error=j,this._complete=k}next(M){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;ae.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,M)&&this.unsubscribe():this.__tryOrUnsub(this._next,M)}}error(M){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:j}=ae.v;if(this._error)j&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,M),this.unsubscribe()):(this.__tryOrUnsub(this._error,M),this.unsubscribe());else if(L.syncErrorThrowable)j?(L.syncErrorValue=M,L.syncErrorThrown=!0):(0,Y.z)(M),this.unsubscribe();else{if(this.unsubscribe(),j)throw M;(0,Y.z)(M)}}}complete(){if(!this.isStopped){const{_parentSubscriber:M}=this;if(this._complete){const L=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&M.syncErrorThrowable?(this.__tryOrSetError(M,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(M,L){try{M.call(this._context,L)}catch(j){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw j;(0,Y.z)(j)}}__tryOrSetError(M,L,j){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,j)}catch(k){return ae.v.useDeprecatedSynchronousErrorHandling?(M.syncErrorValue=k,M.syncErrorThrown=!0,!0):((0,Y.z)(k),!0)}return!1}_unsubscribe(){const{_parentSubscriber:M}=this;this._context=null,this._parentSubscriber=null,M.unsubscribe()}}},5319:(Ve,me,P)=>{"use strict";P.d(me,{w:()=>Y});var g=P(9796),te=P(1555),pe=P(9105);const ae=(()=>{function ce($){return Error.call(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((M,L)=>`${L+1}) ${M.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$,this}return ce.prototype=Object.create(Error.prototype),ce})();class Y{constructor($){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,$&&(this._ctorUnsubscribe=!0,this._unsubscribe=$)}unsubscribe(){let $;if(this.closed)return;let{_parentOrParents:M,_ctorUnsubscribe:L,_unsubscribe:j,_subscriptions:k}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,M instanceof Y)M.remove(this);else if(null!==M)for(let H=0;H<M.length;++H)M[H].remove(this);if((0,pe.m)(j)){L&&(this._unsubscribe=void 0);try{j.call(this)}catch(H){$=H instanceof ae?fe(H.errors):[H]}}if((0,g.k)(k)){let H=-1,ue=k.length;for(;++H<ue;){const oe=k[H];if((0,te.K)(oe))try{oe.unsubscribe()}catch(se){$=$||[],se instanceof ae?$=$.concat(fe(se.errors)):$.push(se)}}}if($)throw new ae($)}add($){let M=$;if(!$)return Y.EMPTY;switch(typeof $){case"function":M=new Y($);case"object":if(M===this||M.closed||"function"!=typeof M.unsubscribe)return M;if(this.closed)return M.unsubscribe(),M;if(!(M instanceof Y)){const k=M;M=new Y,M._subscriptions=[k]}break;default:throw new Error("unrecognized teardown "+$+" added to Subscription.")}let{_parentOrParents:L}=M;if(null===L)M._parentOrParents=this;else if(L instanceof Y){if(L===this)return M;M._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return M;L.push(this)}const j=this._subscriptions;return null===j?this._subscriptions=[M]:j.push(M),M}remove($){const M=this._subscriptions;if(M){const L=M.indexOf($);-1!==L&&M.splice(L,1)}}}var ce;function fe(ce){return ce.reduce(($,M)=>$.concat(M instanceof ae?M.errors:M),[])}Y.EMPTY=((ce=new Y).closed=!0,ce)},2494:(Ve,me,P)=>{"use strict";P.d(me,{v:()=>te});let g=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(pe){if(pe){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=pe},get useDeprecatedSynchronousErrorHandling(){return g}}},5345:(Ve,me,P)=>{"use strict";P.d(me,{IY:()=>ie,Ds:()=>Y,ft:()=>ce});var g=P(7393),te=P(7574),pe=P(7444);class ie extends g.L{constructor(M){super(),this.parent=M}_next(M){this.parent.notifyNext(M)}_error(M){this.parent.notifyError(M),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Y extends g.L{notifyNext(M){this.destination.next(M)}notifyError(M){this.destination.error(M)}notifyComplete(){this.destination.complete()}}function ce($,M){if(M.closed)return;if($ instanceof te.y)return $.subscribe(M);let L;try{L=(0,pe.s)($)(M)}catch(j){M.error(j)}return L}},2441:(Ve,me,P)=>{"use strict";P.d(me,{c:()=>ae,N:()=>Y});var g=P(9765),te=P(7574),pe=P(5319),ie=P(1307);class ae extends te.y{constructor(L,j){super(),this.source=L,this.subjectFactory=j,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new pe.w,L.add(this.source.subscribe(new fe(this.getSubject(),this))),L.closed&&(this._connection=null,L=pe.w.EMPTY)),L}refCount(){return(0,ie.x)()(this)}}const Y=(()=>{const M=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:M._subscribe},_isComplete:{value:M._isComplete,writable:!0},getSubject:{value:M.getSubject},connect:{value:M.connect},refCount:{value:M.refCount}}})();class fe extends g.Yc{constructor(L,j){super(L),this.connectable=j}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const j=L._connection;L._refCount=0,L._subject=null,L._connection=null,j&&j.unsubscribe()}}}},9193:(Ve,me,P)=>{"use strict";P.d(me,{E:()=>te,c:()=>pe});var g=P(7574);const te=new g.y(ae=>ae.complete());function pe(ae){return ae?function(ae){return new g.y(Y=>ae.schedule(()=>Y.complete()))}(ae):te}},4402:(Ve,me,P)=>{"use strict";P.d(me,{D:()=>ue});var g=P(7574),te=P(7444),pe=P(5319),ie=P(6554),fe=P(4087),ce=P(377),L=P(4072),j=P(9489);function ue(oe,se){return se?function(oe,se){if(null!=oe){if(function(oe){return oe&&"function"==typeof oe[ie.L]}(oe))return function(oe,se){return new g.y(He=>{const Ie=new pe.w;return Ie.add(se.schedule(()=>{const De=oe[ie.L]();Ie.add(De.subscribe({next(Ze){Ie.add(se.schedule(()=>He.next(Ze)))},error(Ze){Ie.add(se.schedule(()=>He.error(Ze)))},complete(){Ie.add(se.schedule(()=>He.complete()))}}))})),Ie})}(oe,se);if((0,L.t)(oe))return function(oe,se){return new g.y(He=>{const Ie=new pe.w;return Ie.add(se.schedule(()=>oe.then(De=>{Ie.add(se.schedule(()=>{He.next(De),Ie.add(se.schedule(()=>He.complete()))}))},De=>{Ie.add(se.schedule(()=>He.error(De)))}))),Ie})}(oe,se);if((0,j.z)(oe))return(0,fe.r)(oe,se);if(function(oe){return oe&&"function"==typeof oe[ce.hZ]}(oe)||"string"==typeof oe)return function(oe,se){if(!oe)throw new Error("Iterable cannot be null");return new g.y(He=>{const Ie=new pe.w;let De;return Ie.add(()=>{De&&"function"==typeof De.return&&De.return()}),Ie.add(se.schedule(()=>{De=oe[ce.hZ](),Ie.add(se.schedule(function(){if(He.closed)return;let Ze,Ne;try{const Ae=De.next();Ze=Ae.value,Ne=Ae.done}catch(Ae){return void He.error(Ae)}Ne?He.complete():(He.next(Ze),this.schedule())}))})),Ie})}(oe,se)}throw new TypeError((null!==oe&&typeof oe||oe)+" is not observable")}(oe,se):oe instanceof g.y?oe:new g.y((0,te.s)(oe))}},6693:(Ve,me,P)=>{"use strict";P.d(me,{n:()=>ie});var g=P(7574),te=P(5015),pe=P(4087);function ie(ae,Y){return Y?(0,pe.r)(ae,Y):new g.y((0,te.V)(ae))}},6682:(Ve,me,P)=>{"use strict";P.d(me,{T:()=>ae});var g=P(7574),te=P(4869),pe=P(3282),ie=P(6693);function ae(...Y){let fe=Number.POSITIVE_INFINITY,ce=null,$=Y[Y.length-1];return(0,te.K)($)?(ce=Y.pop(),Y.length>1&&"number"==typeof Y[Y.length-1]&&(fe=Y.pop())):"number"==typeof $&&(fe=Y.pop()),null===ce&&1===Y.length&&Y[0]instanceof g.y?Y[0]:(0,pe.J)(fe)((0,ie.n)(Y,ce))}},5917:(Ve,me,P)=>{"use strict";P.d(me,{of:()=>ie});var g=P(4869),te=P(6693),pe=P(4087);function ie(...ae){let Y=ae[ae.length-1];return(0,g.K)(Y)?(ae.pop(),(0,pe.r)(ae,Y)):(0,te.n)(ae)}},8002:(Ve,me,P)=>{"use strict";P.d(me,{U:()=>te});var g=P(7393);function te(ae,Y){return function(ce){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ce.lift(new pe(ae,Y))}}class pe{constructor(Y,fe){this.project=Y,this.thisArg=fe}call(Y,fe){return fe.subscribe(new ie(Y,this.project,this.thisArg))}}class ie extends g.L{constructor(Y,fe,ce){super(Y),this.project=fe,this.count=0,this.thisArg=ce||this}_next(Y){let fe;try{fe=this.project.call(this.thisArg,Y,this.count++)}catch(ce){return void this.destination.error(ce)}this.destination.next(fe)}}},3282:(Ve,me,P)=>{"use strict";P.d(me,{J:()=>pe});var g=P(9773),te=P(4487);function pe(ie=Number.POSITIVE_INFINITY){return(0,g.zg)(te.y,ie)}},9773:(Ve,me,P)=>{"use strict";P.d(me,{zg:()=>ie});var g=P(8002),te=P(4402),pe=P(5345);function ie(ce,$,M=Number.POSITIVE_INFINITY){return"function"==typeof $?L=>L.pipe(ie((j,k)=>(0,te.D)(ce(j,k)).pipe((0,g.U)((H,ue)=>$(j,H,k,ue))),M)):("number"==typeof $&&(M=$),L=>L.lift(new ae(ce,M)))}class ae{constructor($,M=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=M}call($,M){return M.subscribe(new Y($,this.project,this.concurrent))}}class Y extends pe.Ds{constructor($,M,L=Number.POSITIVE_INFINITY){super($),this.project=M,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let M;const L=this.index++;try{M=this.project($,L)}catch(j){return void this.destination.error(j)}this.active++,this._innerSub(M)}_innerSub($){const M=new pe.IY(this),L=this.destination;L.add(M);const j=(0,pe.ft)($,M);j!==M&&L.add(j)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($){this.destination.next($)}notifyComplete(){const $=this.buffer;this.active--,$.length>0?this._next($.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ve,me,P)=>{"use strict";P.d(me,{ht:()=>L,QV:()=>$});var g=P(7393),te=P(9193),pe=P(5917),ie=P(7574);class ce{constructor(H,ue,oe){this.kind=H,this.value=ue,this.error=oe,this.hasValue="N"===H}observe(H){switch(this.kind){case"N":return H.next&&H.next(this.value);case"E":return H.error&&H.error(this.error);case"C":return H.complete&&H.complete()}}do(H,ue,oe){switch(this.kind){case"N":return H&&H(this.value);case"E":return ue&&ue(this.error);case"C":return oe&&oe()}}accept(H,ue,oe){return H&&"function"==typeof H.next?this.observe(H):this.do(H,ue,oe)}toObservable(){switch(this.kind){case"N":return(0,pe.of)(this.value);case"E":return k=this.error,new ie.y(ue=>ue.error(k));case"C":return(0,te.c)()}var k;throw new Error("unexpected notification kind value")}static createNext(H){return void 0!==H?new ce("N",H):ce.undefinedValueNotification}static createError(H){return new ce("E",void 0,H)}static createComplete(){return ce.completeNotification}}function $(k,H=0){return function(oe){return oe.lift(new M(k,H))}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0);class M{constructor(H,ue=0){this.scheduler=H,this.delay=ue}call(H,ue){return ue.subscribe(new L(H,this.scheduler,this.delay))}}class L extends g.L{constructor(H,ue,oe=0){super(H),this.scheduler=ue,this.delay=oe}static dispatch(H){const{notification:ue,destination:oe}=H;ue.observe(oe),this.unsubscribe()}scheduleMessage(H){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new j(H,this.destination)))}_next(H){this.scheduleMessage(ce.createNext(H))}_error(H){this.scheduleMessage(ce.createError(H)),this.unsubscribe()}_complete(){this.scheduleMessage(ce.createComplete()),this.unsubscribe()}}class j{constructor(H,ue){this.notification=H,this.destination=ue}}},1307:(Ve,me,P)=>{"use strict";P.d(me,{x:()=>te});var g=P(7393);function te(){return function(Y){return Y.lift(new pe(Y))}}class pe{constructor(Y){this.connectable=Y}call(Y,fe){const{connectable:ce}=this;ce._refCount++;const $=new ie(Y,ce),M=fe.subscribe($);return $.closed||($.connection=ce.connect()),M}}class ie extends g.L{constructor(Y,fe){super(Y),this.connectable=fe}_unsubscribe(){const{connectable:Y}=this;if(!Y)return void(this.connection=null);this.connectable=null;const fe=Y._refCount;if(fe<=0)return void(this.connection=null);if(Y._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:ce}=this,$=Y._connection;this.connection=null,$&&(!ce||$===ce)&&$.unsubscribe()}}},3101:(Ve,me,P)=>{"use strict";P.d(me,{R:()=>se});var g=P(7574);let te=1;const pe=Promise.resolve(),ie={};function ae(Ie){return Ie in ie&&(delete ie[Ie],!0)}const Y={setImmediate(Ie){const De=te++;return ie[De]=!0,pe.then(()=>ae(De)&&Ie()),De},clearImmediate(Ie){ae(Ie)}};var ce=P(6465),M=P(6102);const k=new class extends M.v{flush(De){this.active=!0,this.scheduled=void 0;const{actions:Ze}=this;let Ne,Ae=-1,Nt=Ze.length;De=De||Ze.shift();do{if(Ne=De.execute(De.state,De.delay))break}while(++Ae<Nt&&(De=Ze.shift()));if(this.active=!1,Ne){for(;++Ae<Nt&&(De=Ze.shift());)De.unsubscribe();throw Ne}}}(class extends ce.o{constructor(De,Ze){super(De,Ze),this.scheduler=De,this.work=Ze}requestAsyncId(De,Ze,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(De,Ze,Ne):(De.actions.push(this),De.scheduled||(De.scheduled=Y.setImmediate(De.flush.bind(De,null))))}recycleAsyncId(De,Ze,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(De,Ze,Ne);0===De.actions.length&&(Y.clearImmediate(Ze),De.scheduled=void 0)}});var H=P(9796);class oe extends g.y{constructor(De,Ze=0,Ne=k){var Ie;super(),this.source=De,this.delayTime=Ze,this.scheduler=Ne,(!(!(0,H.k)(Ie=Ze)&&Ie-parseFloat(Ie)+1>=0)||Ze<0)&&(this.delayTime=0),(!Ne||"function"!=typeof Ne.schedule)&&(this.scheduler=k)}static create(De,Ze=0,Ne=k){return new oe(De,Ze,Ne)}static dispatch(De){const{source:Ze,subscriber:Ne}=De;return this.add(Ze.subscribe(Ne))}_subscribe(De){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:De})}}function se(Ie,De=0){return function(Ne){return Ne.lift(new He(Ie,De))}}class He{constructor(De,Ze){this.scheduler=De,this.delay=Ze}call(De,Ze){return new oe(Ze,this.delay,this.scheduler).subscribe(De)}}},3342:(Ve,me,P)=>{"use strict";P.d(me,{b:()=>ie});var g=P(7393);function te(){}var pe=P(9105);function ie(fe,ce,$){return function(L){return L.lift(new ae(fe,ce,$))}}class ae{constructor(ce,$,M){this.nextOrObserver=ce,this.error=$,this.complete=M}call(ce,$){return $.subscribe(new Y(ce,this.nextOrObserver,this.error,this.complete))}}class Y extends g.L{constructor(ce,$,M,L){super(ce),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=M||te,this._tapComplete=L||te,(0,pe.m)($)?(this._context=this,this._tapNext=$):$&&(this._context=$,this._tapNext=$.next||te,this._tapError=$.error||te,this._tapComplete=$.complete||te)}_next(ce){try{this._tapNext.call(this._context,ce)}catch($){return void this.destination.error($)}this.destination.next(ce)}_error(ce){try{this._tapError.call(this._context,ce)}catch($){return void this.destination.error($)}this.destination.error(ce)}_complete(){try{this._tapComplete.call(this._context)}catch(ce){return void this.destination.error(ce)}return this.destination.complete()}}},4087:(Ve,me,P)=>{"use strict";P.d(me,{r:()=>pe});var g=P(7574),te=P(5319);function pe(ie,ae){return new g.y(Y=>{const fe=new te.w;let ce=0;return fe.add(ae.schedule(function(){ce!==ie.length?(Y.next(ie[ce++]),Y.closed||fe.add(this.schedule())):Y.complete()})),fe})}},6465:(Ve,me,P)=>{"use strict";P.d(me,{o:()=>pe});var g=P(5319);class te extends g.w{constructor(ae,Y){super()}schedule(ae,Y=0){return this}}class pe extends te{constructor(ae,Y){super(ae,Y),this.scheduler=ae,this.work=Y,this.pending=!1}schedule(ae,Y=0){if(this.closed)return this;this.state=ae;const fe=this.id,ce=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ce,fe,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(ce,this.id,Y),this}requestAsyncId(ae,Y,fe=0){return setInterval(ae.flush.bind(ae,this),fe)}recycleAsyncId(ae,Y,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return Y;clearInterval(Y)}execute(ae,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ae,Y);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,Y){let ce,fe=!1;try{this.work(ae)}catch($){fe=!0,ce=!!$&&$||new Error($)}if(fe)return this.unsubscribe(),ce}_unsubscribe(){const ae=this.id,Y=this.scheduler,fe=Y.actions,ce=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ce&&fe.splice(ce,1),null!=ae&&(this.id=this.recycleAsyncId(Y,ae,null)),this.delay=null}}},6102:(Ve,me,P)=>{"use strict";P.d(me,{v:()=>te});let g=(()=>{class pe{constructor(ae,Y=pe.now){this.SchedulerAction=ae,this.now=Y}schedule(ae,Y=0,fe){return new this.SchedulerAction(this,ae).schedule(fe,Y)}}return pe.now=()=>Date.now(),pe})();class te extends g{constructor(ie,ae=g.now){super(ie,()=>te.delegate&&te.delegate!==this?te.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ie,ae=0,Y){return te.delegate&&te.delegate!==this?te.delegate.schedule(ie,ae,Y):super.schedule(ie,ae,Y)}flush(ie){const{actions:ae}=this;if(this.active)return void ae.push(ie);let Y;this.active=!0;do{if(Y=ie.execute(ie.state,ie.delay))break}while(ie=ae.shift());if(this.active=!1,Y){for(;ie=ae.shift();)ie.unsubscribe();throw Y}}}},3637:(Ve,me,P)=>{"use strict";P.d(me,{z:()=>pe,P:()=>ie});var g=P(6465);const pe=new(P(6102).v)(g.o),ie=pe},7771:(Ve,me,P)=>{"use strict";P.d(me,{c:()=>Y,N:()=>ae});var g=P(6465),pe=P(6102);const ae=new class extends pe.v{}(class extends g.o{constructor(ce,$){super(ce,$),this.scheduler=ce,this.work=$}schedule(ce,$=0){return $>0?super.schedule(ce,$):(this.delay=$,this.state=ce,this.scheduler.flush(this),this)}execute(ce,$){return $>0||this.closed?super.execute(ce,$):this._execute(ce,$)}requestAsyncId(ce,$,M=0){return null!==M&&M>0||null===M&&this.delay>0?super.requestAsyncId(ce,$,M):ce.flush(this)}}),Y=ae},377:(Ve,me,P)=>{"use strict";P.d(me,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ve,me,P)=>{"use strict";P.d(me,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ve,me,P)=>{"use strict";P.d(me,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ve,me,P)=>{"use strict";P.d(me,{N:()=>te});const te=(()=>{function pe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return pe.prototype=Object.create(Error.prototype),pe})()},4449:(Ve,me,P)=>{"use strict";function g(te){setTimeout(()=>{throw te},0)}P.d(me,{z:()=>g})},4487:(Ve,me,P)=>{"use strict";function g(te){return te}P.d(me,{y:()=>g})},9796:(Ve,me,P)=>{"use strict";P.d(me,{k:()=>g});const g=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Ve,me,P)=>{"use strict";P.d(me,{z:()=>g});const g=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(Ve,me,P)=>{"use strict";function g(te){return"function"==typeof te}P.d(me,{m:()=>g})},1555:(Ve,me,P)=>{"use strict";function g(te){return null!==te&&"object"==typeof te}P.d(me,{K:()=>g})},4072:(Ve,me,P)=>{"use strict";function g(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}P.d(me,{t:()=>g})},4869:(Ve,me,P)=>{"use strict";function g(te){return te&&"function"==typeof te.schedule}P.d(me,{K:()=>g})},7444:(Ve,me,P)=>{"use strict";P.d(me,{s:()=>L});var g=P(5015),te=P(4449),ie=P(377),Y=P(6554),ce=P(9489),$=P(4072),M=P(1555);const L=j=>{if(j&&"function"==typeof j[Y.L])return(j=>k=>{const H=j[Y.L]();if("function"!=typeof H.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return H.subscribe(k)})(j);if((0,ce.z)(j))return(0,g.V)(j);if((0,$.t)(j))return(j=>k=>(j.then(H=>{k.closed||(k.next(H),k.complete())},H=>k.error(H)).then(null,te.z),k))(j);if(j&&"function"==typeof j[ie.hZ])return(j=>k=>{const H=j[ie.hZ]();for(;;){let ue;try{ue=H.next()}catch(oe){return k.error(oe),k}if(ue.done){k.complete();break}if(k.next(ue.value),k.closed)break}return"function"==typeof H.return&&k.add(()=>{H.return&&H.return()}),k})(j);{const H=`You provided ${(0,M.K)(j)?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(H)}}},5015:(Ve,me,P)=>{"use strict";P.d(me,{V:()=>g});const g=te=>pe=>{for(let ie=0,ae=te.length;ie<ae&&!pe.closed;ie++)pe.next(te[ie]);pe.complete()}},3997:(Ve,me,P)=>{"use strict";var g=P(3018);let te=null;function pe(){return te}const fe=new g.OlP("DocumentToken");let ce=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=(0,g.Yz7)({factory:$,token:t,providedIn:"platform"}),t})();function $(){return(0,g.LFG)(L)}const M=new g.OlP("Location Initialized");let L=(()=>{class t extends ce{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pe().getBaseHref(this._doc)}onPopState(i){const a=pe().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",i,!1),()=>a.removeEventListener("popstate",i)}onHashChange(i){const a=pe().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",i,!1),()=>a.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,a,c){j()?this._history.pushState(i,a,c):this.location.hash=c}replaceState(i,a,c){j()?this._history.replaceState(i,a,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(fe))},t.\u0275prov=(0,g.Yz7)({factory:k,token:t,providedIn:"platform"}),t})();function j(){return!!window.history.pushState}function k(){return new L((0,g.LFG)(fe))}function H(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}function ue(t){const e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}function oe(t){return t&&"?"!==t[0]?"?"+t:t}let se=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=(0,g.Yz7)({factory:He,token:t,providedIn:"root"}),t})();function He(t){const e=(0,g.LFG)(fe).location;return new De((0,g.LFG)(ce),e&&e.origin||"")}const Ie=new g.OlP("appBaseHref");let De=(()=>{class t extends se{constructor(i,a){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return H(this._baseHref,i)}path(i=!1){const a=this._platformLocation.pathname+oe(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${a}${c}`:a}pushState(i,a,c,f){const p=this.prepareExternalUrl(c+oe(f));this._platformLocation.pushState(i,a,p)}replaceState(i,a,c,f){const p=this.prepareExternalUrl(c+oe(f));this._platformLocation.replaceState(i,a,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,i)}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(ce),g.LFG(Ie,8))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})(),Ze=(()=>{class t extends se{constructor(i,a){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(i){const a=H(this._baseHref,i);return a.length>0?"#"+a:a}pushState(i,a,c,f){let p=this.prepareExternalUrl(c+oe(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(i,a,p)}replaceState(i,a,c,f){let p=this.prepareExternalUrl(c+oe(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(i,a,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,i)}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(ce),g.LFG(Ie,8))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})(),Ne=(()=>{class t{constructor(i,a){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=ue(Ft(c)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,a=""){return this.path()==this.normalize(i+oe(a))}normalize(i){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ft(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,a="",c=null){this._platformStrategy.pushState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+oe(a)),c)}replaceState(i,a="",c=null){this._platformStrategy.replaceState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+oe(a)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformStrategy).historyGo)||void 0===c||c.call(a,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(i="",a){this._urlChangeListeners.forEach(c=>c(i,a))}subscribe(i,a,c){return this._subject.subscribe({next:i,error:a,complete:c})}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(se),g.LFG(ce))},t.normalizeQueryParams=oe,t.joinWithSlash=H,t.stripTrailingSlash=ue,t.\u0275prov=(0,g.Yz7)({factory:Ae,token:t,providedIn:"root"}),t})();function Ae(){return new Ne((0,g.LFG)(se),(0,g.LFG)(ce))}function Ft(t){return t.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Percent=1]="Percent",W[W.Currency=2]="Currency",W[W.Scientific=3]="Scientific",W))(),J=(()=>((J=J||{})[J.Zero=0]="Zero",J[J.One=1]="One",J[J.Two=2]="Two",J[J.Few=3]="Few",J[J.Many=4]="Many",J[J.Other=5]="Other",J))(),z=(()=>((z=z||{})[z.Format=0]="Format",z[z.Standalone=1]="Standalone",z))(),K=(()=>((K=K||{})[K.Narrow=0]="Narrow",K[K.Abbreviated=1]="Abbreviated",K[K.Wide=2]="Wide",K[K.Short=3]="Short",K))(),ve=(()=>((ve=ve||{})[ve.Short=0]="Short",ve[ve.Medium=1]="Medium",ve[ve.Long=2]="Long",ve[ve.Full=3]="Full",ve))(),Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Group=1]="Group",Q[Q.List=2]="List",Q[Q.PercentSign=3]="PercentSign",Q[Q.PlusSign=4]="PlusSign",Q[Q.MinusSign=5]="MinusSign",Q[Q.Exponential=6]="Exponential",Q[Q.SuperscriptingExponent=7]="SuperscriptingExponent",Q[Q.PerMille=8]="PerMille",Q[Q.Infinity=9]="Infinity",Q[Q.NaN=10]="NaN",Q[Q.TimeSeparator=11]="TimeSeparator",Q[Q.CurrencyDecimal=12]="CurrencyDecimal",Q[Q.CurrencyGroup=13]="CurrencyGroup",Q))();function kt(t,e){return Lt((0,g.cg1)(t)[g.wAp.DateFormat],e)}function It(t,e){return Lt((0,g.cg1)(t)[g.wAp.TimeFormat],e)}function dt(t,e){return Lt((0,g.cg1)(t)[g.wAp.DateTimeFormat],e)}function fr(t,e){const i=(0,g.cg1)(t),a=i[g.wAp.NumberSymbols][e];if(void 0===a){if(e===Q.CurrencyDecimal)return i[g.wAp.NumberSymbols][Q.Decimal];if(e===Q.CurrencyGroup)return i[g.wAp.NumberSymbols][Q.Group]}return a}const ut=g.kL8;function _t(t){if(!t[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Lt(t,e){for(let i=e;i>-1;i--)if(void 0!==t[i])return t[i];throw new Error("Locale data API: locale data undefined")}function wn(t){const[e,i]=t.split(":");return{hours:+e,minutes:+i}}const yf=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Da={},ro=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=(()=>((an=an||{})[an.Short=0]="Short",an[an.ShortGMT=1]="ShortGMT",an[an.Long=2]="Long",an[an.Extended=3]="Extended",an))(),We=(()=>((We=We||{})[We.FullYear=0]="FullYear",We[We.Month=1]="Month",We[We.Date=2]="Date",We[We.Hours=3]="Hours",We[We.Minutes=4]="Minutes",We[We.Seconds=5]="Seconds",We[We.FractionalSeconds=6]="FractionalSeconds",We[We.Day=7]="Day",We))(),qe=(()=>((qe=qe||{})[qe.DayPeriods=0]="DayPeriods",qe[qe.Days=1]="Days",qe[qe.Months=2]="Months",qe[qe.Eras=3]="Eras",qe))();function dr(t,e,i,a){let c=function(t){if(fp(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[c,f=1,p=1]=t.split("-").map(y=>+y);return rc(c,f-1,p)}const i=parseFloat(t);if(!isNaN(t-i))return new Date(i);let a;if(a=t.match(yf))return function(t){const e=new Date(0);let i=0,a=0;const c=t[8]?e.setUTCFullYear:e.setFullYear,f=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=Number(t[9]+t[10]),a=Number(t[9]+t[11])),c.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const p=Number(t[4]||0)-i,y=Number(t[5]||0)-a,_=Number(t[6]||0),E=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return f.call(e,p,y,_,E),e}(a)}const e=new Date(t);if(!fp(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Ni(i,e)||e;let y,p=[];for(;e;){if(y=ro.exec(e),!y){p.push(e);break}{p=p.concat(y.slice(1));const C=p.pop();if(!C)break;e=C}}let _=c.getTimezoneOffset();a&&(_=Ln(a,_),c=function(t,e,i){const c=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Ln(e,c)-c))}(c,a));let E="";return p.forEach(C=>{const T=function(t){if(zn[t])return zn[t];let e;switch(t){case"G":case"GG":case"GGG":e=x(qe.Eras,K.Abbreviated);break;case"GGGG":e=x(qe.Eras,K.Wide);break;case"GGGGG":e=x(qe.Eras,K.Narrow);break;case"y":e=Qt(We.FullYear,1,0,!1,!0);break;case"yy":e=Qt(We.FullYear,2,0,!0,!0);break;case"yyy":e=Qt(We.FullYear,3,0,!1,!0);break;case"yyyy":e=Qt(We.FullYear,4,0,!1,!0);break;case"Y":e=wt(1);break;case"YY":e=wt(2,!0);break;case"YYY":e=wt(3);break;case"YYYY":e=wt(4);break;case"M":case"L":e=Qt(We.Month,1,1);break;case"MM":case"LL":e=Qt(We.Month,2,1);break;case"MMM":e=x(qe.Months,K.Abbreviated);break;case"MMMM":e=x(qe.Months,K.Wide);break;case"MMMMM":e=x(qe.Months,K.Narrow);break;case"LLL":e=x(qe.Months,K.Abbreviated,z.Standalone);break;case"LLLL":e=x(qe.Months,K.Wide,z.Standalone);break;case"LLLLL":e=x(qe.Months,K.Narrow,z.Standalone);break;case"w":e=Et(1);break;case"ww":e=Et(2);break;case"W":e=Et(1,!0);break;case"d":e=Qt(We.Date,1);break;case"dd":e=Qt(We.Date,2);break;case"c":case"cc":e=Qt(We.Day,1);break;case"ccc":e=x(qe.Days,K.Abbreviated,z.Standalone);break;case"cccc":e=x(qe.Days,K.Wide,z.Standalone);break;case"ccccc":e=x(qe.Days,K.Narrow,z.Standalone);break;case"cccccc":e=x(qe.Days,K.Short,z.Standalone);break;case"E":case"EE":case"EEE":e=x(qe.Days,K.Abbreviated);break;case"EEEE":e=x(qe.Days,K.Wide);break;case"EEEEE":e=x(qe.Days,K.Narrow);break;case"EEEEEE":e=x(qe.Days,K.Short);break;case"a":case"aa":case"aaa":e=x(qe.DayPeriods,K.Abbreviated);break;case"aaaa":e=x(qe.DayPeriods,K.Wide);break;case"aaaaa":e=x(qe.DayPeriods,K.Narrow);break;case"b":case"bb":case"bbb":e=x(qe.DayPeriods,K.Abbreviated,z.Standalone,!0);break;case"bbbb":e=x(qe.DayPeriods,K.Wide,z.Standalone,!0);break;case"bbbbb":e=x(qe.DayPeriods,K.Narrow,z.Standalone,!0);break;case"B":case"BB":case"BBB":e=x(qe.DayPeriods,K.Abbreviated,z.Format,!0);break;case"BBBB":e=x(qe.DayPeriods,K.Wide,z.Format,!0);break;case"BBBBB":e=x(qe.DayPeriods,K.Narrow,z.Format,!0);break;case"h":e=Qt(We.Hours,1,-12);break;case"hh":e=Qt(We.Hours,2,-12);break;case"H":e=Qt(We.Hours,1);break;case"HH":e=Qt(We.Hours,2);break;case"m":e=Qt(We.Minutes,1);break;case"mm":e=Qt(We.Minutes,2);break;case"s":e=Qt(We.Seconds,1);break;case"ss":e=Qt(We.Seconds,2);break;case"S":e=Qt(We.FractionalSeconds,1);break;case"SS":e=Qt(We.FractionalSeconds,2);break;case"SSS":e=Qt(We.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ne(an.Short);break;case"ZZZZZ":e=ne(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ne(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ne(an.Long);break;default:return null}return zn[t]=e,e}(C);E+=T?T(c,i,_):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function rc(t,e,i){const a=new Date(0);return a.setFullYear(t,e,i),a.setHours(0,0,0),a}function Ni(t,e){const i=function(t){return(0,g.cg1)(t)[g.wAp.LocaleId]}(t);if(Da[i]=Da[i]||{},Da[i][e])return Da[i][e];let a="";switch(e){case"shortDate":a=kt(t,ve.Short);break;case"mediumDate":a=kt(t,ve.Medium);break;case"longDate":a=kt(t,ve.Long);break;case"fullDate":a=kt(t,ve.Full);break;case"shortTime":a=It(t,ve.Short);break;case"mediumTime":a=It(t,ve.Medium);break;case"longTime":a=It(t,ve.Long);break;case"fullTime":a=It(t,ve.Full);break;case"short":const c=Ni(t,"shortTime"),f=Ni(t,"shortDate");a=Kt(dt(t,ve.Short),[c,f]);break;case"medium":const p=Ni(t,"mediumTime"),y=Ni(t,"mediumDate");a=Kt(dt(t,ve.Medium),[p,y]);break;case"long":const _=Ni(t,"longTime"),E=Ni(t,"longDate");a=Kt(dt(t,ve.Long),[_,E]);break;case"full":const C=Ni(t,"fullTime"),T=Ni(t,"fullDate");a=Kt(dt(t,ve.Full),[C,T])}return a&&(Da[i][e]=a),a}function Kt(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(i,a){return null!=e&&a in e?e[a]:i})),t}function Hr(t,e,i="-",a,c){let f="";(t<0||c&&t<=0)&&(c?t=1-t:(t=-t,f=i));let p=String(t);for(;p.length<e;)p="0"+p;return a&&(p=p.substr(p.length-e)),f+p}function Qt(t,e,i=0,a=!1,c=!1){return function(f,p){let y=function(t,e){switch(t){case We.FullYear:return e.getFullYear();case We.Month:return e.getMonth();case We.Date:return e.getDate();case We.Hours:return e.getHours();case We.Minutes:return e.getMinutes();case We.Seconds:return e.getSeconds();case We.FractionalSeconds:return e.getMilliseconds();case We.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,f);if((i>0||y>-i)&&(y+=i),t===We.Hours)0===y&&-12===i&&(y=12);else if(t===We.FractionalSeconds)return function(t,e){return Hr(t,3).substr(0,e)}(y,e);const _=fr(p,Q.MinusSign);return Hr(y,e,_,a,c)}}function x(t,e,i=z.Format,a=!1){return function(c,f){return function(t,e,i,a,c,f){switch(i){case qe.Months:return function(t,e,i){const a=(0,g.cg1)(t),f=Lt([a[g.wAp.MonthsFormat],a[g.wAp.MonthsStandalone]],e);return Lt(f,i)}(e,c,a)[t.getMonth()];case qe.Days:return function(t,e,i){const a=(0,g.cg1)(t),f=Lt([a[g.wAp.DaysFormat],a[g.wAp.DaysStandalone]],e);return Lt(f,i)}(e,c,a)[t.getDay()];case qe.DayPeriods:const p=t.getHours(),y=t.getMinutes();if(f){const E=function(t){const e=(0,g.cg1)(t);return _t(e),(e[g.wAp.ExtraData][2]||[]).map(a=>"string"==typeof a?wn(a):[wn(a[0]),wn(a[1])])}(e),C=function(t,e,i){const a=(0,g.cg1)(t);_t(a);const f=Lt([a[g.wAp.ExtraData][0],a[g.wAp.ExtraData][1]],e)||[];return Lt(f,i)||[]}(e,c,a),T=E.findIndex(R=>{if(Array.isArray(R)){const[N,F]=R,B=p>=N.hours&&y>=N.minutes,re=p<F.hours||p===F.hours&&y<F.minutes;if(N.hours<F.hours){if(B&&re)return!0}else if(B||re)return!0}else if(R.hours===p&&R.minutes===y)return!0;return!1});if(-1!==T)return C[T]}return function(t,e,i){const a=(0,g.cg1)(t),f=Lt([a[g.wAp.DayPeriodsFormat],a[g.wAp.DayPeriodsStandalone]],e);return Lt(f,i)}(e,c,a)[p<12?0:1];case qe.Eras:return function(t,e){return Lt((0,g.cg1)(t)[g.wAp.Eras],e)}(e,a)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(c,f,t,e,i,a)}}function ne(t){return function(e,i,a){const c=-1*a,f=fr(i,Q.MinusSign),p=c>0?Math.floor(c/60):Math.ceil(c/60);switch(t){case an.Short:return(c>=0?"+":"")+Hr(p,2,f)+Hr(Math.abs(c%60),2,f);case an.ShortGMT:return"GMT"+(c>=0?"+":"")+Hr(p,1,f);case an.Long:return"GMT"+(c>=0?"+":"")+Hr(p,2,f)+":"+Hr(Math.abs(c%60),2,f);case an.Extended:return 0===a?"Z":(c>=0?"+":"")+Hr(p,2,f)+":"+Hr(Math.abs(c%60),2,f);default:throw new Error(`Unknown zone width "${t}"`)}}}function bt(t){return rc(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Et(t,e=!1){return function(i,a){let c;if(e){const f=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,p=i.getDate();c=1+Math.floor((p+f)/7)}else{const f=bt(i),p=function(t){const e=rc(t,0,1).getDay();return rc(t,0,1+(e<=4?4:11)-e)}(f.getFullYear()),y=f.getTime()-p.getTime();c=1+Math.round(y/6048e5)}return Hr(c,t,fr(a,Q.MinusSign))}}function wt(t,e=!1){return function(i,a){return Hr(bt(i).getFullYear(),t,fr(a,Q.MinusSign),e)}}const zn={};function Ln(t,e){t=t.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function fp(t){return t instanceof Date&&!isNaN(t.valueOf())}const $v=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function pn(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class Pi{}let sc=(()=>{class t extends Pi{constructor(i){super(),this.locale=i}getPluralCategory(i,a){switch(ut(a||this.locale)(i)){case J.Zero:return"zero";case J.One:return"one";case J.Two:return"two";case J.Few:return"few";case J.Many:return"many";default:return"other"}}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(g.soG))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})(),Sa=(()=>{class t{constructor(i,a,c,f){this._iterableDiffers=i,this._keyValueDiffers=a,this._ngEl=c,this._renderer=f,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(a=>this._toggleClass(a.key,a.currentValue)),i.forEachChangedItem(a=>this._toggleClass(a.key,a.currentValue)),i.forEachRemovedItem(a=>{a.previousValue&&this._toggleClass(a.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(a=>{if("string"!=typeof a.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(a.item)}`);this._toggleClass(a.item,!0)}),i.forEachRemovedItem(a=>this._toggleClass(a.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(a=>this._toggleClass(a,!0)):Object.keys(i).forEach(a=>this._toggleClass(a,!!i[a])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(a=>this._toggleClass(a,!1)):Object.keys(i).forEach(a=>this._toggleClass(a,!1)))}_toggleClass(i,a){(i=i.trim())&&i.split(/\s+/g).forEach(c=>{a?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class dp{constructor(e,i,a,c){this.$implicit=e,this.ngForOf=i,this.index=a,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ko=(()=>{class t{constructor(i,a,c){this._viewContainer=i,this._template=a,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(t){return t.name||typeof t}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const a=[];i.forEachOperation((c,f,p)=>{if(null==c.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new dp(null,this._ngForOf,-1,-1),null===p?void 0:p),_=new rr(c,y);a.push(_)}else if(null==p)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const y=this._viewContainer.get(f);this._viewContainer.move(y,p);const _=new rr(c,y);a.push(_)}});for(let c=0;c<a.length;c++)this._perViewChange(a[c].view,a[c].record);for(let c=0,f=this._viewContainer.length;c<f;c++){const p=this._viewContainer.get(c);p.context.index=c,p.context.count=f,p.context.ngForOf=this._ngForOf}i.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(i,a){i.context.$implicit=a.item}static ngTemplateContextGuard(i,a){return!0}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class rr{constructor(e,i){this.record=e,this.view=i}}let Gr=(()=>{class t{constructor(i,a){this._viewContainer=i,this._context=new li,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Pt("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Pt("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,a){return!0}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(g.s_b),g.Y36(g.Rgc))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class li{constructor(){this.$implicit=null,this.ngIf=null}}function Pt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,g.AaK)(e)}'.`)}class hp{constructor(e,i){this._viewContainerRef=e,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let _f=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(i)}_matchCase(i){const a=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||a,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),a}_updateDefaultCases(i){if(this._defaultViews&&i!==this._defaultUsed){this._defaultUsed=i;for(let a=0;a<this._defaultViews.length;a++)this._defaultViews[a].enforceState(i)}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=g.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),cc=(()=>{class t{constructor(i,a,c){this.ngSwitch=c,c._addCase(),this._view=new hp(i,a)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(_f,9))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),bf=(()=>{class t{constructor(i,a,c){c._addDefault(new hp(i,a))}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(_f,9))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();function cn(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,g.AaK)(t)}'`)}class pp{createSubscription(e,i){return e.subscribe({next:i,error:a=>{throw a}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ef{createSubscription(e,i){return e.then(i,a=>{throw a})}dispose(e){}onDestroy(e){}}const Cf=new Ef,fi=new pp;let Df=(()=>{class t{constructor(i){this._ref=i,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,a=>this._updateLatestValue(i,a))}_selectStrategy(i){if((0,g.QGY)(i))return Cf;if((0,g.F4k)(i))return fi;throw cn(t,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,a){i===this._obj&&(this._latestValue=a,this._ref.markForCheck())}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(g.sBO,16))},t.\u0275pipe=g.Yjl({name:"async",type:t,pure:!1}),t})(),uC=(()=>{class t{constructor(i){this.locale=i}transform(i,a="mediumDate",c,f){if(null==i||""===i||i!=i)return null;try{return dr(i,a,f||this.locale,c)}catch(p){throw cn(t,p.message)}}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(g.soG,16))},t.\u0275pipe=g.Yjl({name:"date",type:t,pure:!0}),t})(),lC=(()=>{class t{constructor(i){this._locale=i}transform(i,a,c){if(!function(t){return!(null==t||""===t||t!=t)}(i))return null;c=c||this._locale;try{return function(t,e,i){return function(t,e,i,a,c,f,p=!1){let y="",_=!1;if(isFinite(t)){let E=function(t){let a,c,f,p,y,e=Math.abs(t)+"",i=0;for((c=e.indexOf("."))>-1&&(e=e.replace(".","")),(f=e.search(/e/i))>0?(c<0&&(c=f),c+=+e.slice(f+1),e=e.substring(0,f)):c<0&&(c=e.length),f=0;"0"===e.charAt(f);f++);if(f===(y=e.length))a=[0],c=1;else{for(y--;"0"===e.charAt(y);)y--;for(c-=f,a=[],p=0;f<=y;f++,p++)a[p]=Number(e.charAt(f))}return c>22&&(a=a.splice(0,21),i=c-1,c=1),{digits:a,exponent:i,integerLen:c}}(t);p&&(E=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(E));let C=e.minInt,T=e.minFrac,R=e.maxFrac;if(f){const we=f.match($v);if(null===we)throw new Error(`${f} is not a valid digit info`);const Ee=we[1],ke=we[3],xe=we[5];null!=Ee&&(C=pn(Ee)),null!=ke&&(T=pn(ke)),null!=xe?R=pn(xe):null!=ke&&T>R&&(R=T)}!function(t,e,i){if(e>i)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${i}).`);let a=t.digits,c=a.length-t.integerLen;const f=Math.min(Math.max(e,c),i);let p=f+t.integerLen,y=a[p];if(p>0){a.splice(Math.max(t.integerLen,p));for(let T=p;T<a.length;T++)a[T]=0}else{c=Math.max(0,c),t.integerLen=1,a.length=Math.max(1,p=f+1),a[0]=0;for(let T=1;T<p;T++)a[T]=0}if(y>=5)if(p-1<0){for(let T=0;T>p;T--)a.unshift(0),t.integerLen++;a.unshift(1),t.integerLen++}else a[p-1]++;for(;c<Math.max(0,f);c++)a.push(0);let _=0!==f;const E=e+t.integerLen,C=a.reduceRight(function(T,R,N,F){return F[N]=(R+=T)<10?R:R-10,_&&(0===F[N]&&N>=E?F.pop():_=!1),R>=10?1:0},0);C&&(a.unshift(C),t.integerLen++)}(E,T,R);let N=E.digits,F=E.integerLen;const B=E.exponent;let re=[];for(_=N.every(we=>!we);F<C;F++)N.unshift(0);for(;F<0;F++)N.unshift(0);F>0?re=N.splice(F,N.length):(re=N,N=[0]);const de=[];for(N.length>=e.lgSize&&de.unshift(N.splice(-e.lgSize,N.length).join(""));N.length>e.gSize;)de.unshift(N.splice(-e.gSize,N.length).join(""));N.length&&de.unshift(N.join("")),y=de.join(fr(i,a)),re.length&&(y+=fr(i,c)+re.join("")),B&&(y+=fr(i,Q.Exponential)+"+"+B)}else y=fr(i,Q.Infinity);return y=t<0&&!_?e.negPre+y+e.negSuf:e.posPre+y+e.posSuf,y}(t,function(t,e="-"){const i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},a=t.split(";"),c=a[0],f=a[1],p=-1!==c.indexOf(".")?c.split("."):[c.substring(0,c.lastIndexOf("0")+1),c.substring(c.lastIndexOf("0")+1)],y=p[0],_=p[1]||"";i.posPre=y.substr(0,y.indexOf("#"));for(let C=0;C<_.length;C++){const T=_.charAt(C);"0"===T?i.minFrac=i.maxFrac=C+1:"#"===T?i.maxFrac=C+1:i.posSuf+=T}const E=y.split(",");if(i.gSize=E[1]?E[1].length:0,i.lgSize=E[2]||E[1]?(E[2]||E[1]).length:0,f){const C=c.length-i.posPre.length-i.posSuf.length,T=f.indexOf("#");i.negPre=f.substr(0,T).replace(/'/g,""),i.negSuf=f.substr(T+C).replace(/'/g,"")}else i.negPre=e+i.posPre,i.negSuf=i.posSuf;return i}(function(t,e){return(0,g.cg1)(t)[g.wAp.NumberFormats][e]}(e,W.Decimal),fr(e,Q.MinusSign)),e,Q.Group,Q.Decimal,i)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(i),c,a)}catch(f){throw cn(t,f.message)}}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(g.soG,16))},t.\u0275pipe=g.Yjl({name:"number",type:t,pure:!0}),t})();let hA=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[{provide:Pi,useClass:sc}]}),t})();let mp=(()=>{class t{}return t.\u0275prov=(0,g.Yz7)({token:t,providedIn:"root",factory:()=>new hC((0,g.LFG)(fe),window)}),t})();class hC{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const i=function(t,e){const i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const a=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let c=a.currentNode;for(;c;){const f=c.shadowRoot;if(f){const p=f.getElementById(e)||f.querySelector(`[name="${e}"]`);if(p)return p}c=a.nextNode()}}return null}(this.document,e);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=e)}}scrollToElement(e){const i=e.getBoundingClientRect(),a=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(a-f[0],c-f[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Tf(this.window.history)||Tf(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Tf(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class fc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new fc,te||(te=t)}onAndCancel(e,i,a){return e.addEventListener(i,a,!1),()=>{e.removeEventListener(i,a,!1)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return(i=i||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return"window"===i?window:"document"===i?e:"body"===i?e.body:null}getBaseHref(e){const i=(dc=dc||document.querySelector("base"),dc?dc.getAttribute("href"):null);return null==i?null:function(t){vp=vp||document.createElement("a"),vp.setAttribute("href",t);const e=vp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(i)}resetBaseElement(){dc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const a=i.indexOf("="),[c,f]=-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)];if(c.trim()===e)return decodeURIComponent(f)}return null}(document.cookie,e)}}let vp,dc=null;const gC=new g.OlP("TRANSITION_ID"),mC=[{provide:g.ip1,useFactory:function(t,e,i){return()=>{i.get(g.CZH).donePromise.then(()=>{const a=pe(),c=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let f=0;f<c.length;f++)a.remove(c[f])})}},deps:[gC,fe,g.zs3],multi:!0}];class Xt{static init(){(0,g.VLi)(new Xt)}addToWindow(e){g.dqk.getAngularTestability=(a,c=!0)=>{const f=e.findTestabilityInTree(a,c);if(null==f)throw new Error("Could not find testability for element.");return f},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(a=>{const c=g.dqk.getAllAngularTestabilities();let f=c.length,p=!1;const y=function(_){p=p||_,f--,0==f&&a(p)};c.forEach(function(_){_.whenStable(y)})})}findTestabilityInTree(e,i,a){if(null==i)return null;const c=e.getTestability(i);return null!=c?c:a?pe().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null}}let yC=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})();const pc=new g.OlP("EventManagerPlugins");let Sf=(()=>{class t{constructor(i,a){this._zone=a,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,a,c){return this._findPluginFor(a).addEventListener(i,a,c)}addGlobalEventListener(i,a,c){return this._findPluginFor(a).addGlobalEventListener(i,a,c)}getZone(){return this._zone}_findPluginFor(i){const a=this._eventNameToPlugin.get(i);if(a)return a;const c=this._plugins;for(let f=0;f<c.length;f++){const p=c[f];if(p.supports(i))return this._eventNameToPlugin.set(i,p),p}throw new Error(`No event manager plugin found for event ${i}`)}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(pc),g.LFG(g.R0b))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})();class wp{constructor(e){this._doc=e}addGlobalEventListener(e,i,a){const c=pe().getGlobalEventTarget(this._doc,e);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,a)}}let Ep=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(i){const a=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),a.add(c))}),this.onStylesAdded(a)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})(),gc=(()=>{class t extends Ep{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,a,c){i.forEach(f=>{const p=this._doc.createElement("style");p.textContent=f,c.push(a.appendChild(p))})}addHost(i){const a=[];this._addStylesToHost(this._stylesSet,i,a),this._hostNodes.set(i,a)}removeHost(i){const a=this._hostNodes.get(i);a&&a.forEach(s_),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((a,c)=>{this._addStylesToHost(i,c,a)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(s_))}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(fe))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})();function s_(t){pe().remove(t)}const he={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ht=/%COMP%/g;function xa(t,e,i){for(let a=0;a<e.length;a++){let c=e[a];Array.isArray(c)?xa(t,c,i):(c=c.replace(ht,t),i.push(c))}return i}function vC(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ma=(()=>{class t{constructor(i,a,c){this.eventManager=i,this.sharedStylesHost=a,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new Na(i)}createRenderer(i,a){if(!i||!a)return this.defaultRenderer;switch(a.encapsulation){case g.ifc.Emulated:{let c=this.rendererByCompId.get(a.id);return c||(c=new Pa(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,c)),c.applyToHost(i),c}case 1:case g.ifc.ShadowDom:return new so(this.eventManager,this.sharedStylesHost,i,a);default:if(!this.rendererByCompId.has(a.id)){const c=xa(a.id,a.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(Sf),g.LFG(gc),g.LFG(g.AFp))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})();class Na{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,i){return i?document.createElementNS(he[i]||i,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,i){e.appendChild(i)}insertBefore(e,i,a){e&&e.insertBefore(i,a)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let a="string"==typeof e?document.querySelector(e):e;if(!a)throw new Error(`The selector "${e}" did not match any elements`);return i||(a.textContent=""),a}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,a,c){if(c){i=c+":"+i;const f=he[c];f?e.setAttributeNS(f,i,a):e.setAttribute(i,a)}else e.setAttribute(i,a)}removeAttribute(e,i,a){if(a){const c=he[a];c?e.removeAttributeNS(c,i):e.removeAttribute(`${a}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,a,c){c&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(i,a,c&g.JOm.Important?"important":""):e.style[i]=a}removeStyle(e,i,a){a&g.JOm.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,a){e[i]=a}setValue(e,i){e.nodeValue=i}listen(e,i,a){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,i,vC(a)):this.eventManager.addEventListener(e,i,vC(a))}}class Pa extends Na{constructor(e,i,a,c){super(e),this.component=a;const f=xa(c+"-"+a.id,a.styles,[]);i.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(ht,c+"-"+a.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ht,t)}(c+"-"+a.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,i){const a=super.createElement(e,i);return super.setAttribute(a,this.contentAttr,""),a}}class so extends Na{constructor(e,i,a,c){super(e),this.sharedStylesHost=i,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=xa(c.id,c.styles,[]);for(let p=0;p<f.length;p++){const y=document.createElement("style");y.textContent=f[p],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,a){return super.insertBefore(this.nodeOrShadowRoot(e),i,a)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let _C=(()=>{class t extends wp{constructor(i){super(i)}supports(i){return!0}addEventListener(i,a,c){return i.addEventListener(a,c,!1),()=>this.removeEventListener(i,a,c)}removeEventListener(i,a,c){return i.removeEventListener(a,c)}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(fe))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})();const yc=["alt","control","meta","shift"],h_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ir={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Lo=(()=>{class t extends wp{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,a,c){const f=t.parseEventName(a),p=t.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pe().onAndCancel(i,f.domEventName,p))}static parseEventName(i){const a=i.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const f=t._normalizeKey(a.pop());let p="";if(yc.forEach(_=>{const E=a.indexOf(_);E>-1&&(a.splice(E,1),p+=_+".")}),p+=f,0!=a.length||0===f.length)return null;const y={};return y.domEventName=c,y.fullKey=p,y}static getEventFullKey(i){let a="",c=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Rp.hasOwnProperty(e)&&(e=Rp[e]))}return h_[e]||e}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),yc.forEach(f=>{f!=c&&ir[f](i)&&(a+=f+".")}),a+=c,a}static eventCallback(i,a,c){return f=>{t.getEventFullKey(f)===i&&c.runGuarded(()=>a(f))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(fe))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})();const SC=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){fc.makeCurrent(),Xt.init()},multi:!0},{provide:fe,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),Uo=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:pc,useClass:_C,multi:!0,deps:[fe,g.R0b,g.Lbi]},{provide:pc,useClass:Lo,multi:!0,deps:[fe]},[],{provide:Ma,useClass:Ma,deps:[Sf,gc,g.AFp]},{provide:g.FYo,useExisting:Ma},{provide:Ep,useExisting:gc},{provide:gc,useClass:gc,deps:[fe]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Sf,useClass:Sf,deps:[pc,g.R0b]},{provide:class{},useClass:yC,deps:[]},[]];let vc=(()=>{class t{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:t,providers:[{provide:g.AFp,useValue:i.appId},{provide:gC,useExisting:g.AFp},mC]}}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(t,12))},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:Uo,imports:[hA,g.hGG]}),t})();"undefined"!=typeof window&&window;var Bt=P(4402),$e=P(5917),jo=P(9765),ka=P(7971);class xr extends jo.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const i=super._subscribe(e);return i&&!i.closed&&e.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ka.N;return this._value}next(e){super.next(this._value=e)}}var Mf=P(4869),Nf=P(9796),or=P(7393);class PC extends or.L{notifyNext(e,i,a,c,f){this.destination.next(i)}notifyError(e,i){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class b_ extends or.L{constructor(e,i,a){super(),this.parent=e,this.outerValue=i,this.outerIndex=a,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var w_=P(7444),pi=P(7574);function E_(t,e,i,a,c=new b_(t,i,a)){if(!c.closed)return e instanceof pi.y?e.subscribe(c):(0,w_.s)(e)(c)}var OC=P(6693);const C_={};class wc{constructor(e){this.resultSelector=e}call(e,i){return i.subscribe(new kC(e,this.resultSelector))}}class kC extends PC{constructor(e,i){super(e),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(C_),this.observables.push(e)}_complete(){const e=this.observables,i=e.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let a=0;a<i;a++)this.add(E_(this,e[a],void 0,a))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,i,a){const c=this.values,p=this.toRespond?c[a]===C_?--this.toRespond:this.toRespond:0;c[a]=i,0===p&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(e){let i;try{i=this.resultSelector.apply(this,e)}catch(a){return void this.destination.error(a)}this.destination.next(i)}}const Ec=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var ao=P(3282);function Cc(...t){return(0,ao.J)(1)((0,$e.of)(...t))}var Fi=P(9193);function Es(t){return new pi.y(e=>{let i;try{i=t()}catch(c){return void e.error(c)}return(i?(0,Bt.D)(i):(0,Fi.c)()).subscribe(e)})}var Fa=P(2441),it=P(8002),Li=P(5345);function mn(t,e){return"function"==typeof e?i=>i.pipe(mn((a,c)=>(0,Bt.D)(t(a,c)).pipe((0,it.U)((f,p)=>e(a,f,c,p))))):i=>i.lift(new Cs(t))}class Cs{constructor(e){this.project=e}call(e,i){return i.subscribe(new SA(e,this.project))}}class SA extends Li.Ds{constructor(e,i){super(e),this.project=i,this.index=0}_next(e){let i;const a=this.index++;try{i=this.project(e,a)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(e){const i=this.innerSubscription;i&&i.unsubscribe();const a=new Li.IY(this),c=this.destination;c.add(a),this.innerSubscription=(0,Li.ft)(e,a),this.innerSubscription!==a&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const D_=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function T_(t){return e=>0===t?(0,Fi.c)():e.lift(new UC(t))}class UC{constructor(e){if(this.total=e,this.total<0)throw new D_}call(e,i){return i.subscribe(new tn(e,this.total))}}class tn extends or.L{constructor(e,i){super(e),this.total=i,this.count=0}_next(e){const i=this.total,a=++this.count;a<=i&&(this.destination.next(e),a===i&&(this.destination.complete(),this.unsubscribe()))}}function Of(...t){const e=t[t.length-1];return(0,Mf.K)(e)?(t.pop(),i=>Cc(t,i,e)):i=>Cc(t,i)}function La(t,e){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new AA(t,e,i))}}class AA{constructor(e,i,a=!1){this.accumulator=e,this.seed=i,this.hasSeed=a}call(e,i){return i.subscribe(new RA(e,this.accumulator,this.seed,this.hasSeed))}}class RA extends or.L{constructor(e,i,a,c){super(e),this.accumulator=i,this._seed=a,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const i=this.index++;let a;try{a=this.accumulator(this.seed,e,i)}catch(c){this.destination.error(c)}this.seed=a,this.destination.next(a)}}function Bo(t,e){return function(a){return a.lift(new xA(t,e))}}class xA{constructor(e,i){this.predicate=e,this.thisArg=i}call(e,i){return i.subscribe(new MA(e,this.predicate,this.thisArg))}}class MA extends or.L{constructor(e,i,a){super(e),this.predicate=i,this.thisArg=a,this.count=0}_next(e){let i;try{i=this.predicate.call(this.thisArg,e,this.count++)}catch(a){return void this.destination.error(a)}i&&this.destination.next(e)}}function Ua(t){return function(i){const a=new NA(t),c=i.lift(a);return a.caught=c}}class NA{constructor(e){this.selector=e}call(e,i){return i.subscribe(new PA(e,this.selector,this.caught))}}class PA extends Li.Ds{constructor(e,i,a){super(e),this.selector=i,this.caught=a}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const a=new Li.IY(this);this.add(a);const c=(0,Li.ft)(i,a);c!==a&&this.add(c)}}}var gr=P(9773);function uo(t,e){return(0,gr.zg)(t,e,1)}function I_(t){return function(i){return 0===t?(0,Fi.c)():i.lift(new En(t))}}class En{constructor(e){if(this.total=e,this.total<0)throw new D_}call(e,i){return i.subscribe(new kf(e,this.total))}}class kf extends or.L{constructor(e,i){super(e),this.total=i,this.ring=new Array,this.count=0}_next(e){const i=this.ring,a=this.total,c=this.count++;i.length<a?i.push(e):i[c%a]=e}_complete(){const e=this.destination;let i=this.count;if(i>0){const a=this.count>=this.total?this.total:this.count,c=this.ring;for(let f=0;f<a;f++){const p=i++%a;e.next(c[p])}}e.complete()}}function Dc(t=$r){return e=>e.lift(new OA(t))}class OA{constructor(e){this.errorFactory=e}call(e,i){return i.subscribe(new VC(e,this.errorFactory))}}class VC extends or.L{constructor(e,i){super(e),this.errorFactory=i,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(i){e=i}this.destination.error(e)}}}function $r(){return new Ec}function gi(t=null){return e=>e.lift(new Ff(t))}class Ff{constructor(e){this.defaultValue=e}call(e,i){return i.subscribe(new Ds(e,this.defaultValue))}}class Ds extends or.L{constructor(e,i){super(e),this.defaultValue=i,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var co=P(4487);function Ts(t,e){const i=arguments.length>=2;return a=>a.pipe(t?Bo((c,f)=>t(c,f,a)):co.y,T_(1),i?gi(e):Dc(()=>new Ec))}var mr=P(3342),kA=P(1307),jC=P(5319);function Lp(t){return e=>e.lift(new Mr(t))}class Mr{constructor(e){this.callback=e}call(e,i){return i.subscribe(new Up(e,this.callback))}}class Up extends or.L{constructor(e,i){super(e),this.add(new jC.w(i))}}class yr{constructor(e,i){this.id=e,this.url=i}}class A_ extends yr{constructor(e,i,a="imperative",c=null){super(e,i),this.navigationTrigger=a,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Va extends yr{constructor(e,i,a){super(e,i),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class R_ extends yr{constructor(e,i,a){super(e,i),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class BC extends yr{constructor(e,i,a){super(e,i),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HC extends yr{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qC extends yr{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GC extends yr{constructor(e,i,a,c,f){super(e,i),this.urlAfterRedirects=a,this.state=c,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tc extends yr{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vp extends yr{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ic{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $C{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jp{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZC{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x_{constructor(e,i,a){this.routerEvent=e,this.position=i,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ft="primary";class Bp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Ac(t){return new Bp(t)}const Lf="ngNavigationCancelingError";function Is(t){const e=Error("NavigationCancelingError: "+t);return e[Lf]=!0,e}function zC(t,e,i){const a=i.path.split("/");if(a.length>t.length||"full"===i.pathMatch&&(e.hasChildren()||a.length<t.length))return null;const c={};for(let f=0;f<a.length;f++){const p=a[f],y=t[f];if(p.startsWith(":"))c[p.substring(1)]=y;else if(p!==y.path)return null}return{consumed:t.slice(0,a.length),posParams:c}}function mi(t,e){const i=t?Object.keys(t):void 0,a=e?Object.keys(e):void 0;if(!i||!a||i.length!=a.length)return!1;let c;for(let f=0;f<i.length;f++)if(c=i[f],!WC(t[c],e[c]))return!1;return!0}function WC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const i=[...t].sort(),a=[...e].sort();return i.every((c,f)=>a[f]===c)}return t===e}function Ho(t){return Array.prototype.concat.apply([],t)}function Ha(t){return t.length>0?t[t.length-1]:null}function xn(t,e){for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)}function yi(t){return(0,g.CqO)(t)?t:(0,g.QGY)(t)?(0,Bt.D)(Promise.resolve(t)):(0,$e.of)(t)}const qa={exact:function M_(t,e,i){if(!As(t.segments,e.segments)||!Mc(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const a in e.children)if(!t.children[a]||!M_(t.children[a],e.children[a],i))return!1;return!0},subset:Uf},Ui={exact:function(t,e){return mi(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>WC(t[i],e[i]))},ignored:()=>!0};function Rc(t,e,i){return qa[i.paths](t.root,e.root,i.matrixParams)&&Ui[i.queryParams](t.queryParams,e.queryParams)&&!("exact"===i.fragment&&t.fragment!==e.fragment)}function Uf(t,e,i){return xc(t,e,e.segments,i)}function xc(t,e,i,a){if(t.segments.length>i.length){const c=t.segments.slice(0,i.length);return!(!As(c,i)||e.hasChildren()||!Mc(c,i,a))}if(t.segments.length===i.length){if(!As(t.segments,i)||!Mc(t.segments,i,a))return!1;for(const c in e.children)if(!t.children[c]||!Uf(t.children[c],e.children[c],a))return!1;return!0}{const c=i.slice(0,t.segments.length),f=i.slice(t.segments.length);return!!(As(t.segments,c)&&Mc(t.segments,c,a)&&t.children[ft])&&xc(t.children[ft],e,f,a)}}function Mc(t,e,i){return e.every((a,c)=>Ui[i](t[c].parameters,a.parameters))}class Ss{constructor(e,i,a){this.root=e,this.queryParams=i,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ac(this.queryParams)),this._queryParamMap}toString(){return VA.serialize(this)}}class pt{constructor(e,i){this.segments=e,this.children=i,this.parent=null,xn(i,(a,c)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jf(this)}}class Vi{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Ac(this.parameters)),this._parameterMap}toString(){return KC(this)}}function As(t,e){return t.length===e.length&&t.every((i,a)=>i.path===e[a].path)}class Vf{}class P_{parse(e){const i=new JC(e);return new Ss(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){var t;return`${`/${Pc(e.root,!0)}`}${function(t){const e=Object.keys(t).map(i=>{const a=t[i];return Array.isArray(a)?a.map(c=>`${Rs(i)}=${Rs(c)}`).join("&"):`${Rs(i)}=${Rs(a)}`}).filter(i=>!!i);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const VA=new P_;function jf(t){return t.segments.map(e=>KC(e)).join("/")}function Pc(t,e){if(!t.hasChildren())return jf(t);if(e){const i=t.children[ft]?Pc(t.children[ft],!1):"",a=[];return xn(t.children,(c,f)=>{f!==ft&&a.push(`${f}:${Pc(c,!1)}`)}),a.length>0?`${i}(${a.join("//")})`:i}{const i=function(t,e){let i=[];return xn(t.children,(a,c)=>{c===ft&&(i=i.concat(e(a,c)))}),xn(t.children,(a,c)=>{c!==ft&&(i=i.concat(e(a,c)))}),i}(t,(a,c)=>c===ft?[Pc(t.children[ft],!1)]:[`${c}:${Pc(a,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ft]?`${jf(t)}/${i[0]}`:`${jf(t)}/(${i.join("//")})`}}function O_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rs(t){return O_(t).replace(/%3B/gi,";")}function Go(t){return O_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bf(t){return decodeURIComponent(t)}function k_(t){return Bf(t.replace(/\+/g,"%20"))}function KC(t){return`${Go(t.path)}${function(t){return Object.keys(t).map(e=>`;${Go(e)}=${Go(t[e])}`).join("")}(t.parameters)}`}const F_=/^[^\/()?;=#]+/;function Oc(t){const e=t.match(F_);return e?e[0]:""}const L_=/^[^=?&#]+/,QC=/^[^?&#]+/;class JC{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(a[ft]=new pt(e,i)),a}parseSegment(){const e=Oc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Vi(Bf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const i=Oc(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){const c=Oc(this.remaining);c&&(a=c,this.capture(a))}e[Bf(i)]=Bf(a)}parseQueryParam(e){const i=function(t){const e=t.match(L_);return e?e[0]:""}(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){const p=function(t){const e=t.match(QC);return e?e[0]:""}(this.remaining);p&&(a=p,this.capture(a))}const c=k_(i),f=k_(a);if(e.hasOwnProperty(c)){let p=e[c];Array.isArray(p)||(p=[p],e[c]=p),p.push(f)}else e[c]=f}parseParens(e){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=Oc(this.remaining),c=this.remaining[a.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let f;a.indexOf(":")>-1?(f=a.substr(0,a.indexOf(":")),this.capture(f),this.capture(":")):e&&(f=ft);const p=this.parseChildren();i[f]=1===Object.keys(p).length?p[ft]:new pt([],p),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class U_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){const i=Gp(e,this._root);return i?i.children.map(a=>a.value):[]}firstChild(e){const i=Gp(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){const i=vi(e,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==e)}pathFromRoot(e){return vi(e,this._root).map(i=>i.value)}}function Gp(t,e){if(t===e.value)return e;for(const i of e.children){const a=Gp(t,i);if(a)return a}return null}function vi(t,e){if(t===e.value)return[e];for(const i of e.children){const a=vi(t,i);if(a.length)return a.unshift(e),a}return[]}class vr{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}}function Ga(t){const e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}class V_ extends U_{constructor(e,i){super(e),this.snapshot=i,$p(this,e)}toString(){return this.snapshot.toString()}}function j_(t,e){const i=function(t,e){const p=new qf([],{},{},"",{},ft,e,null,t.root,-1,{});return new q_("",new vr(p,[]))}(t,e),a=new xr([new Vi("",{})]),c=new xr({}),f=new xr({}),p=new xr({}),y=new xr(""),_=new $a(a,c,p,y,f,ft,e,i.root);return _.snapshot=i.root,new V_(new vr(_,[]),i)}class $a{constructor(e,i,a,c,f,p,y,_){this.url=e,this.params=i,this.queryParams=a,this.fragment=c,this.data=f,this.outlet=p,this.component=y,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>Ac(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>Ac(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function B_(t,e="emptyOnly"){const i=t.pathFromRoot;let a=0;if("always"!==e)for(a=i.length-1;a>=1;){const c=i[a],f=i[a-1];if(c.routeConfig&&""===c.routeConfig.path)a--;else{if(f.component)break;a--}}return function(t){return t.reduce((e,i)=>({params:Object.assign(Object.assign({},e.params),i.params),data:Object.assign(Object.assign({},e.data),i.data),resolve:Object.assign(Object.assign({},e.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(a))}class qf{constructor(e,i,a,c,f,p,y,_,E,C,T){this.url=e,this.params=i,this.queryParams=a,this.fragment=c,this.data=f,this.outlet=p,this.component=y,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=C,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ac(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ac(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class q_ extends U_{constructor(e,i){super(i),this.url=e,$p(this,i)}toString(){return G_(this._root)}}function $p(t,e){e.value._routerState=t,e.children.forEach(i=>$p(t,i))}function G_(t){const e=t.children.length>0?` { ${t.children.map(G_).join(", ")} } `:"";return`${t.value}${e}`}function $_(t){if(t.snapshot){const e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,mi(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),mi(e.params,i.params)||t.params.next(i.params),function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!mi(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),mi(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Zp(t,e){return mi(t.params,e.params)&&function(t,e){return As(t,e)&&t.every((i,a)=>mi(i.parameters,e[a].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Zp(t.parent,e.parent))}function Fc(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){const a=i.value;a._futureSnapshot=e.value;const c=function(t,e,i){return e.children.map(a=>{for(const c of i.children)if(t.shouldReuseRoute(a.value,c.value.snapshot))return Fc(t,a,c);return Fc(t,a)})}(t,e,i);return new vr(a,c)}{if(t.shouldAttach(e.value)){const f=t.retrieve(e.value);if(null!==f){const p=f.route;return _i(e,p),p}}const a=function(t){return new $a(new xr(t.url),new xr(t.params),new xr(t.queryParams),new xr(t.fragment),new xr(t.data),t.outlet,t.component,t)}(e.value),c=e.children.map(f=>Fc(t,f));return new vr(a,c)}}function _i(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)_i(t.children[i],e.children[i])}function Uc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gf(t){return"object"==typeof t&&null!=t&&t.outlets}function W_(t,e,i,a,c){let f={};return a&&xn(a,(p,y)=>{f[y]=Array.isArray(p)?p.map(_=>`${_}`):`${p}`}),new Ss(i.root===t?e:eD(i.root,t,e),f,c)}function eD(t,e,i){const a={};return xn(t.children,(c,f)=>{a[f]=c===e?i:eD(c,e,i)}),new pt(t.segments,a)}class $f{constructor(e,i,a){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=a,e&&a.length>0&&Uc(a[0]))throw new Error("Root segment cannot have matrix parameters");const c=a.find(Gf);if(c&&c!==Ha(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vc{constructor(e,i,a){this.segmentGroup=e,this.processChildren=i,this.index=a}}function Q_(t,e,i){if(t||(t=new pt([],{})),0===t.segments.length&&t.hasChildren())return Zf(t,e,i);const a=function(t,e,i){let a=0,c=e;const f={match:!1,pathIndex:0,commandIndex:0};for(;c<t.segments.length;){if(a>=i.length)return f;const p=t.segments[c],y=i[a];if(Gf(y))break;const _=`${y}`,E=a<i.length-1?i[a+1]:null;if(c>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!Kp(_,E,p))return f;a+=2}else{if(!Kp(_,{},p))return f;a++}c++}return{match:!0,pathIndex:c,commandIndex:a}}(t,e,i),c=i.slice(a.commandIndex);if(a.match&&a.pathIndex<t.segments.length){const f=new pt(t.segments.slice(0,a.pathIndex),{});return f.children[ft]=new pt(t.segments.slice(a.pathIndex),t.children),Zf(f,0,c)}return a.match&&0===c.length?new pt(t.segments,{}):a.match&&!t.hasChildren()?Wp(t,e,i):a.match?Zf(t,0,c):Wp(t,e,i)}function Zf(t,e,i){if(0===i.length)return new pt(t.segments,{});{const a=function(t){return Gf(t[0])?t[0].outlets:{[ft]:t}}(i),c={};return xn(a,(f,p)=>{"string"==typeof f&&(f=[f]),null!==f&&(c[p]=Q_(t.children[p],e,f))}),xn(t.children,(f,p)=>{void 0===a[p]&&(c[p]=f)}),new pt(t.segments,c)}}function Wp(t,e,i){const a=t.segments.slice(0,e);let c=0;for(;c<i.length;){const f=i[c];if(Gf(f)){const _=Y_(f.outlets);return new pt(a,_)}if(0===c&&Uc(i[0])){a.push(new Vi(t.segments[e].path,jc(i[0]))),c++;continue}const p=Gf(f)?f.outlets[ft]:`${f}`,y=c<i.length-1?i[c+1]:null;p&&y&&Uc(y)?(a.push(new Vi(p,jc(y))),c+=2):(a.push(new Vi(p,{})),c++)}return new pt(a,{})}function Y_(t){const e={};return xn(t,(i,a)=>{"string"==typeof i&&(i=[i]),null!==i&&(e[a]=Wp(new pt([],{}),0,i))}),e}function jc(t){const e={};return xn(t,(i,a)=>e[a]=`${i}`),e}function Kp(t,e,i){return t==i.path&&mi(e,i.parameters)}class nD{constructor(e,i,a,c){this.routeReuseStrategy=e,this.futureState=i,this.currState=a,this.forwardEvent=c}activate(e){const i=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,a,e),$_(this.futureState.root),this.activateChildRoutes(i,a,e)}deactivateChildRoutes(e,i,a){const c=Ga(i);e.children.forEach(f=>{const p=f.value.outlet;this.deactivateRoutes(f,c[p],a),delete c[p]}),xn(c,(f,p)=>{this.deactivateRouteAndItsChildren(f,a)})}deactivateRoutes(e,i,a){const c=e.value,f=i?i.value:null;if(c===f)if(c.component){const p=a.getContext(c.outlet);p&&this.deactivateChildRoutes(e,i,p.children)}else this.deactivateChildRoutes(e,i,a);else f&&this.deactivateRouteAndItsChildren(i,a)}deactivateRouteAndItsChildren(e,i){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){const a=i.getContext(e.value.outlet);if(a&&a.outlet){const c=a.outlet.detach(),f=a.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,i){const a=i.getContext(e.value.outlet),c=a&&e.value.component?a.children:i,f=Ga(e);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],c);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(e,i,a){const c=Ga(i);e.children.forEach(f=>{this.activateRoutes(f,c[f.value.outlet],a),this.forwardEvent(new ZC(f.value.snapshot))}),e.children.length&&this.forwardEvent(new jp(e.value.snapshot))}activateRoutes(e,i,a){const c=e.value,f=i?i.value:null;if($_(c),c===f)if(c.component){const p=a.getOrCreateContext(c.outlet);this.activateChildRoutes(e,i,p.children)}else this.activateChildRoutes(e,i,a);else if(c.component){const p=a.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const y=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),p.children.onOutletReAttached(y.contexts),p.attachRef=y.componentRef,p.route=y.route.value,p.outlet&&p.outlet.attach(y.componentRef,y.route.value),qt(y.route)}else{const y=function(t){for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),_=y?y.module.componentFactoryResolver:null;p.attachRef=null,p.route=c,p.resolver=_,p.outlet&&p.outlet.activateWith(c,_),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,a)}}function qt(t){$_(t.value),t.children.forEach(qt)}class Yp{constructor(e,i){this.routes=e,this.module=i}}function ji(t){return"function"==typeof t}function Ms(t){return t instanceof Ss}const zf=Symbol("INITIAL_VALUE");function Wf(){return mn(t=>function(...t){let e,i;return(0,Mf.K)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Nf.k)(t[0])&&(t=t[0]),(0,OC.n)(t,i).lift(new wc(e))}(t.map(e=>e.pipe(T_(1),Of(zf)))).pipe(La((e,i)=>{let a=!1;return i.reduce((c,f,p)=>c!==zf?c:(f===zf&&(a=!0),a||!1!==f&&p!==i.length-1&&!Ms(f)?c:f),e)},zf),Bo(e=>e!==zf),(0,it.U)(e=>Ms(e)?e:!0===e),T_(1)))}let Za=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,a){1&i&&g._UZ(0,"router-outlet")},directives:function(){return[ad]},encapsulation:2}),t})();function Kn(t,e=""){for(let i=0;i<t.length;i++){const a=t[i];Jp(a,X_(e,a))}}function Jp(t,e){t.children&&Kn(t.children,e)}function X_(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Kf(t){const e=t.children&&t.children.map(Kf),i=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!i.component&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ft&&(i.component=Za),i}function Ot(t){return t.outlet||ft}function za(t,e){const i=t.filter(a=>Ot(a)===e);return i.push(...t.filter(a=>Ot(a)!==e)),i}const Qf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Yf(t,e,i){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?Object.assign({},Qf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(e.matcher||zC)(i,t,e);if(!f)return Object.assign({},Qf);const p={};xn(f.posParams,(_,E)=>{p[E]=_.path});const y=f.consumed.length>0?Object.assign(Object.assign({},p),f.consumed[f.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:y,positionalParamSegments:null!==(a=f.posParams)&&void 0!==a?a:{}}}function Jf(t,e,i,a,c="corrected"){if(i.length>0&&function(t,e,i){return i.some(a=>Bc(t,e,a)&&Ot(a)!==ft)}(t,i,a)){const p=new pt(e,function(t,e,i,a){const c={};c[ft]=a,a._sourceSegment=t,a._segmentIndexShift=e.length;for(const f of i)if(""===f.path&&Ot(f)!==ft){const p=new pt([],{});p._sourceSegment=t,p._segmentIndexShift=e.length,c[Ot(f)]=p}return c}(t,e,a,new pt(i,t.children)));return p._sourceSegment=t,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===i.length&&function(t,e,i){return i.some(a=>Bc(t,e,a))}(t,i,a)){const p=new pt(t.segments,function(t,e,i,a,c,f){const p={};for(const y of a)if(Bc(t,i,y)&&!c[Ot(y)]){const _=new pt([],{});_._sourceSegment=t,_._segmentIndexShift="legacy"===f?t.segments.length:e.length,p[Ot(y)]=_}return Object.assign(Object.assign({},c),p)}(t,e,i,a,t.children,c));return p._sourceSegment=t,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:i}}const f=new pt(t.segments,t.children);return f._sourceSegment=t,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:i}}function Bc(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path}function n0(t,e,i,a){return!!(Ot(t)===a||a!==ft&&Bc(e,i,t))&&("**"===t.path||Yf(e,t,i).matched)}function r0(t,e,i){return 0===e.length&&!t.children[i]}class Hc{constructor(e){this.segmentGroup=e||null}}class Xp{constructor(e){this.urlTree=e}}function Wa(t){return new pi.y(e=>e.error(new Hc(t)))}function eg(t){return new pi.y(e=>e.error(new Xp(t)))}function lD(t){return new pi.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Xf{constructor(e,i,a,c,f){this.configLoader=i,this.urlSerializer=a,this.urlTree=c,this.config=f,this.allowRedirects=!0,this.ngModule=e.get(g.h0i)}apply(){const e=Jf(this.urlTree.root,[],[],this.config).segmentGroup,i=new pt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,i,ft).pipe((0,it.U)(f=>this.createUrlTree(tg(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ua(f=>{if(f instanceof Xp)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof Hc?this.noMatchError(f):f}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ft).pipe((0,it.U)(c=>this.createUrlTree(tg(c),e.queryParams,e.fragment))).pipe(Ua(c=>{throw c instanceof Hc?this.noMatchError(c):c}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,i,a){const c=e.segments.length>0?new pt([],{[ft]:e}):e;return new Ss(c,i,a)}expandSegmentGroup(e,i,a,c){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(e,i,a).pipe((0,it.U)(f=>new pt([],f))):this.expandSegment(e,a,i,a.segments,c,!0)}expandChildren(e,i,a){const c=[];for(const f of Object.keys(a.children))"primary"===f?c.unshift(f):c.push(f);return(0,Bt.D)(c).pipe(uo(f=>{const p=a.children[f],y=za(i,f);return this.expandSegmentGroup(e,y,p,f).pipe((0,it.U)(_=>({segment:_,outlet:f})))}),La((f,p)=>(f[p.outlet]=p.segment,f),{}),function(t,e){const i=arguments.length>=2;return a=>a.pipe(t?Bo((c,f)=>t(c,f,a)):co.y,I_(1),i?gi(e):Dc(()=>new Ec))}())}expandSegment(e,i,a,c,f,p){return(0,Bt.D)(a).pipe(uo(y=>this.expandSegmentAgainstRoute(e,i,a,y,c,f,p).pipe(Ua(E=>{if(E instanceof Hc)return(0,$e.of)(null);throw E}))),Ts(y=>!!y),Ua((y,_)=>{if(y instanceof Ec||"EmptyError"===y.name){if(r0(i,c,f))return(0,$e.of)(new pt([],{}));throw new Hc(i)}throw y}))}expandSegmentAgainstRoute(e,i,a,c,f,p,y){return n0(c,i,f,p)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(e,i,c,f,p):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,a,c,f,p):Wa(i):Wa(i)}expandSegmentAgainstRouteUsingRedirect(e,i,a,c,f,p){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,a,c,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,i,a,c,f,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,c){const f=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?eg(f):this.lineralizeSegments(a,f).pipe((0,gr.zg)(p=>{const y=new pt(p,{});return this.expandSegment(e,y,i,p,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,i,a,c,f,p){const{matched:y,consumedSegments:_,lastChild:E,positionalParamSegments:C}=Yf(i,c,f);if(!y)return Wa(i);const T=this.applyRedirectCommands(_,c.redirectTo,C);return c.redirectTo.startsWith("/")?eg(T):this.lineralizeSegments(c,T).pipe((0,gr.zg)(R=>this.expandSegment(e,i,a,R.concat(f.slice(E)),p,!1)))}matchSegmentAgainstRoute(e,i,a,c,f){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,$e.of)(a._loadedConfig):this.configLoader.load(e.injector,a)).pipe((0,it.U)(R=>(a._loadedConfig=R,new pt(c,{})))):(0,$e.of)(new pt(c,{}));const{matched:p,consumedSegments:y,lastChild:_}=Yf(i,a,c);if(!p)return Wa(i);const E=c.slice(_);return this.getChildConfig(e,a,c).pipe((0,gr.zg)(T=>{const R=T.module,N=T.routes,{segmentGroup:F,slicedSegments:B}=Jf(i,y,E,N),re=new pt(F.segments,F.children);if(0===B.length&&re.hasChildren())return this.expandChildren(R,N,re).pipe((0,it.U)(ke=>new pt(y,ke)));if(0===N.length&&0===B.length)return(0,$e.of)(new pt(y,{}));const de=Ot(a)===f;return this.expandSegment(R,re,N,B,de?ft:f,!0).pipe((0,it.U)(Ee=>new pt(y.concat(Ee.segments),Ee.children)))}))}getChildConfig(e,i,a){return i.children?(0,$e.of)(new Yp(i.children,e)):i.loadChildren?void 0!==i._loadedConfig?(0,$e.of)(i._loadedConfig):this.runCanLoadGuards(e.injector,i,a).pipe((0,gr.zg)(c=>{return c?this.configLoader.load(e.injector,i).pipe((0,it.U)(f=>(i._loadedConfig=f,f))):(t=i,new pi.y(e=>e.error(Is(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):(0,$e.of)(new Yp([],e))}runCanLoadGuards(e,i,a){const c=i.canLoad;if(!c||0===c.length)return(0,$e.of)(!0);const f=c.map(p=>{const y=e.get(p);let _;if((t=y)&&ji(t.canLoad))_=y.canLoad(i,a);else{if(!ji(y))throw new Error("Invalid CanLoad guard");_=y(i,a)}var t;return yi(_)});return(0,$e.of)(f).pipe(Wf(),(0,mr.b)(p=>{if(!Ms(p))return;const y=Is(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw y.url=p,y}),(0,it.U)(p=>!0===p))}lineralizeSegments(e,i){let a=[],c=i.root;for(;;){if(a=a.concat(c.segments),0===c.numberOfChildren)return(0,$e.of)(a);if(c.numberOfChildren>1||!c.children[ft])return lD(e.redirectTo);c=c.children[ft]}}applyRedirectCommands(e,i,a){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),e,a)}applyRedirectCreatreUrlTree(e,i,a,c){const f=this.createSegmentGroup(e,i.root,a,c);return new Ss(f,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){const a={};return xn(e,(c,f)=>{if("string"==typeof c&&c.startsWith(":")){const y=c.substring(1);a[f]=i[y]}else a[f]=c}),a}createSegmentGroup(e,i,a,c){const f=this.createSegments(e,i.segments,a,c);let p={};return xn(i.children,(y,_)=>{p[_]=this.createSegmentGroup(e,y,a,c)}),new pt(f,p)}createSegments(e,i,a,c){return i.map(f=>f.path.startsWith(":")?this.findPosParam(e,f,c):this.findOrReturn(f,a))}findPosParam(e,i,a){const c=a[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${e}'. Cannot find '${i.path}'.`);return c}findOrReturn(e,i){let a=0;for(const c of i){if(c.path===e.path)return i.splice(a),c;a++}return e}}function tg(t){const e={};for(const a of Object.keys(t.children)){const f=tg(t.children[a]);(f.segments.length>0||f.hasChildren())&&(e[a]=f)}return function(t){if(1===t.numberOfChildren&&t.children[ft]){const e=t.children[ft];return new pt(t.segments.concat(e.segments),e.children)}return t}(new pt(t.segments,e))}class o0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ed{constructor(e,i){this.component=e,this.route=i}}function dD(t,e,i){const a=t._root;return Qn(a,e?e._root:null,i,[a.value])}function td(t,e,i){const a=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(e);return(a?a.module.injector:i).get(t)}function Qn(t,e,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=Ga(e);return t.children.forEach(p=>{(function(t,e,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=t.value,p=e?e.value:null,y=i?i.getContext(t.value.outlet):null;if(p&&f.routeConfig===p.routeConfig){const _=function(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!As(t.url,e.url);case"pathParamsOrQueryParamsChange":return!As(t.url,e.url)||!mi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zp(t,e)||!mi(t.queryParams,e.queryParams);case"paramsChange":default:return!Zp(t,e)}}(p,f,f.routeConfig.runGuardsAndResolvers);_?c.canActivateChecks.push(new o0(a)):(f.data=p.data,f._resolvedData=p._resolvedData),Qn(t,e,f.component?y?y.children:null:i,a,c),_&&y&&y.outlet&&y.outlet.isActivated&&c.canDeactivateChecks.push(new ed(y.outlet.component,p))}else p&&qc(e,y,c),c.canActivateChecks.push(new o0(a)),Qn(t,null,f.component?y?y.children:null:i,a,c)})(p,f[p.value.outlet],i,a.concat([p.value]),c),delete f[p.value.outlet]}),xn(f,(p,y)=>qc(p,i.getContext(y),c)),c}function qc(t,e,i){const a=Ga(t),c=t.value;xn(a,(f,p)=>{qc(f,c.component?e?e.children.getContext(p):null:e,i)}),i.canDeactivateChecks.push(new ed(c.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,c))}class GA{}function vD(t){return new pi.y(e=>e.error(t))}class $A{constructor(e,i,a,c,f,p){this.rootComponentType=e,this.config=i,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=p}recognize(){const e=Jf(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,e,ft);if(null===i)return null;const a=new qf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new vr(a,i),f=new q_(this.url,c);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(e){const i=e.value,a=B_(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,i):this.processSegment(e,i,i.segments,a)}processChildren(e,i){const a=[];for(const f of Object.keys(i.children)){const p=i.children[f],y=za(e,f),_=this.processSegmentGroup(y,p,f);if(null===_)return null;a.push(..._)}const c=l0(a);return c.sort((e,i)=>e.value.outlet===ft?-1:i.value.outlet===ft?1:e.value.outlet.localeCompare(i.value.outlet)),c}processSegment(e,i,a,c){for(const f of e){const p=this.processSegmentAgainstRoute(f,i,a,c);if(null!==p)return p}return r0(i,a,c)?[]:null}processSegmentAgainstRoute(e,i,a,c){if(e.redirectTo||!n0(e,i,a,c))return null;let f,p=[],y=[];if("**"===e.path){const N=a.length>0?Ha(a).parameters:{};f=new qf(a,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,og(e),Ot(e),e.component,e,Ya(i),ig(i)+a.length,rd(e))}else{const N=Yf(i,e,a);if(!N.matched)return null;p=N.consumedSegments,y=a.slice(N.lastChild),f=new qf(p,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,og(e),Ot(e),e.component,e,Ya(i),ig(i)+p.length,rd(e))}const _=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:E,slicedSegments:C}=Jf(i,p,y,_.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);var t;if(0===C.length&&E.hasChildren()){const N=this.processChildren(_,E);return null===N?null:[new vr(f,N)]}if(0===_.length&&0===C.length)return[new vr(f,[])];const T=Ot(e)===c,R=this.processSegment(_,E,C,T?ft:c);return null===R?null:[new vr(f,R)]}}function rg(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function l0(t){const e=[],i=new Set;for(const a of t){if(!rg(a)){e.push(a);continue}const c=e.find(f=>a.value.routeConfig===f.value.routeConfig);void 0!==c?(c.children.push(...a.children),i.add(c)):e.push(a)}for(const a of i){const c=l0(a.children);e.push(new vr(a.value,c))}return e.filter(a=>!i.has(a))}function Ya(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ig(t){let e=t,i=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,i+=e._segmentIndexShift?e._segmentIndexShift:0;return i-1}function og(t){return t.data||{}}function rd(t){return t.resolve||{}}function id(t){return mn(e=>{const i=t(e);return i?(0,Bt.D)(i).pipe((0,it.U)(()=>e)):(0,$e.of)(e)})}class wD extends class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}}{}const cg=new g.OlP("ROUTES");class d0{constructor(e,i,a,c){this.loader=e,this.compiler=i,this.onLoadStartListener=a,this.onLoadEndListener=c}load(e,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,it.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);const p=f.create(e);return new Yp(Ho(p.injector.get(cg,void 0,g.XFs.Self|g.XFs.Optional)).map(Kf),p)}),Ua(f=>{throw i._loader$=void 0,f}));return i._loader$=new Fa.c(c,()=>new jo.xQ).pipe((0,kA.x)()),i._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Bt.D)(this.loader.load(e)):yi(e()).pipe((0,gr.zg)(i=>i instanceof g.YKP?(0,$e.of)(i):(0,Bt.D)(this.compiler.compileModuleAsync(i))))}}class ED{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xa,this.attachRef=null}}class Xa{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new ED,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}class h0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}function lg(t){throw t}function p0(t,e,i){return e.parse("/")}function od(t,e){return(0,$e.of)(null)}const DD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{class t{constructor(i,a,c,f,p,y,_,E){this.rootComponentType=i,this.urlSerializer=a,this.rootContexts=c,this.location=f,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new jo.xQ,this.errorHandler=lg,this.malformedUriErrorHandler=p0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:od,afterPreactivation:od},this.urlHandlingStrategy=new h0,this.routeReuseStrategy=new wD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(g.h0i),this.console=p.get(g.c2e);const R=p.get(g.R0b);this.isNgZoneEnabled=R instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=new Ss(new pt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new d0(y,_,N=>this.triggerEvent(new Ic(N)),N=>this.triggerEvent(new $C(N))),this.routerState=j_(this.currentUrlTree,this.rootComponentType),this.transitions=new xr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const a=this.events;return i.pipe(Bo(c=>0!==c.id),(0,it.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),mn(c=>{let f=!1,p=!1;return(0,$e.of)(c).pipe((0,mr.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),mn(y=>{const _=!this.navigated||y.extractedUrl.toString()!==this.browserUrlTree.toString(),E=("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl);if(qi(y.source)&&(this.browserUrlTree=y.rawUrl),E)return(0,$e.of)(y).pipe(mn(C=>{const T=this.transitions.getValue();return a.next(new A_(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),T!==this.transitions.getValue()?Fi.E:Promise.resolve(C)}),function(t,e,i,a){return mn(c=>function(t,e,i,a,c){return new Xf(t,e,i,a,c).apply()}(t,e,i,c.extractedUrl,a).pipe((0,it.U)(f=>Object.assign(Object.assign({},c),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,mr.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(t,e,i,a,c){return(0,gr.zg)(f=>function(t,e,i,a,c="emptyOnly",f="legacy"){try{const p=new $A(t,e,i,a,c,f).recognize();return null===p?vD(new GA):(0,$e.of)(p)}catch(p){return vD(p)}}(t,e,f.urlAfterRedirects,i(f.urlAfterRedirects),a,c).pipe((0,it.U)(p=>Object.assign(Object.assign({},f),{targetSnapshot:p}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,mr.b)(C=>{"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(C.urlAfterRedirects,C),this.browserUrlTree=C.urlAfterRedirects);const T=new HC(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);a.next(T)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:T,extractedUrl:R,source:N,restoredState:F,extras:B}=y,re=new A_(T,this.serializeUrl(R),N,F);a.next(re);const de=j_(R,this.rootComponentType).snapshot;return(0,$e.of)(Object.assign(Object.assign({},y),{targetSnapshot:de,urlAfterRedirects:R,extras:Object.assign(Object.assign({},B),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),Fi.E}),id(y=>{const{targetSnapshot:_,id:E,extractedUrl:C,rawUrl:T,extras:{skipLocationChange:R,replaceUrl:N}}=y;return this.hooks.beforePreactivation(_,{navigationId:E,appliedUrlTree:C,rawUrlTree:T,skipLocationChange:!!R,replaceUrl:!!N})}),(0,mr.b)(y=>{const _=new qC(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(_)}),(0,it.U)(y=>Object.assign(Object.assign({},y),{guards:dD(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(t,e){return(0,gr.zg)(i=>{const{targetSnapshot:a,currentSnapshot:c,guards:{canActivateChecks:f,canDeactivateChecks:p}}=i;return 0===p.length&&0===f.length?(0,$e.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(t,e,i,a){return(0,Bt.D)(t).pipe((0,gr.zg)(c=>function(t,e,i,a,c){const f=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,$e.of)(!0);const p=f.map(y=>{const _=td(y,e,c);let E;if(function(t){return t&&ji(t.canDeactivate)}(_))E=yi(_.canDeactivate(t,e,i,a));else{if(!ji(_))throw new Error("Invalid CanDeactivate guard");E=yi(_(t,e,i,a))}return E.pipe(Ts())});return(0,$e.of)(p).pipe(Wf())}(c.component,c.route,i,e,a)),Ts(c=>!0!==c,!0))}(p,a,c,t).pipe((0,gr.zg)(y=>y&&function(t){return"boolean"==typeof t}(y)?function(t,e,i,a){return(0,Bt.D)(e).pipe(uo(c=>Cc(function(t,e){return null!==t&&e&&e(new Sc(t)),(0,$e.of)(!0)}(c.route.parent,a),function(t,e){return null!==t&&e&&e(new ja(t)),(0,$e.of)(!0)}(c.route,a),function(t,e,i){const a=e[e.length-1],f=e.slice(0,e.length-1).reverse().map(p=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(p)).filter(p=>null!==p).map(p=>Es(()=>{const y=p.guards.map(_=>{const E=td(_,p.node,i);let C;if(function(t){return t&&ji(t.canActivateChild)}(E))C=yi(E.canActivateChild(a,t));else{if(!ji(E))throw new Error("Invalid CanActivateChild guard");C=yi(E(a,t))}return C.pipe(Ts())});return(0,$e.of)(y).pipe(Wf())}));return(0,$e.of)(f).pipe(Wf())}(t,c.path,i),function(t,e,i){const a=e.routeConfig?e.routeConfig.canActivate:null;if(!a||0===a.length)return(0,$e.of)(!0);const c=a.map(f=>Es(()=>{const p=td(f,e,i);let y;if(function(t){return t&&ji(t.canActivate)}(p))y=yi(p.canActivate(e,t));else{if(!ji(p))throw new Error("Invalid CanActivate guard");y=yi(p(e,t))}return y.pipe(Ts())}));return(0,$e.of)(c).pipe(Wf())}(t,c.route,i))),Ts(c=>!0!==c,!0))}(a,f,t,e):(0,$e.of)(y)),(0,it.U)(y=>Object.assign(Object.assign({},i),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,mr.b)(y=>{if(Ms(y.guardsResult)){const E=Is(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw E.url=y.guardsResult,E}const _=new GC(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(_)}),Bo(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),id(y=>{if(y.guards.canActivateChecks.length)return(0,$e.of)(y).pipe((0,mr.b)(_=>{const E=new Tc(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),mn(_=>{let E=!1;return(0,$e.of)(_).pipe(function(t,e){return(0,gr.zg)(i=>{const{targetSnapshot:a,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,$e.of)(i);let f=0;return(0,Bt.D)(c).pipe(uo(p=>function(t,e,i,a){return function(t,e,i,a){const c=Object.keys(t);if(0===c.length)return(0,$e.of)({});const f={};return(0,Bt.D)(c).pipe((0,gr.zg)(p=>function(t,e,i,a){const c=td(t,e,a);return yi(c.resolve?c.resolve(e,i):c(e,i))}(t[p],e,i,a).pipe((0,mr.b)(y=>{f[p]=y}))),I_(1),(0,gr.zg)(()=>Object.keys(f).length===c.length?(0,$e.of)(f):Fi.E))}(t._resolve,t,e,a).pipe((0,it.U)(f=>(t._resolvedData=f,t.data=Object.assign(Object.assign({},t.data),B_(t,i).resolve),null)))}(p.route,a,t,e)),(0,mr.b)(()=>f++),I_(1),(0,gr.zg)(p=>f===c.length?(0,$e.of)(i):Fi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,mr.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,mr.b)(_=>{const E=new Vp(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),id(y=>{const{targetSnapshot:_,id:E,extractedUrl:C,rawUrl:T,extras:{skipLocationChange:R,replaceUrl:N}}=y;return this.hooks.afterPreactivation(_,{navigationId:E,appliedUrlTree:C,rawUrlTree:T,skipLocationChange:!!R,replaceUrl:!!N})}),(0,it.U)(y=>{const _=function(t,e,i){const a=Fc(t,e._root,i?i._root:void 0);return new V_(a,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:_})}),(0,mr.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((t,e,i)=>(0,it.U)(a=>(new nD(e,a.targetRouterState,a.currentRouterState,i).activate(t),a)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,mr.b)({next(){f=!0},complete(){f=!0}}),Lp(()=>{if(!f&&!p){const y=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,y)):this.cancelNavigationTransition(c,y)}this.currentNavigation=null}),Ua(y=>{if(p=!0,function(t){return t&&t[Lf]}(y)){const _=Ms(y.url);_||(this.navigated=!0,this.restoreHistory(c,!0));const E=new R_(c.id,this.serializeUrl(c.extractedUrl),y.message);a.next(E),_?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),T={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qi(c.source)};this.scheduleNavigation(C,"imperative",null,T,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const _=new BC(c.id,this.serializeUrl(c.extractedUrl),y);a.next(_);try{c.resolve(this.errorHandler(y))}catch(E){c.reject(E)}}return Fi.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const a=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:c,state:f,urlTree:p}=a,y={replaceUrl:!0};if(f){const _=Object.assign({},f);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(y.state=_)}this.scheduleNavigation(p,c,f,y)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(i){var a;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(a=i.state)||void 0===a?void 0:a.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,a){if(!i)return!0;const c=a.urlTree.toString()===i.urlTree.toString();return a.transitionId!==i.transitionId||!c||!("hashchange"===a.source&&"popstate"===i.source||"popstate"===a.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){Kn(i),this.config=i.map(Kf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,a={}){const{relativeTo:c,queryParams:f,fragment:p,queryParamsHandling:y,preserveFragment:_}=a,E=c||this.routerState.root,C=_?this.currentUrlTree.fragment:p;let T=null;switch(y){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=f||null}return null!==T&&(T=this.removeEmptyProps(T)),function(t,e,i,a,c){if(0===i.length)return W_(e.root,e.root,e,a,c);const f=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $f(!0,0,t);let e=0,i=!1;const a=t.reduce((c,f,p)=>{if("object"==typeof f&&null!=f){if(f.outlets){const y={};return xn(f.outlets,(_,E)=>{y[E]="string"==typeof _?_.split("/"):_}),[...c,{outlets:y}]}if(f.segmentPath)return[...c,f.segmentPath]}return"string"!=typeof f?[...c,f]:0===p?(f.split("/").forEach((y,_)=>{0==_&&"."===y||(0==_&&""===y?i=!0:".."===y?e++:""!=y&&c.push(y))}),c):[...c,f]},[]);return new $f(i,e,a)}(i);if(f.toRoot())return W_(e.root,new pt([],{}),e,a,c);const p=function(t,e,i){if(t.isAbsolute)return new Vc(e.root,!0,0);if(-1===i.snapshot._lastPathIndex){const f=i.snapshot._urlSegment;return new Vc(f,f===e.root,0)}const a=Uc(t.commands[0])?0:1;return function(t,e,i){let a=t,c=e,f=i;for(;f>c;){if(f-=c,a=a.parent,!a)throw new Error("Invalid number of '../'");c=a.segments.length}return new Vc(a,!1,c-f)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(f,e,t),y=p.processChildren?Zf(p.segmentGroup,p.index,f.commands):Q_(p.segmentGroup,p.index,f.commands);return W_(p.segmentGroup,y,e,a,c)}(E,this.currentUrlTree,i,T,null!=C?C:null)}navigateByUrl(i,a={skipLocationChange:!1}){const c=Ms(i)?i:this.parseUrl(i),f=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,a)}navigate(i,a={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const i=t[e];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${e}`)}}(i),this.navigateByUrl(this.createUrlTree(i,a),a)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let a;try{a=this.urlSerializer.parse(i)}catch(c){a=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return a}isActive(i,a){let c;if(c=!0===a?Object.assign({},DD):!1===a?Object.assign({},TD):a,Ms(i))return Rc(this.currentUrlTree,i,c);const f=this.parseUrl(i);return Rc(this.currentUrlTree,f,c)}removeEmptyProps(i){return Object.keys(i).reduce((a,c)=>{const f=i[c];return null!=f&&(a[c]=f),a},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new Va(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,a,c,f,p){var y,_;if(this.disposed)return Promise.resolve(!1);const E=this.getTransition(),C=qi(a)&&E&&!qi(E.source),N=(this.lastSuccessfulId===E.id||this.currentNavigation?E.rawUrl:E.urlAfterRedirects).toString()===i.toString();if(C&&N)return Promise.resolve(!0);let F,B,re;p?(F=p.resolve,B=p.reject,re=p.promise):re=new Promise((Ee,ke)=>{F=Ee,B=ke});const de=++this.navigationId;let we;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),we=c&&c.\u0275routerPageId?c.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):we=0,this.setTransition({id:de,targetPageId:we,source:a,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:f,resolve:F,reject:B,promise:re,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),re.catch(Ee=>Promise.reject(Ee))}setBrowserUrl(i,a){const c=this.urlSerializer.serialize(i),f=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(c)||a.extras.replaceUrl?this.location.replaceState(c,"",f):this.location.go(c,"",f)}restoreHistory(i,a=!1){var c,f;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===p?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===p&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,a){const c=new R_(i.id,this.serializeUrl(i.extractedUrl),a);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,a){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:a}:{navigationId:i}}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(g.DyG),g.LFG(Vf),g.LFG(Xa),g.LFG(Ne),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})();function qi(t){return"imperative"!==t}let Gc=(()=>{class t{constructor(i,a,c,f,p){this.router=i,this.route=a,this.commands=[],this.onChanges=new jo.xQ,null==c&&f.setAttribute(p.nativeElement,"tabindex","0")}ngOnChanges(i){this.onChanges.next(this)}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}onClick(){const i={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(sr),g.Y36($a),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},t.\u0275dir=g.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,a){1&i&&g.NdJ("click",function(){return a.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),t})(),$c=(()=>{class t{constructor(i,a,c){this.router=i,this.route=a,this.locationStrategy=c,this.commands=[],this.onChanges=new jo.xQ,this.subscription=i.events.subscribe(f=>{f instanceof Va&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,a,c,f,p){if(0!==i||a||c||f||p||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(sr),g.Y36($a),g.Y36(se))},t.\u0275dir=g.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,a){1&i&&g.NdJ("click",function(f){return a.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),2&i&&(g.Ikx("href",a.href,g.LSH),g.uIk("target",a.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),t})();function eu(t){return""===t||!!t}let ad=(()=>{class t{constructor(i,a,c,f,p){this.parentContexts=i,this.location=a,this.resolver=c,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=f||ft,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,a){this.activated=i,this._activatedRoute=a,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const p=(a=a||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,_=new m0(i,y,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(Xa),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},t.\u0275dir=g.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class m0{constructor(e,i,a){this.route=e,this.childContexts=i,this.parent=a}get(e,i){return e===$a?this.route:e===Xa?this.childContexts:this.parent.get(e,i)}}class fg{}class hg{preload(e,i){return(0,$e.of)(null)}}let Zc=(()=>{class t{constructor(i,a,c,f,p){this.router=i,this.injector=f,this.preloadingStrategy=p,this.loader=new d0(a,c,E=>i.triggerEvent(new Ic(E)),E=>i.triggerEvent(new $C(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bo(i=>i instanceof Va),uo(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(g.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,a){const c=[];for(const f of a)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const p=f._loadedConfig;c.push(this.processRoutes(p.module,p.routes))}else f.loadChildren&&!f.canLoad?c.push(this.preloadConfig(i,f)):f.children&&c.push(this.processRoutes(i,f.children));return(0,Bt.D)(c).pipe((0,ao.J)(),(0,it.U)(f=>{}))}preloadConfig(i,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,$e.of)(a._loadedConfig):this.loader.load(i.injector,a)).pipe((0,gr.zg)(f=>(a._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(sr),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(fg))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})(),tu=(()=>{class t{constructor(i,a,c={}){this.router=i,this.viewportScroller=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof A_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Va&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof x_&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,a){this.router.triggerEvent(new x_(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(sr),g.LFG(mp),g.LFG(void 0))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})();const lo=new g.OlP("ROUTER_CONFIGURATION"),pg=new g.OlP("ROUTER_FORROOT_GUARD"),zc=[Ne,{provide:Vf,useClass:P_},{provide:sr,useFactory:function(t,e,i,a,c,f,p,y={},_,E){const C=new sr(null,t,e,i,a,c,f,Ho(p));return _&&(C.urlHandlingStrategy=_),E&&(C.routeReuseStrategy=E),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(y,C),y.enableTracing&&C.events.subscribe(T=>{var R,N;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(N=console.groupEnd)||void 0===N||N.call(console)}),C},deps:[Vf,Xa,Ne,g.zs3,g.v3s,g.Sil,cg,lo,[class{},new g.FiY],[class{},new g.FiY]]},Xa,{provide:$a,useFactory:function(t){return t.routerState.root},deps:[sr]},{provide:g.v3s,useClass:g.EAV},Zc,hg,class{preload(e,i){return i().pipe(Ua(()=>(0,$e.of)(null)))}},{provide:lo,useValue:{enableTracing:!1}}];function AD(){return new g.PXZ("Router",sr)}let mg=(()=>{class t{constructor(i,a){}static forRoot(i,a){return{ngModule:t,providers:[zc,ud(i),{provide:pg,useFactory:y0,deps:[[sr,new g.FiY,new g.tp0]]},{provide:lo,useValue:a||{}},{provide:se,useFactory:xD,deps:[ce,[new g.tBr(Ie),new g.FiY],lo]},{provide:tu,useFactory:RD,deps:[sr,mp,lo]},{provide:fg,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:hg},{provide:g.PXZ,multi:!0,useFactory:AD},[yg,{provide:g.ip1,multi:!0,useFactory:b0,deps:[yg]},{provide:w0,useFactory:MD,deps:[yg]},{provide:g.tb,multi:!0,useExisting:w0}]]}}static forChild(i){return{ngModule:t,providers:[ud(i)]}}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(pg,8),g.LFG(sr,8))},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({}),t})();function RD(t,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new tu(t,e,i)}function xD(t,e,i={}){return i.useHash?new Ze(t,e):new De(t,e)}function y0(t){return"guarded"}function ud(t){return[{provide:g.deG,multi:!0,useValue:t},{provide:cg,multi:!0,useValue:t}]}let yg=(()=>{class t{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new jo.xQ}appInitializer(){return this.injector.get(M,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const c=new Promise(y=>a=y),f=this.injector.get(sr),p=this.injector.get(lo);return"disabled"===p.initialNavigation?(f.setUpLocationChangeListener(),a(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,$e.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),f.initialNavigation()):a(!0),c})}bootstrapListener(i){const a=this.injector.get(lo),c=this.injector.get(Zc),f=this.injector.get(tu),p=this.injector.get(sr),y=this.injector.get(g.z2F);i===y.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&p.initialNavigation(),c.setUpPreloading(),f.init(),p.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(g.zs3))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),t})();function b0(t){return t.appInitializer.bind(t)}function MD(t){return t.bootstrapListener.bind(t)}const w0=new g.OlP("Router Initializer"),E0=function(){return["/photo-gallery"]};let ND=(()=>{class t{constructor(){this.currentBackgroundImage="",this.currentBackgroundImageIndx=0,this.backgroundImageOptions=["../../../assets/background-hero-images/el_capitan_pano.jpg","../../../assets/background-hero-images/forest_background.jpg","../../../assets/background-hero-images/river_el_capitan_background.jpg"],this.currentBackgroundImage=this.backgroundImageOptions[this.currentBackgroundImageIndx],setInterval(this.changeBackgroundImage.bind(this),3e3)}ngOnInit(){}changeBackgroundImage(){this.currentBackgroundImageIndx+=1,this.currentBackgroundImageIndx>=this.backgroundImageOptions.length&&(this.currentBackgroundImageIndx=0),this.currentBackgroundImage=this.backgroundImageOptions[this.currentBackgroundImageIndx]}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-home"]],decls:36,vars:5,consts:[[1,"hero","is-fullheight"],[1,"hero-body"],[1,""],[1,"title","is-size-1"],[1,"subtitle","is-size-2"],[1,"section"],[1,"columns"],[1,"column","is-one-third","is-left-image"],[1,"image","is-4by5"],["src","../../../assets/about_me_image.jpg"],["id","aboutme",1,"column","grey","center"],[1,"title"],[1,"is-size-5"],[1,"column","grey","center"],[1,"button","is-link",3,"routerLink"],[1,"column","is-one-third","is-right-image"],[1,"image","is-square"],["src","../../../assets/photography_section_image.JPG",1,"photography-image"]],template:function(i,a){1&i&&(g.TgZ(0,"section",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"p",3),g._uU(4," David Jose Fernandez "),g.qZA(),g.TgZ(5,"p",4),g._uU(6," Athelete | Software Engineer | Adventurer "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"section",5),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"figure",8),g._UZ(11,"img",9),g.qZA(),g.qZA(),g.TgZ(12,"div",10),g.TgZ(13,"div"),g.TgZ(14,"h1",11),g._uU(15," About Me "),g.qZA(),g.TgZ(16,"p",12),g._uU(17," Hello there, I\u2019m glad you stumbled upon my webpage. Yes, indeed that is me in those pictures. My name is David Jose Fernandez and I am a second year Computer Science student at the Georgia Institute of Technology, or as I\u2019ll be calling it for at least the next few years, home. Although I am currently living in the United States, I was born and raised in a the Dominican Republic, a small country in the island of Hispa\xf1ola. As you can probably tell by my pictures, I am a pretty active person and love to go outside and experience the world through all sorts of crazy adventures. From diving deep into our oceans to climbing mountains who\u2019s peaks are well over five thousand meters above sea level. "),g.qZA(),g.TgZ(18,"p",12),g._uU(19," In this webpage you will find all sorts of information about me. Ranging from my resume, to various projects in which I have worked in the past, as well as previous job experiences. "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(20,"section",5),g.TgZ(21,"div",6),g.TgZ(22,"div",13),g.TgZ(23,"div"),g.TgZ(24,"h1",11),g._uU(25," Photo Gallery "),g.qZA(),g._UZ(26,"br"),g.TgZ(27,"p",12),g._uU(28," Here you will find photographs of places I've taken while on my various trips. I wouldn't call myself and expert but I do enjoy taking photographs as a hobby. I hope you find these as enjoyable as I do! "),g.qZA(),g._UZ(29,"br"),g._UZ(30,"br"),g.TgZ(31,"button",14),g._uU(32,"Go To Photo Gallery"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(33,"div",15),g.TgZ(34,"figure",16),g._UZ(35,"img",17),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.Jzz("background-image: url(",a.currentBackgroundImage,")"),g.xp6(31),g.Q6J("routerLink",g.DdM(4,E0)))},directives:[Gc],styles:["section.hero[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover;opacity:1;transition:background 1.5s ease-in}.hero[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;text-shadow:-1px 0 black,0 1px black,1px 0 black,0 -1px black}.hero[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#fff;text-shadow:-1px 0 black,0 1px black,1px 0 black,0 -1px black}section[_ngcontent-%COMP%]   .grey[_ngcontent-%COMP%]{background-color:#a9a9a9}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.image[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})();var PD=P(7771),Gi=P(309),OD=P(8858);class vg extends jo.xQ{constructor(e=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const i=this._events;i.push(e),i.length>this._bufferSize&&i.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new kD(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const i=this._infiniteTimeWindow,a=i?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=a.length;let p;if(this.closed)throw new ka.N;if(this.isStopped||this.hasError?p=jC.w.EMPTY:(this.observers.push(e),p=new OD.W(this,e)),c&&e.add(e=new Gi.ht(e,c)),i)for(let y=0;y<f&&!e.closed;y++)e.next(a[y]);else for(let y=0;y<f&&!e.closed;y++)e.next(a[y].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),p}_getNow(){return(this.scheduler||PD.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),i=this._bufferSize,a=this._windowTime,c=this._events,f=c.length;let p=0;for(;p<f&&!(e-c[p].time<a);)p++;return f>i&&(p=Math.max(p,f-i)),p>0&&c.splice(0,p),c}}class kD{constructor(e,i){this.time=e,this.value=i}}let cd=(()=>{class t{constructor(){this.authStateChange=new vg(1),this.superSecretPassword="L3tme!n",this.authStateChange.next(!1)}updateLogin(i){return i===this.superSecretPassword?(this.authStateChange.next(!0),!0):(this.authStateChange.next(!1),!1)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C0=P(3637);function Ye(){return t=>t.lift(new D0)}class D0{call(e,i){return i.subscribe(new T0(e))}}class T0 extends or.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let i;this.hasPrev?i=[this.prev,e]:this.hasPrev=!0,this.prev=e,i&&this.destination.next(i)}}class wi{constructor(e,i){this.compare=e,this.keySelector=i}call(e,i){return i.subscribe(new I0(e,this.compare,this.keySelector))}}class I0 extends or.L{constructor(e,i,a){super(e),this.keySelector=a,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(e,i){return e===i}_next(e){let i;try{const{keySelector:c}=this;i=c?c(e):e}catch(c){return this.destination.error(c)}let a=!1;if(this.hasKey)try{const{compare:c}=this;a=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;a||(this.key=i,this.destination.next(e))}}var Rt=P(57),_g=P(2329),Ei=P(9759),S=P(4762),st=P(4685),fo=P(300),S0=function(t,e){return(S0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])})(t,e)};function FD(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],a=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Re,ho="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},nu=nu||{},Je=ho||self;function bg(){}function wg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ru(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Eg="closure_uid_"+(1e9*Math.random()>>>0),QA=0;function R0(t,e,i){return t.call.apply(t.bind,arguments)}function x0(t,e,i){if(!t)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),t.apply(e,c)}}return function(){return t.apply(e,arguments)}}function Vn(t,e,i){return(Vn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R0:x0).apply(null,arguments)}function iu(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),t.apply(this,a)}}function Yn(t,e){function i(){}i.prototype=e.prototype,t.Z=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Vb=function(a,c,f){for(var p=Array(arguments.length-2),y=2;y<arguments.length;y++)p[y-2]=arguments[y];return e.prototype[c].apply(a,p)}}function Ns(){this.s=this.s,this.o=this.o}var JA={};Ns.prototype.s=!1,Ns.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Eg)&&t[Eg]||(t[Eg]=++QA)}(this);delete JA[t]}},Ns.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var LD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},UD=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){for(var a=t.length,c="string"==typeof t?t.split(""):t,f=0;f<a;f++)f in c&&e.call(i,c[f],f,t)};function VD(t){return Array.prototype.concat.apply([],arguments)}function M0(t){var e=t.length;if(0<e){for(var i=Array(e),a=0;a<e;a++)i[a]=t[a];return i}return[]}function Cg(t){return/^[\s\xa0]*$/.test(t)}var ar,jD=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nn(t,e){return-1!=t.indexOf(e)}function Wc(t,e){return t<e?-1:t>e?1:0}e:{var Dg=Je.navigator;if(Dg){var fd=Dg.userAgent;if(fd){ar=fd;break e}}ar=""}function dd(t,e,i){for(var a in t)e.call(i,t[a],a,t)}function hd(t){var e={};for(var i in t)e[i]=t[i];return e}var N0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function po(t,e){for(var i,a,c=1;c<arguments.length;c++){for(i in a=arguments[c])t[i]=a[i];for(var f=0;f<N0.length;f++)i=N0[f],Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}}function pd(t){return pd[" "](t),t}pd[" "]=bg;var go,t,e1=nn(ar,"Opera"),$o=nn(ar,"Trident")||nn(ar,"MSIE"),P0=nn(ar,"Edge"),gd=P0||$o,O0=nn(ar,"Gecko")&&!(nn(ar.toLowerCase(),"webkit")&&!nn(ar,"Edge"))&&!(nn(ar,"Trident")||nn(ar,"MSIE"))&&!nn(ar,"Edge"),HD=nn(ar.toLowerCase(),"webkit")&&!nn(ar,"Edge");function ou(){var t=Je.document;return t?t.documentMode:void 0}e:{var Kc="",Zo=(t=ar,O0?/rv:([^\);]+)(\)|;)/.exec(t):P0?/Edge\/([\d\.]+)/.exec(t):$o?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):HD?/WebKit\/(\S+)/.exec(t):e1?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Zo&&(Kc=Zo?Zo[1]:""),$o){var Ps=ou();if(null!=Ps&&Ps>parseFloat(Kc)){go=String(Ps);break e}}go=Kc}var su={};function qD(){return e=su,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var t=0,e=jD(String(go)).split("."),i=jD("9").split("."),a=Math.max(e.length,i.length),c=0;0==t&&c<a;c++){var f=e[c]||"",p=i[c]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==f[0].length&&0==p[0].length)break;t=Wc(0==f[1].length?0:parseInt(f[1],10),0==p[1].length?0:parseInt(p[1],10))||Wc(0==f[2].length,0==p[2].length)||Wc(f[2],p[2]),f=f[3],p=p[3]}while(0==t)}return 0<=t}();var e}var Ig=Je.document&&$o&&(ou()||parseInt(go,10))||void 0,Sg=function(){if(!Je.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Je.addEventListener("test",bg,e),Je.removeEventListener("test",bg,e)}catch(i){}return t}();function jn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function zo(t,e){if(jn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,a=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(O0){e:{try{pd(e.nodeName);var c=!0;break e}catch(f){}c=!1}c||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:GD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zo.Z.h.call(this)}}jn.prototype.h=function(){this.defaultPrevented=!0},Yn(zo,jn);var GD={2:"touch",3:"pen",4:"mouse"};zo.prototype.h=function(){zo.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var au="closure_listenable_"+(1e6*Math.random()|0),t1=0;function k0(t,e,i,a,c){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=c,this.key=++t1,this.ca=this.fa=!1}function Qc(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function yd(t){this.src=t,this.g={},this.h=0}function vd(t,e){var i=e.type;if(i in t.g){var f,a=t.g[i],c=LD(a,e);(f=0<=c)&&Array.prototype.splice.call(a,c,1),f&&(Qc(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function Ag(t,e,i,a){for(var c=0;c<t.length;++c){var f=t[c];if(!f.ca&&f.listener==e&&f.capture==!!i&&f.ia==a)return c}return-1}yd.prototype.add=function(t,e,i,a,c){var f=t.toString();(t=this.g[f])||(t=this.g[f]=[],this.h++);var p=Ag(t,e,a,c);return-1<p?(e=t[p],i||(e.fa=!1)):((e=new k0(e,this.src,f,!!a,c)).fa=i,t.push(e)),e};var Rg="closure_lm_"+(1e6*Math.random()|0),ur={};function F0(t,e,i,a,c){if(a&&a.once)return $D(t,e,i,a,c);if(Array.isArray(e)){for(var f=0;f<e.length;f++)F0(t,e[f],i,a,c);return null}return i=Pg(i),t&&t[au]?t.N(e,i,ru(a)?!!a.capture:!!a,c):L0(t,e,i,!1,a,c)}function L0(t,e,i,a,c,f){if(!e)throw Error("Invalid event type");var p=ru(c)?!!c.capture:!!c,y=_d(t);if(y||(t[Rg]=y=new yd(t)),(i=y.add(e,i,a,p,f)).proxy)return i;if(a=function(){var e=Mg;return function t(i){return e.call(t.src,t.listener,i)}}(),i.proxy=a,a.src=t,a.listener=i,t.addEventListener)Sg||(c=p),void 0===c&&(c=!1),t.addEventListener(e.toString(),a,c);else if(t.attachEvent)t.attachEvent(V0(e.toString()),a);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(a)}return i}function $D(t,e,i,a,c){if(Array.isArray(e)){for(var f=0;f<e.length;f++)$D(t,e[f],i,a,c);return null}return i=Pg(i),t&&t[au]?t.O(e,i,ru(a)?!!a.capture:!!a,c):L0(t,e,i,!0,a,c)}function xg(t,e,i,a,c){if(Array.isArray(e))for(var f=0;f<e.length;f++)xg(t,e[f],i,a,c);else a=ru(a)?!!a.capture:!!a,i=Pg(i),t&&t[au]?(t=t.i,(e=String(e).toString())in t.g&&-1<(i=Ag(f=t.g[e],i,a,c))&&(Qc(f[i]),Array.prototype.splice.call(f,i,1),0==f.length&&(delete t.g[e],t.h--))):t&&(t=_d(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ag(e,i,a,c)),(i=-1<t?e[t]:null)&&U0(i))}function U0(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[au])vd(e.i,t);else{var i=t.type,a=t.proxy;e.removeEventListener?e.removeEventListener(i,a,t.capture):e.detachEvent?e.detachEvent(V0(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=_d(e))?(vd(i,t),0==i.h&&(i.src=null,e[Rg]=null)):Qc(t)}}}function V0(t){return t in ur?ur[t]:ur[t]="on"+t}function Mg(t,e){if(t.ca)t=!0;else{e=new zo(e,this);var i=t.listener,a=t.ia||t.src;t.fa&&U0(t),t=i.call(a,e)}return t}function _d(t){return(t=t[Rg])instanceof yd?t:null}var Ng="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pg(t){return"function"==typeof t?t:(t[Ng]||(t[Ng]=function(e){return t.handleEvent(e)}),t[Ng])}function Mn(){Ns.call(this),this.i=new yd(this),this.P=this,this.I=null}function Nn(t,e){var i,a=t.I;if(a)for(i=[];a;a=a.I)i.push(a);if(t=t.P,a=e.type||e,"string"==typeof e)e=new jn(e,t);else if(e instanceof jn)e.target=e.target||t;else{var c=e;po(e=new jn(a,t),c)}if(c=!0,i)for(var f=i.length-1;0<=f;f--){var p=e.g=i[f];c=bd(p,a,!0,e)&&c}if(c=bd(p=e.g=t,a,!0,e)&&c,c=bd(p,a,!1,e)&&c,i)for(f=0;f<i.length;f++)c=bd(p=e.g=i[f],a,!1,e)&&c}function bd(t,e,i,a){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,f=0;f<e.length;++f){var p=e[f];if(p&&!p.ca&&p.capture==i){var y=p.listener,_=p.ia||p.src;p.fa&&vd(t.i,p),c=!1!==y.call(_,a)&&c}}return c&&!a.defaultPrevented}Yn(Mn,Ns),Mn.prototype[au]=!0,Mn.prototype.removeEventListener=function(t,e,i,a){xg(this,t,e,i,a)},Mn.prototype.M=function(){if(Mn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var i=t.g[e],a=0;a<i.length;a++)Qc(i[a]);delete t.g[e],t.h--}}this.I=null},Mn.prototype.N=function(t,e,i,a){return this.i.add(String(t),e,!1,i,a)},Mn.prototype.O=function(t,e,i,a){return this.i.add(String(t),e,!0,i,a)};var wd=Je.JSON.stringify;function ZD(){var t=QD,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Yc,zD=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,i){var a=Og.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a},t}(),Og=new(function(){function t(e,i){this.i=e,this.j=i,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},t}())(function(){return new j0},function(t){return t.reset()}),j0=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,i){this.h=e,this.g=i,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function WD(t){Je.setTimeout(function(){throw t},0)}function Zr(t,e){Yc||function(){var t=Je.Promise.resolve(void 0);Yc=function(){t.then(B0)}}(),kg||(Yc(),kg=!0),QD.add(t,e)}var kg=!1,QD=new zD;function B0(){for(var t;t=ZD();){try{t.h.call(t.g)}catch(i){WD(i)}var e=Og;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}kg=!1}function Ed(t,e){Mn.call(this),this.h=t||1,this.g=e||Je,this.j=Vn(this.kb,this),this.l=Date.now()}function Fg(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Lg(t,e,i){if("function"==typeof t)i&&(t=Vn(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Vn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Je.setTimeout(t,e||0)}function Cd(t){t.g=Lg(function(){t.g=null,t.i&&(t.i=!1,Cd(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Yn(Ed,Mn),(Re=Ed.prototype).da=!1,Re.S=null,Re.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nn(this,"tick"),this.da&&(Fg(this),this.start()))}},Re.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Re.M=function(){Ed.Z.M.call(this),Fg(this),delete this.g};var YD=function(t){function e(i,a){var c=t.call(this)||this;return c.m=i,c.j=a,c.h=null,c.i=!1,c.g=null,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}S0(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:Cd(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Ns);function Jc(t){Ns.call(this),this.h=t,this.g={}}Yn(Jc,Ns);var Xc=[];function Dd(t,e,i,a){Array.isArray(i)||(i&&(Xc[0]=i.toString()),i=Xc);for(var c=0;c<i.length;c++){var f=F0(e,i[c],a||t.handleEvent,!1,t.h||t);if(!f)break;t.g[f.key]=f}}function H0(t){dd(t.g,function(e,i){this.g.hasOwnProperty(i)&&U0(e)},t),t.g={}}function uu(){this.g=!0}function cu(t,e,i,a){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var a=i[t];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var p=1;p<c.length;p++)c[p]=""}}}return wd(i)}catch(y){return e}}(t,i)+(a?" "+a:"")})}Jc.prototype.M=function(){Jc.Z.M.call(this),H0(this)},Jc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uu.prototype.Aa=function(){this.g=!1},uu.prototype.info=function(){};var lu={},G0=null;function el(){return G0=G0||new Mn}function jg(t){jn.call(this,lu.Ma,t)}function fu(t){var e=el();Nn(e,new jg(e,t))}function Bg(t,e){jn.call(this,lu.STAT_EVENT,t),this.stat=e}function Jn(t){var e=el();Nn(e,new Bg(e,t))}function $i(t,e){jn.call(this,lu.Na,t),this.size=e}function Wo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Je.setTimeout(function(){t()},e)}lu.Ma="serverreachability",Yn(jg,jn),lu.STAT_EVENT="statevent",Yn(Bg,jn),lu.Na="timingevent",Yn($i,jn);var Td={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Z0(){}function Hg(){}Z0.prototype.h=null;var tl,mo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ks(){jn.call(this,"d")}function qg(){jn.call(this,"c")}function nl(){}function rl(t,e,i,a){this.l=t,this.j=e,this.m=i,this.X=a||1,this.V=new Jc(this),this.P=XD,this.W=new Ed(t=gd?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Gg}function Gg(){this.i=null,this.g="",this.h=!1}Yn(ks,jn),Yn(qg,jn),Yn(nl,Z0),nl.prototype.g=function(){return new XMLHttpRequest},nl.prototype.i=function(){return{}},tl=new nl;var XD=45e3,il={},Id={};function $g(t,e,i){t.K=1,t.v=al(Ci(e)),t.s=i,t.U=!0,Zg(t,null)}function Zg(t,e){t.F=Date.now(),ol(t),t.A=Ci(t.v);var i=t.A,a=t.X;Array.isArray(a)||(a=[String(a)]),iT(i.h,"t",a),t.C=0,i=t.l.H,t.h=new Gg,t.g=cm(t.l,i?e:null,!t.s),0<t.O&&(t.L=new YD(Vn(t.Ia,t,t.g),t.O)),Dd(t.V,t.g,"readystatechange",t.gb),e=t.H?hd(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),fu(1),function(t,e,i,a,c,f){t.info(function(){if(t.g)if(f)for(var p="",y=f.split("&"),_=0;_<y.length;_++){var E=y[_].split("=");if(1<E.length){var C=E[0];E=E[1];var T=C.split("_");p=2<=T.length&&"type"==T[1]?p+(C+"=")+E+"&":p+(C+"=redacted&")}}else p=null;else p=f;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+e+"\n"+i+"\n"+p})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Fs(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function zg(t,e,i){for(var c,a=!0;!t.I&&t.C<i.length;){if((c=eT(t,i))==Id){4==e&&(t.o=4,Jn(14),a=!1),cu(t.j,t.m,null,"[Incomplete Response]");break}if(c==il){t.o=4,Jn(15),cu(t.j,t.m,i,"[Invalid Chunk]"),a=!1;break}cu(t.j,t.m,c,null),Wg(t,c)}Fs(t)&&c!=Id&&c!=il&&(t.h.g="",t.C=0),4!=e||0!=i.length||t.h.h||(t.o=1,Jn(16),a=!1),t.i=t.i&&a,a?0<i.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Yo(e),e.L=!0,Jn(11))):(cu(t.j,t.m,i,"[Invalid Chunked Response]"),Us(t),sl(t))}function eT(t,e){var i=t.C,a=e.indexOf("\n",i);return-1==a?Id:(i=Number(e.substring(i,a)),isNaN(i)?il:(a+=1)+i>e.length?Id:(e=e.substr(a,i),t.C=a+i,e))}function ol(t){t.Y=Date.now()+t.P,Ls(t,t.P)}function Ls(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Wo(Vn(t.eb,t),e)}function Sd(t){t.B&&(Je.clearTimeout(t.B),t.B=null)}function sl(t){0==t.l.G||t.I||om(t.l,t)}function Us(t){Sd(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Fg(t.W),H0(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Wg(t,e){try{var i=t.l;if(0!=i.G&&(i.g==t||Md(i.i,t)))if(i.I=t.N,!t.J&&Md(i.i,t)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(re){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=Wo(Vn(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<t.F))break e;pl(i),Hs(i)}Qo(i),Jn(18)}if(1>=J0(i.i)&&i.ka){try{i.ka()}catch(re){}i.ka=void 0}}else Jo(i,11)}else if((t.J||i.g==t)&&pl(i),!Cg(e))for(c=i.Ca.g.parse(e),e=0;e<c.length;e++){var f=c[e];if(i.U=f[0],f=f[1],2==i.G)if("c"==f[0]){i.J=f[1],i.la=f[2];var p=f[3];null!=p&&(i.ma=p,i.h.info("VER="+i.ma));var y=f[4];null!=y&&(i.za=y,i.h.info("SVER="+i.za));var _=f[5];null!=_&&"number"==typeof _&&0<_&&(i.K=a=1.5*_,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;var E=t.g;if(E){var C=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var T=a.i;!T.g&&(nn(C,"spdy")||nn(C,"quic")||nn(C,"h2"))&&(T.j=T.l,T.g=new Set,T.h&&(Nd(T,T.h),T.h=null))}if(a.D){var R=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(a.sa=R,Ut(a.F,a.D,R))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-t.F,i.h.info("Handshake RTT: "+i.O+"ms"));var N=t;if((a=i).oa=um(a,a.H?a.la:null,a.W),N.J){uT(a.i,N);var F=N,B=a.K;B&&F.setTimeout(B),F.B&&(Sd(F),ol(F)),a.g=N}else $s(a);0<i.l.length&&Do(i)}else"stop"!=f[0]&&"close"!=f[0]||Jo(i,7);else 3==i.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Jo(i,7):Co(i):"noop"!=f[0]&&i.j&&i.j.wa(f),i.A=0)}fu(4)}catch(re){}}function Kg(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(wg(t)||"string"==typeof t)UD(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var i=t.T();else if(t.R&&"function"==typeof t.R)i=void 0;else if(wg(t)||"string"==typeof t){i=[];for(var a=t.length,c=0;c<a;c++)i.push(c)}else for(c in i=[],a=0,t)i[a++]=c;c=(a=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(wg(t)){for(var e=[],i=t.length,a=0;a<i;a++)e.push(t[a]);return e}for(a in e=[],i=0,t)e[i++]=t[a];return e}(t)).length;for(var f=0;f<c;f++)e.call(void 0,a[f],i&&i[f],t)}}function Vs(t,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(t)if(t instanceof Vs)for(i=t.T(),a=0;a<i.length;a++)this.set(i[a],t.get(i[a]));else for(a in t)this.set(a,t[a])}function Ct(t){if(t.i!=t.g.length){for(var e=0,i=0;e<t.g.length;){var a=t.g[e];yo(t.h,a)&&(t.g[i++]=a),e++}t.g.length=i}if(t.i!=t.g.length){var c={};for(i=e=0;e<t.g.length;)yo(c,a=t.g[e])||(t.g[i++]=a,c[a]=1),e++;t.g.length=i}}function yo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Re=rl.prototype).setTimeout=function(t){this.P=t},Re.gb=function(t){t=t.target;var e=this.L;e&&3==wo(t)?e.l():this.Ia(t)},Re.Ia=function(t){try{if(t==this.g)e:{var e=wo(this.g),i=this.g.Da(),a=this.g.ba();if(!(3>e)&&(3!=e||gd||this.g&&(this.h.h||this.g.ga()||rb(this.g)))){this.I||4!=e||7==i||fu(8==i||0>=a?3:2),Sd(this);var c=this.g.ba();this.N=c;t:if(Fs(this)){var f=rb(this.g);t="";var p=f.length,y=4==wo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Us(this),sl(this);var _="";break t}this.h.i=new Je.TextDecoder}for(i=0;i<p;i++)this.h.h=!0,t+=this.h.i.decode(f[i],{stream:y&&i==p-1});f.splice(0,p),this.h.g+=t,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==c,function(t,e,i,a,c,f,p){t.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+e+"\n"+i+"\n"+f+" "+p})}(this.j,this.u,this.A,this.m,this.X,e,c),this.i){if(this.$&&!this.J){t:{if(this.g){var E,C=this.g;if((E=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cg(E)){var T=E;break t}}T=null}if(!(c=T)){this.i=!1,this.o=3,Jn(12),Us(this),sl(this);break e}cu(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wg(this,c)}this.U?(zg(this,e,_),gd&&this.i&&3==e&&(Dd(this.V,this.W,"tick",this.fb),this.W.start())):(cu(this.j,this.m,_,null),Wg(this,_)),4==e&&Us(this),this.i&&!this.I&&(4==e?om(this.l,this):(this.i=!1,ol(this)))}else 400==c&&0<_.indexOf("Unknown SID")?(this.o=3,Jn(12)):(this.o=0,Jn(13)),Us(this),sl(this)}}}catch(R){}},Re.fb=function(){if(this.g){var t=wo(this.g),e=this.g.ga();this.C<e.length&&(Sd(this),zg(this,t,e),this.i&&4!=t&&ol(this))}},Re.cancel=function(){this.I=!0,Us(this)},Re.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fu(3),Jn(17)),Us(this),this.o=2,sl(this)):Ls(this,this.Y-t)},(Re=Vs.prototype).R=function(){Ct(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Re.T=function(){return Ct(this),this.g.concat()},Re.get=function(t,e){return yo(this.h,t)?this.h[t]:e},Re.set=function(t,e){yo(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Re.forEach=function(t,e){for(var i=this.T(),a=0;a<i.length;a++){var c=i[a],f=this.get(c);t.call(e,f,c,this)}};var tT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _o(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof _o){this.g=void 0!==e?e:t.g,Qg(this,t.j),this.s=t.s,Ad(this,t.i),Rd(this,t.m),this.l=t.l,e=t.h;var i=new cl;i.i=e.i,e.g&&(i.g=new Vs(e.g),i.h=e.h),Yg(this,i),this.o=t.o}else t&&(i=String(t).match(tT))?(this.g=!!e,Qg(this,i[1]||"",!0),this.s=ul(i[2]||""),Ad(this,i[3]||"",!0),Rd(this,i[4]),this.l=ul(i[5]||"",!0),Yg(this,i[6]||"",!0),this.o=ul(i[7]||"")):(this.g=!!e,this.h=new cl(null,this.g))}function Ci(t){return new _o(t)}function Qg(t,e,i){t.j=i?ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ad(t,e,i){t.i=i?ul(e,!0):e}function Rd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Yg(t,e,i){e instanceof cl?(t.h=e,function(t,e){e&&!t.j&&(Ko(t),t.i=null,t.g.forEach(function(i,a){var c=a.toLowerCase();a!=c&&(Y0(this,a),iT(this,c,i))},t)),t.j=e}(t.h,t.g)):(i||(e=bo(e,Q0)),t.h=new cl(e,t.g))}function Ut(t,e,i){t.h.set(e,i)}function al(t){return Ut(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bo(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,Jg),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jg(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_o.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bo(e,Xg,!0),":");var i=this.i;return(i||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(bo(e,Xg,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&t.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&t.push("/"),t.push(bo(i,"/"==i.charAt(0)?K0:W0,!0))),(i=this.h.toString())&&t.push("?",i),(i=this.o)&&t.push("#",bo(i,rT)),t.join("")};var Xg=/[#\/\?@]/g,W0=/[#\?:]/g,K0=/[#\?]/g,Q0=/[#\?@]/g,rT=/#/g;function cl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ko(t){t.g||(t.g=new Vs,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var a=t[i].indexOf("="),c=null;if(0<=a){var f=t[i].substring(0,a);c=t[i].substring(a+1)}else f=t[i];e(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function Y0(t,e){Ko(t),e=js(t,e),yo(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,yo((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ct(t)))}function em(t,e){return Ko(t),e=js(t,e),yo(t.g.h,e)}function iT(t,e,i){Y0(t,e),0<i.length&&(t.i=null,t.g.set(js(t,e),M0(i)),t.h+=i.length)}function js(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Re=cl.prototype).add=function(t,e){Ko(this),this.i=null,t=js(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},Re.forEach=function(t,e){Ko(this),this.g.forEach(function(i,a){UD(i,function(c){t.call(e,c,a,this)},this)},this)},Re.T=function(){Ko(this);for(var t=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var c=t[a],f=0;f<c.length;f++)i.push(e[a]);return i},Re.R=function(t){Ko(this);var e=[];if("string"==typeof t)em(this,t)&&(e=VD(e,this.g.get(js(this,t))));else{t=this.g.R();for(var i=0;i<t.length;i++)e=VD(e,t[i])}return e},Re.set=function(t,e){return Ko(this),this.i=null,em(this,t=js(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Re.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],c=encodeURIComponent(String(a));a=this.R(a);for(var f=0;f<a.length;f++){var p=c;""!==a[f]&&(p+="="+encodeURIComponent(String(a[f]))),t.push(p)}}return this.i=t.join("&")};var sT=function(e,i){this.h=e,this.g=i};function aT(t){this.l=t||i1,t=Je.PerformanceNavigationTiming?0<(t=Je.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Je.g&&Je.g.Ea&&Je.g.Ea()&&Je.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var i1=10;function xd(t){return!!t.h||!!t.g&&t.g.size>=t.j}function J0(t){return t.h?1:t.g?t.g.size:0}function Md(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Nd(t,e){t.g?t.g.add(e):t.h=e}function uT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function zr(t){var e,i;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var a=t.i;try{for(var c=FD(t.g.values()),f=c.next();!f.done;f=c.next())a=a.concat(f.value.D)}catch(y){e={error:y}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return a}return M0(t.i)}function X0(){}function o1(){this.g=new X0}function s1(t,e,i){var a=i||"";try{Kg(t,function(c,f){var p=c;ru(c)&&(p=wd(c)),e.push(a+f+"="+encodeURIComponent(p))})}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}function ll(t,e,i,a,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(a)}catch(f){}}function du(t){this.l=t.$b||null,this.j=t.ib||!1}function Pd(t,e){Mn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=tb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aT.prototype.cancel=function(){var t,e;if(this.i=zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=FD(this.g.values()),a=i.next();!a.done;a=i.next())a.value.cancel()}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.g.clear()}},X0.prototype.stringify=function(t){return Je.JSON.stringify(t,void 0)},X0.prototype.parse=function(t){return Je.JSON.parse(t,void 0)},Yn(du,Z0),du.prototype.g=function(){return new Pd(this.l,this.j)},du.prototype.i=function(t){return function(){return t}}({}),Yn(Pd,Mn);var tb=0;function tm(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function hu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fl(t)}function fl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Re=Pd.prototype).open=function(t,e){if(this.readyState!=tb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fl(this)},Re.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Je).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hu(this)),this.readyState=tb},Re.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fl(this)),this.g&&(this.readyState=3,fl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Je.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tm(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Re.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hu(this):fl(this),3==this.readyState&&tm(this)}},Re.Ua=function(t){this.g&&(this.response=this.responseText=t,hu(this))},Re.Ta=function(t){this.g&&(this.response=t,hu(this))},Re.ha=function(){this.g&&hu(this)},Re.setRequestHeader=function(t,e){this.v.append(t,e)},Re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Re.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),i=e.next();!i.done;)t.push((i=i.value)[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(Pd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var nm=Je.JSON.parse;function vn(t){Mn.call(this),this.headers=new Vs,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nb,this.K=this.L=!1}Yn(vn,Mn);var nb="",cT=/^https?$/i,lT=["POST","PUT"];function dT(t){return"content-type"==t.toLowerCase()}function dl(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Bs(t),_r(t)}function Bs(t){t.D||(t.D=!0,Nn(t,"complete"),Nn(t,"error"))}function rm(t){if(t.h&&void 0!==nu&&(!t.C[1]||4!=wo(t)||2!=t.ba()))if(t.v&&4==wo(t))Lg(t.Fa,0,t);else if(Nn(t,"readystatechange"),4==wo(t)){t.h=!1;try{var a,e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(a=i)){var c;if(c=0===e){var f=String(t.H).match(tT)[1]||null;if(!f&&Je.self&&Je.self.location){var p=Je.self.location.protocol;f=p.substr(0,p.length-1)}c=!cT.test(f?f.toLowerCase():"")}a=c}if(a)Nn(t,"complete"),Nn(t,"success");else{t.m=6;try{var y=2<wo(t)?t.g.statusText:""}catch(_){y=""}t.j=y+" ["+t.ba()+"]",Bs(t)}}finally{_r(t)}}}function _r(t,e){if(t.g){pu(t);var i=t.g,a=t.C[0]?bg:null;t.g=null,t.C=null,e||Nn(t,"ready");try{i.onreadystatechange=a}catch(c){}}}function pu(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Je.clearTimeout(t.A),t.A=null)}function wo(t){return t.g?t.g.readyState:0}function rb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case nb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wr(t,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(t){var e="";return dd(t,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):Ut(t,e,i))}function Eo(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function Bn(t){this.za=0,this.l=[],this.h=new uu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Eo("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Eo("baseRetryDelayMs",5e3,t),this.$a=Eo("retryDelaySeedMs",1e4,t),this.Ya=Eo("forwardChannelMaxRetries",2,t),this.ra=Eo("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new aT(t&&t.concurrentRequestLimit),this.Ca=new o1,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Co(t){if(Nr(t),3==t.G){var e=t.V++,i=Ci(t.F);Ut(i,"SID",t.J),Ut(i,"RID",e),Ut(i,"TYPE","terminate"),Zi(t,i),(e=new rl(t,t.h,e,void 0)).K=2,e.v=al(Ci(i)),i=!1,Je.navigator&&Je.navigator.sendBeacon&&(i=Je.navigator.sendBeacon(e.v.toString(),"")),!i&&Je.Image&&((new Image).src=e.v,i=!0),i||(e.g=cm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ol(e)}am(t)}function Hs(t){t.g&&(Yo(t),t.g.cancel(),t.g=null)}function Nr(t){Hs(t),t.u&&(Je.clearTimeout(t.u),t.u=null),pl(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Je.clearTimeout(t.m),t.m=null)}function hl(t,e){t.l.push(new sT(t.Za++,e)),3==t.G&&Do(t)}function Do(t){xd(t.i)||t.m||(t.m=!0,Zr(t.Ha,t),t.C=0)}function qs(t,e){var i;i=e?e.m:t.V++;var a=Ci(t.F);Ut(a,"SID",t.J),Ut(a,"RID",i),Ut(a,"AID",t.U),Zi(t,a),t.o&&t.s&&Wr(a,t.o,t.s),i=new rl(t,t.h,i,t.C+1),null===t.o&&(i.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Gs(t,i,1e3),i.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Nd(t.i,i),$g(i,a,e)}function Zi(t,e){t.j&&Kg({},function(i,a){Ut(e,a,i)})}function Gs(t,e,i){i=Math.min(t.l.length,i);var a=t.j?Vn(t.j.Oa,t.j,t):null;e:for(var c=t.l,f=-1;;){var p=["count="+i];-1==f?0<i?p.push("ofs="+(f=c[0].h)):f=0:p.push("ofs="+f);for(var y=!0,_=0;_<i;_++){var E=c[_].h,C=c[_].g;if(0>(E-=f))f=Math.max(0,c[_].h-100),y=!1;else try{s1(C,p,"req"+E+"_")}catch(T){a&&a(C)}}if(y){a=p.join("&");break e}}return t=t.l.splice(0,i),e.D=t,a}function $s(t){t.g||t.u||(t.Y=1,Zr(t.Ga,t),t.A=0)}function Qo(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Wo(Vn(t.Ga,t),sm(t,t.A)),t.A++,0))}function Yo(t){null!=t.B&&(Je.clearTimeout(t.B),t.B=null)}function Zs(t){t.g=new rl(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ci(t.oa);Ut(e,"RID","rpc"),Ut(e,"SID",t.J),Ut(e,"CI",t.N?"0":"1"),Ut(e,"AID",t.U),Zi(t,e),Ut(e,"TYPE","xmlhttp"),t.o&&t.s&&Wr(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var i=t.g;t=t.la,i.K=1,i.v=al(Ci(e)),i.s=null,i.U=!0,Zg(i,t)}function pl(t){null!=t.v&&(Je.clearTimeout(t.v),t.v=null)}function om(t,e){var i=null;if(t.g==e){pl(t),Yo(t),t.g=null;var a=2}else{if(!Md(t.i,e))return;i=e.D,uT(t.i,e),a=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var c=t.C;Nn(a=el(),new $i(a,i,e,c)),Do(t)}else $s(t);else if(3==(c=e.o)||0==c&&0<t.I||!(1==a&&function(t,e){return!(J0(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Wo(Vn(t.Ha,t,e),sm(t,t.C)),t.C++,0)))}(t,e)||2==a&&Qo(t)))switch(i&&0<i.length&&(e=t.i,e.i=e.i.concat(i)),c){case 1:Jo(t,5);break;case 4:Jo(t,10);break;case 3:Jo(t,6);break;default:Jo(t,2)}}function sm(t,e){var i=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(i*=2),i*e}function Jo(t,e){if(t.h.info("Error code "+e),2==e){var i=null;t.j&&(i=null);var a=Vn(t.jb,t);i||(i=new _o("//www.google.com/images/cleardot.gif"),Je.location&&"http"==Je.location.protocol||Qg(i,"https"),al(i)),function(t,e){var i=new uu;if(Je.Image){var a=new Image;a.onload=iu(ll,i,a,"TestLoadImage: loaded",!0,e),a.onerror=iu(ll,i,a,"TestLoadImage: error",!1,e),a.onabort=iu(ll,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=iu(ll,i,a,"TestLoadImage: timeout",!1,e),Je.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=t}else e(!1)}(i.toString(),a)}else Jn(2);t.G=0,t.j&&t.j.va(e),am(t),Nr(t)}function am(t){t.G=0,t.I=-1,t.j&&((0!=zr(t.i).length||0!=t.l.length)&&(t.i.i.length=0,M0(t.l),t.l.length=0),t.j.ua())}function um(t,e,i){var a=function(t){return t instanceof _o?Ci(t):new _o(t,void 0)}(i);if(""!=a.i)e&&Ad(a,e+"."+a.i),Rd(a,a.m);else{var c=Je.location;a=function(t,e,i,a){var c=new _o(null,void 0);return t&&Qg(c,t),e&&Ad(c,e),i&&Rd(c,i),a&&(c.l=a),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,i)}return t.aa&&dd(t.aa,function(f,p){Ut(a,p,f)}),i=t.sa,(e=t.D)&&i&&Ut(a,e,i),Ut(a,"VER",t.ma),Zi(t,a),a}function cm(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vn(i&&t.Ba&&!t.qa?new du({ib:!0}):t.qa)).L=t.H,e}function lm(){}function gl(){if($o&&!(10<=Number(Ig)))throw Error("Environmental error: no available transport.")}function Pr(t,e){Mn.call(this),this.g=new Bn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Cg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cg(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new zs(this)}function fm(t){ks.call(this);var e=t.__sm__;if(e){e:{for(var i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ib(){qg.call(this),this.status=1}function zs(t){this.g=t}(Re=vn.prototype).ea=function(t,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tl.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:tl),this.g.onreadystatechange=Vn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(f){return void dl(this,f)}t=i||"";var c=new Vs(this.headers);a&&Kg(a,function(f,p){c.set(p,f)}),a=function(t){e:{for(var e=dT,i=t.length,a="string"==typeof t?t.split(""):t,c=0;c<i;c++)if(c in a&&e.call(void 0,a[c],c,t)){e=c;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(c.T()),i=Je.FormData&&t instanceof Je.FormData,!(0<=LD(lT,e))||a||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(f,p){this.g.setRequestHeader(p,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pu(this),0<this.B&&((this.K=function(t){return $o&&qD()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vn(this.pa,this)):this.A=Lg(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(f){dl(this,f)}},Re.pa=function(){void 0!==nu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nn(this,"timeout"),this.abort(8))},Re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nn(this,"complete"),Nn(this,"abort"),_r(this))},Re.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_r(this,!0)),vn.Z.M.call(this)},Re.Fa=function(){this.s||(this.F||this.v||this.l?rm(this):this.cb())},Re.cb=function(){rm(this)},Re.ba=function(){try{return 2<wo(this)?this.g.status:-1}catch(t){return-1}},Re.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},Re.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nm(e)}},Re.Da=function(){return this.m},Re.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Re=Bn.prototype).ma=8,Re.G=1,Re.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Re.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new rl(this,this.h,t,void 0),i=this.s;if(this.P&&(i?po(i=hd(i),this.P):i=this.P),null===this.o&&(e.H=i),this.ja)e:{for(var a=0,c=0;c<this.l.length;c++){var f=this.l[c];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(a+=f)){a=c;break e}if(4096===a||c===this.l.length-1){a=c+1;break e}}a=1e3}else a=1e3;a=Gs(this,e,a),Ut(c=Ci(this.F),"RID",t),Ut(c,"CVER",22),this.D&&Ut(c,"X-HTTP-Session-Id",this.D),Zi(this,c),this.o&&i&&Wr(c,this.o,i),Nd(this.i,e),this.Ra&&Ut(c,"TYPE","init"),this.ja?(Ut(c,"$req",a),Ut(c,"SID","null"),e.$=!0,$g(e,c,null)):$g(e,c,a),this.G=2}}else 3==this.G&&(t?qs(this,t):0==this.l.length||xd(this.i)||qs(this))},Re.Ga=function(){if(this.u=null,Zs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Wo(Vn(this.bb,this),t)}},Re.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jn(10),Hs(this),Zs(this))},Re.ab=function(){null!=this.v&&(this.v=null,Hs(this),Qo(this),Jn(19))},Re.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Jn(2)):(this.h.info("Failed to ping google.com"),Jn(1))},(Re=lm.prototype).xa=function(){},Re.wa=function(){},Re.va=function(){},Re.ua=function(){},Re.Oa=function(){},gl.prototype.g=function(t,e){return new Pr(t,e)},Yn(Pr,Mn),Pr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Zr(Vn(t.hb,t,e))),Jn(0),t.W=e,t.aa=i||{},t.N=t.X,t.F=um(t,null,t.W),Do(t)},Pr.prototype.close=function(){Co(this.g)},Pr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,hl(this.g,e)}else this.v?((e={}).__data__=wd(t),hl(this.g,e)):hl(this.g,t)},Pr.prototype.M=function(){this.g.j=null,delete this.j,Co(this.g),delete this.g,Pr.Z.M.call(this)},Yn(fm,ks),Yn(ib,qg),Yn(zs,lm),zs.prototype.xa=function(){Nn(this.g,"a")},zs.prototype.wa=function(t){Nn(this.g,new fm(t))},zs.prototype.va=function(t){Nn(this.g,new ib(t))},zs.prototype.ua=function(){Nn(this.g,"b")},gl.prototype.createWebChannel=gl.prototype.g,Pr.prototype.send=Pr.prototype.u,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,Td.NO_ERROR=0,Td.TIMEOUT=8,Td.HTTP_ERROR=6,$0.COMPLETE="complete",Hg.EventType=mo,mo.OPEN="a",mo.CLOSE="b",mo.ERROR="c",mo.MESSAGE="d",Mn.prototype.listen=Mn.prototype.N,vn.prototype.listenOnce=vn.prototype.O,vn.prototype.getLastError=vn.prototype.La,vn.prototype.getLastErrorCode=vn.prototype.Da,vn.prototype.getStatus=vn.prototype.ba,vn.prototype.getResponseJson=vn.prototype.Qa,vn.prototype.getResponseText=vn.prototype.ga,vn.prototype.send=vn.prototype.ea;var hm=Td,sb=$0,pm=lu,gm_PROXY=10,gm_NOPROXY=11,mm=du,ml=Hg,ab=vn,br=function(){function t(e,i){var a=this;this.previousValue=e,i&&(i.sequenceNumberHandler=function(c){return a.t(c)},this.i=function(c){return i.writeSequenceNumber(c)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();br.o=-1;var ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ye=function(t){function e(i,a){var c=this;return(c=t.call(this,a)||this).code=i,c.message=a,c.name="FirebaseError",c.toString=function(){return c.name+": [code="+c.code+"]: "+c.message},c}return(0,S.ZT)(e,t),e}(Error),zi=new fo.Yd("@firebase/firestore");function ym(){return zi.logLevel}function Ce(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(zi.logLevel<=fo.in.DEBUG){var a=e.map(vl);zi.debug.apply(zi,(0,S.ev)(["Firestore (8.10.0): "+t],a))}}function _n(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(zi.logLevel<=fo.in.ERROR){var a=e.map(vl);zi.error.apply(zi,(0,S.ev)(["Firestore (8.10.0): "+t],a))}}function yl(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(zi.logLevel<=fo.in.WARN){var a=e.map(vl);zi.warn.apply(zi,(0,S.ev)(["Firestore (8.10.0): "+t],a))}}function vl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function Oe(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw _n(e),new Error(e)}function Qe(t,e){t||Oe()}function Te(t,e){return t}function u1(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(var a=0;a<t;a++)i[a]=Math.floor(256*Math.random());return i}var hT=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,a="";a.length<20;)for(var c=u1(40),f=0;f<c.length;++f)a.length<20&&c[f]<i&&(a+=e.charAt(c[f]%e.length));return a},t}();function gt(t,e){return t<e?-1:t>e?1:0}function Ws(t,e,i){return t.length===e.length&&t.every(function(a,c){return i(a,e[c])})}function pT(t){return t+"\0"}var wr=function(){function t(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ye(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ye(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new ye(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var i=Math.floor(e/1e3);return new t(i,Math.floor(1e6*(e-1e3*i)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rt=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new wr(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function ub(t){var e=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Xo(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function cb(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var vm=function(){function t(e,i,a){void 0===i?i=0:i>e.length&&Oe(),void 0===a?a=e.length-i:a>e.length-i&&Oe(),this.segments=e,this.offset=i,this.len=a}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(a){i.push(a)}):i.push(e),this.construct(i)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.forEach=function(e){for(var i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,i){for(var a=Math.min(e.length,i.length),c=0;c<a;c++){var f=e.get(c),p=i.get(c);if(f<p)return-1;if(f>p)return 1}return e.length<i.length?-1:e.length>i.length?1:0},t}(),yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,S.ZT)(e,t),e.prototype.construct=function(i,a,c){return new e(i,a,c)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var c=[],f=0,p=i;f<p.length;f++){var y=p[f];if(y.indexOf("//")>=0)throw new ye(ee.INVALID_ARGUMENT,"Invalid segment ("+y+"). Paths must not contain // in them.");c.push.apply(c,y.split("/").filter(function(_){return _.length>0}))}return new e(c)},e.emptyPath=function(){return new e([])},e}(vm),gT=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,S.ZT)(e,t),e.prototype.construct=function(i,a,c){return new e(i,a,c)},e.isValidIdentifier=function(i){return gT.test(i)},e.prototype.canonicalString=function(){return this.toArray().map(function(i){return i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(i)||(i="`"+i+"`"),i}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(i){for(var a=[],c="",f=0,p=function(){if(0===c.length)throw new ye(ee.INVALID_ARGUMENT,"Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");a.push(c),c=""},y=!1;f<i.length;){var _=i[f];if("\\"===_){if(f+1===i.length)throw new ye(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+i);var E=i[f+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new ye(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);c+=E,f+=2}else"`"===_?(y=!y,f++):"."!==_||y?(c+=_,f++):(p(),f++)}if(p(),y)throw new ye(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new e(a)},e.emptyPath=function(){return new e([])},e}(vm),mu=function(){function t(e){this.fields=e,e.sort(Kr.comparator)}return t.prototype.covers=function(e){for(var i=0,a=this.fields;i<a.length;i++)if(a[i].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Ws(this.fields,e.fields,function(i,a){return i.isEqual(a)})},t}(),cr=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(i){for(var a="",c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(e){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return gt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();cr.EMPTY_BYTE_STRING=new cr("");var mT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(Qe(!!t),"string"==typeof t){var e=0,i=mT.exec(t);if(Qe(!!i),i[1]){var a=i[1];a=(a+"000000000").substr(0,9),e=Number(a)}var c=new Date(t);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ks(t){return"string"==typeof t?cr.fromBase64String(t):cr.fromUint8Array(t)}function _m(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function bm(t){var e=t.mapValue.fields.__previous_value__;return _m(e)?bm(e):e}function yu(t){var e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}function To(t){return null==t}function wm(t){return 0===t&&1/t==-1/0}function Od(t){return"number"==typeof t&&Number.isInteger(t)&&!wm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ue=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(yt.fromString(e))},t.fromName=function(e){return new t(yt.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return null!==e&&0===yt.comparator(this.path,e.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,i){return yt.comparator(e.path,i.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new yt(e.slice()))},t}();function vu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_m(t)?4:10:Oe()}function Er(t,e){var c,i=vu(t);if(i!==vu(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;var f=es(a.timestampValue),p=es(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return c=e,Ks(t.bytesValue).isEqual(Ks(c.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,c){return bn(a.geoPointValue.latitude)===bn(c.geoPointValue.latitude)&&bn(a.geoPointValue.longitude)===bn(c.geoPointValue.longitude)}(t,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return bn(a.integerValue)===bn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){var f=bn(a.doubleValue),p=bn(c.doubleValue);return f===p?wm(f)===wm(p):isNaN(f)&&isNaN(p)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:return function(a,c){var f=a.mapValue.fields||{},p=c.mapValue.fields||{};if(ub(f)!==ub(p))return!1;for(var y in f)if(f.hasOwnProperty(y)&&(void 0===p[y]||!Er(f[y],p[y])))return!1;return!0}(t,e);default:return Oe()}}function _l(t,e){return void 0!==(t.values||[]).find(function(i){return Er(i,e)})}function ts(t,e){var c,f,p,y,i=vu(t),a=vu(e);if(i!==a)return gt(i,a);switch(i){case 0:return 0;case 1:return gt(t.booleanValue,e.booleanValue);case 2:return f=e,(p=bn((c=t).integerValue||c.doubleValue))<(y=bn(f.integerValue||f.doubleValue))?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1;case 3:return kd(t.timestampValue,e.timestampValue);case 4:return kd(yu(t),yu(e));case 5:return gt(t.stringValue,e.stringValue);case 6:return function(c,f){var p=Ks(c),y=Ks(f);return p.compareTo(y)}(t.bytesValue,e.bytesValue);case 7:return function(c,f){for(var p=c.split("/"),y=f.split("/"),_=0;_<p.length&&_<y.length;_++){var E=gt(p[_],y[_]);if(0!==E)return E}return gt(p.length,y.length)}(t.referenceValue,e.referenceValue);case 8:return function(c,f){var p=gt(bn(c.latitude),bn(f.latitude));return 0!==p?p:gt(bn(c.longitude),bn(f.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(c,f){for(var p=c.values||[],y=f.values||[],_=0;_<p.length&&_<y.length;++_){var E=ts(p[_],y[_]);if(E)return E}return gt(p.length,y.length)}(t.arrayValue,e.arrayValue);case 10:return function(c,f){var p=c.fields||{},y=Object.keys(p),_=f.fields||{},E=Object.keys(_);y.sort(),E.sort();for(var C=0;C<y.length&&C<E.length;++C){var T=gt(y[C],E[C]);if(0!==T)return T;var R=ts(p[y[C]],_[E[C]]);if(0!==R)return R}return gt(y.length,E.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function kd(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return gt(t,e);var i=es(t),a=es(e),c=gt(i.seconds,a.seconds);return 0!==c?c:gt(i.nanos,a.nanos)}function Em(t){return bl(t)}function bl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(c=es(t.timestampValue)).seconds+","+c.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?Ks(t.bytesValue).toBase64():"referenceValue"in t?Ue.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(a){for(var c="[",f=!0,p=0,y=a.values||[];p<y.length;p++)f?f=!1:c+=",",c+=bl(y[p]);return c+"]"}(t.arrayValue):"mapValue"in t?function(a){for(var c="{",f=!0,p=0,y=Object.keys(a.fields||{}).sort();p<y.length;p++){var _=y[p];f?f=!1:c+=",",c+=_+":"+bl(a.fields[_])}return c+"}"}(t.mapValue):Oe();var c,e}function _u(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Fd(t){return!!t&&"integerValue"in t}function lb(t){return!!t&&"arrayValue"in t}function fb(t){return!!t&&"nullValue"in t}function Cm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wl(t){return!!t&&"mapValue"in t}function El(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,function(c,f){return e.mapValue.fields[c]=El(f)}),e}if(t.arrayValue){for(var i={arrayValue:{values:[]}},a=0;a<(t.arrayValue.values||[]).length;++a)i.arrayValue.values[a]=El(t.arrayValue.values[a]);return i}return Object.assign({},t)}var Cr=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var i=this.value,a=0;a<e.length-1;++a)if(!wl(i=(i.mapValue.fields||{})[e.get(a)]))return null;return(i=(i.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(i)},t.prototype.setAll=function(e){var i=this,a=Kr.emptyPath(),c={},f=[];e.forEach(function(y,_){if(!a.isImmediateParentOf(_)){var E=i.getFieldsMap(a);i.applyChanges(E,c,f),c={},f=[],a=_.popLast()}y?c[_.lastSegment()]=El(y):f.push(_.lastSegment())});var p=this.getFieldsMap(a);this.applyChanges(p,c,f)},t.prototype.delete=function(e){var i=this.field(e.popLast());wl(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Er(this.value,e.value)},t.prototype.getFieldsMap=function(e){var i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(var a=0;a<e.length;++a){var c=i.mapValue.fields[e.get(a)];wl(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=c),i=c}return i.mapValue.fields},t.prototype.applyChanges=function(e,i,a){Xo(i,function(y,_){return e[y]=_});for(var c=0,f=a;c<f.length;c++)delete e[f[c]]},t.prototype.clone=function(){return new t(El(this.value))},t}();function Ld(t){var e=[];return Xo(t.fields,function(i,a){var c=new Kr([i]);if(wl(a)){var f=Ld(a.mapValue).fields;if(0===f.length)e.push(c);else for(var p=0,y=f;p<y.length;p++)e.push(c.child(y[p]))}else e.push(c)}),new mu(e)}var Pn=function(){function t(e,i,a,c,f){this.key=e,this.documentType=i,this.version=a,this.data=c,this.documentState=f}return t.newInvalidDocument=function(e){return new t(e,0,rt.min(),Cr.empty(),0)},t.newFoundDocument=function(e,i,a){return new t(e,1,i,a,0)},t.newNoDocument=function(e,i){return new t(e,2,i,Cr.empty(),0)},t.newUnknownDocument=function(e,i){return new t(e,3,i,Cr.empty(),2)},t.prototype.convertToFoundDocument=function(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Dm=function(t,e,i,a,c,f,p){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===f&&(f=null),void 0===p&&(p=null),this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=f,this.endAt=p,this.h=null};function Ud(t,e,i,a,c,f,p){return void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===f&&(f=null),void 0===p&&(p=null),new Dm(t,e,i,a,c,f,p)}function bu(t){var e=Te(t);if(null===e.h){var i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(function(a){return(c=a).field.canonicalString()+c.op.toString()+Em(c.value);var c}).join(","),i+="|ob:",i+=e.orderBy.map(function(a){return(c=a).field.canonicalString()+c.dir;var c}).join(","),To(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=Dl(e.startAt)),e.endAt&&(i+="|ub:",i+=Dl(e.endAt)),e.h=i}return e.h}function Vd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var i=0;i<t.orderBy.length;i++)if(!gb(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var a=0;a<t.filters.length;a++)if((c=t.filters[a]).op!==(f=e.filters[a]).op||!c.field.isEqual(f.field)||!Er(c.value,f.value))return!1;var c,f;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rm(t.startAt,e.startAt)&&Rm(t.endAt,e.endAt)}function Cl(t){return Ue.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Dr=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).field=i,f.op=a,f.value=c,f}return(0,S.ZT)(e,t),e.create=function(i,a,c){return i.isKeyField()?"in"===a||"not-in"===a?this.l(i,a,c):new Tm(i,a,c):"array-contains"===a?new vT(i,c):"in"===a?new Im(i,c):"not-in"===a?new Sm(i,c):"array-contains-any"===a?new pb(i,c):new e(i,a,c)},e.l=function(i,a,c){return"in"===a?new db(i,c):new yT(i,c)},e.prototype.matches=function(i){var a=i.data.field(this.field);return"!="===this.op?null!==a&&this.m(ts(a,this.value)):null!==a&&vu(this.value)===vu(a)&&this.m(ts(a,this.value))},e.prototype.m=function(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Oe()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Tm=function(t){function e(i,a,c){var f=this;return(f=t.call(this,i,a,c)||this).key=Ue.fromName(c.referenceValue),f}return(0,S.ZT)(e,t),e.prototype.matches=function(i){var a=Ue.comparator(i.key,this.key);return this.m(a)},e}(Dr),db=function(t){function e(i,a){var c=this;return(c=t.call(this,i,"in",a)||this).keys=hb(0,a),c}return(0,S.ZT)(e,t),e.prototype.matches=function(i){return this.keys.some(function(a){return a.isEqual(i.key)})},e}(Dr),yT=function(t){function e(i,a){var c=this;return(c=t.call(this,i,"not-in",a)||this).keys=hb(0,a),c}return(0,S.ZT)(e,t),e.prototype.matches=function(i){return!this.keys.some(function(a){return a.isEqual(i.key)})},e}(Dr);function hb(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(function(a){return Ue.fromName(a.referenceValue)})}var vT=function(t){function e(i,a){return t.call(this,i,"array-contains",a)||this}return(0,S.ZT)(e,t),e.prototype.matches=function(i){var a=i.data.field(this.field);return lb(a)&&_l(a.arrayValue,this.value)},e}(Dr),Im=function(t){function e(i,a){return t.call(this,i,"in",a)||this}return(0,S.ZT)(e,t),e.prototype.matches=function(i){var a=i.data.field(this.field);return null!==a&&_l(this.value.arrayValue,a)},e}(Dr),Sm=function(t){function e(i,a){return t.call(this,i,"not-in",a)||this}return(0,S.ZT)(e,t),e.prototype.matches=function(i){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var a=i.data.field(this.field);return null!==a&&!_l(this.value.arrayValue,a)},e}(Dr),pb=function(t){function e(i,a){return t.call(this,i,"array-contains-any",a)||this}return(0,S.ZT)(e,t),e.prototype.matches=function(i){var a=this,c=i.data.field(this.field);return!(!lb(c)||!c.arrayValue.values)&&c.arrayValue.values.some(function(f){return _l(a.value.arrayValue,f)})},e}(Dr),wu=function(t,e){this.position=t,this.before=e};function Dl(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Em(e)}).join(",")}var Qs=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function gb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Am(t,e,i){for(var a=0,c=0;c<t.position.length;c++){var f=e[c],p=t.position[c];if(a=f.field.isKeyField()?Ue.comparator(Ue.fromName(p.referenceValue),i.key):ts(p,i.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return t.before?a<=0:a<0}function Rm(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var i=0;i<t.position.length;i++)if(!Er(t.position[i],e.position[i]))return!1;return!0}var Wi=function(t,e,i,a,c,f,p,y){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===f&&(f="F"),void 0===p&&(p=null),void 0===y&&(y=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=y,this.p=null,this.T=null};function _T(t,e,i,a,c,f,p,y){return new Wi(t,e,i,a,c,f,p,y)}function Eu(t){return new Wi(t)}function jd(t){return!To(t.limit)&&"F"===t.limitType}function Tl(t){return!To(t.limit)&&"L"===t.limitType}function xm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ln(t){for(var e=0,i=t.filters;e<i.length;e++){var a=i[e];if(a.g())return a.field}return null}function Bd(t){return null!==t.collectionGroup}function Cu(t){var e=Te(t);if(null===e.p){e.p=[];var i=ln(e),a=xm(e);if(null!==i&&null===a)i.isKeyField()||e.p.push(new Qs(i)),e.p.push(new Qs(Kr.keyField(),"asc"));else{for(var c=!1,f=0,p=e.explicitOrderBy;f<p.length;f++){var y=p[f];e.p.push(y),y.field.isKeyField()&&(c=!0)}if(!c){var _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Qs(Kr.keyField(),_))}}}return e.p}function Qr(t){var e=Te(t);if(!e.T)if("F"===e.limitType)e.T=Ud(e.path,e.collectionGroup,Cu(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var i=[],a=0,c=Cu(e);a<c.length;a++){var f=c[a];i.push(new Qs(f.field,"desc"===f.dir?"asc":"desc"))}var y=e.endAt?new wu(e.endAt.position,!e.endAt.before):null,_=e.startAt?new wu(e.startAt.position,!e.startAt.before):null;e.T=Ud(e.path,e.collectionGroup,i,e.filters,e.limit,y,_)}return e.T}function Mm(t,e,i){return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Il(t,e){return Vd(Qr(t),Qr(e))&&t.limitType===e.limitType}function Nm(t){return bu(Qr(t))+"|lt:"+t.limitType}function Hd(t){return"Query(target="+(i=(e=Qr(t)).path.canonicalString(),null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=", filters: ["+e.filters.map(function(a){return(c=a).field.canonicalString()+" "+c.op+" "+Em(c.value);var c}).join(", ")+"]"),To(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=", orderBy: ["+e.orderBy.map(function(a){return(c=a).field.canonicalString()+" ("+c.dir+")";var c}).join(", ")+"]"),e.startAt&&(i+=", startAt: "+Dl(e.startAt)),e.endAt&&(i+=", endAt: "+Dl(e.endAt)),"Target("+i+"); limitType=")+t.limitType+")";var e,i}function Ki(t,e){return e.isFoundDocument()&&(c=(a=e).key.path,null!==(i=t).collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ue.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c))&&function(i,a){for(var c=0,f=i.explicitOrderBy;c<f.length;c++){var p=f[c];if(!p.field.isKeyField()&&null===a.data.field(p.field))return!1}return!0}(t,e)&&function(i,a){for(var c=0,f=i.filters;c<f.length;c++)if(!f[c].matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!Am(i.startAt,Cu(i),a)||i.endAt&&Am(i.endAt,Cu(i),a))}(t,e);var i,a,c}function mb(t){return function(e,i){for(var a=!1,c=0,f=Cu(t);c<f.length;c++){var p=f[c],y=bT(p,e,i);if(0!==y)return y;a=a||p.field.isKeyField()}return 0}}function bT(t,e,i){var c,p,y,_,a=t.field.isKeyField()?Ue.comparator(e.key,i.key):(p=i,y=e.data.field(c=t.field),_=p.data.field(c),null!==y&&null!==_?ts(y,_):Oe());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return Oe()}}function Pm(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wm(e)?"-0":e}}function yb(t){return{integerValue:""+t}}function Om(t,e){return Od(e)?yb(e):Pm(t,e)}var km=function(){this._=void 0};function vb(t,e,i){return t instanceof Du?(f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(a=i).seconds,nanos:a.nanoseconds}}}},(c=e)&&(f.fields.__previous_value__=c),{mapValue:f}):t instanceof Ys?Ti(t,e):t instanceof Hn?Yr(t,e):function(a,c){var f=Di(a,c),p=Lm(f)+Lm(a.A);return Fd(f)&&Fd(a.A)?yb(p):Pm(a.R,p)}(t,e);var a,c,f}function Fm(t,e,i){return t instanceof Ys?Ti(t,e):t instanceof Hn?Yr(t,e):i}function Di(t,e){return t instanceof Js?Fd(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}var Du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,S.ZT)(e,t),e}(km),Ys=function(t){function e(i){var a=this;return(a=t.call(this)||this).elements=i,a}return(0,S.ZT)(e,t),e}(km);function Ti(t,e){for(var i=_b(e),a=function(p){i.some(function(y){return Er(y,p)})||i.push(p)},c=0,f=t.elements;c<f.length;c++)a(f[c]);return{arrayValue:{values:i}}}var Hn=function(t){function e(i){var a=this;return(a=t.call(this)||this).elements=i,a}return(0,S.ZT)(e,t),e}(km);function Yr(t,e){for(var i=_b(e),a=function(p){i=i.filter(function(y){return!Er(y,p)})},c=0,f=t.elements;c<f.length;c++)a(f[c]);return{arrayValue:{values:i}}}var Js=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).R=i,c.A=a,c}return(0,S.ZT)(e,t),e}(km);function Lm(t){return bn(t.integerValue||t.doubleValue)}function _b(t){return lb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Sl=function(t,e){this.field=t,this.transform=e},wT=function(t,e){this.version=t,this.transformResults=e},Xn=function(){function t(e,i){this.updateTime=e,this.exists=i}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Tu(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ns=function(){};function ET(t,e,i){var a,c,f,p,y;t instanceof rs?(c=e,f=i,p=(a=t).value.clone(),y=Bm(a.fieldTransforms,c,f.transformResults),p.setAll(y),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()):t instanceof is?function(a,c,f){if(Tu(a.precondition,c)){var p=Bm(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(jm(a)),y.setAll(p),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}else c.convertToUnknownDocument(f.version)}(t,e,i):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function qd(t,e,i){var c;t instanceof rs?function(a,c,f){if(Tu(a.precondition,c)){var p=a.value.clone(),y=Hm(a.fieldTransforms,f,c);p.setAll(y),c.convertToFoundDocument(Vm(c),p).setHasLocalMutations()}}(t,e,i):t instanceof is?function(a,c,f){if(Tu(a.precondition,c)){var p=Hm(a.fieldTransforms,f,c),y=c.data;y.setAll(jm(a)),y.setAll(p),c.convertToFoundDocument(Vm(c),y).setHasLocalMutations()}}(t,e,i):Tu(t.precondition,c=e)&&c.convertToNoDocument(rt.min())}function CT(t,e){for(var i=null,a=0,c=t.fieldTransforms;a<c.length;a++){var f=c[a],p=e.data.field(f.field),y=Di(f.transform,p||null);null!=y&&(null==i&&(i=Cr.empty()),i.set(f.field,y))}return i||null}function Um(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=t.fieldTransforms)&&void 0===a||i&&a&&Ws(i,a,function(c,f){return(p=c).field.isEqual((y=f).field)&&(E=y.transform,(_=p.transform)instanceof Ys&&E instanceof Ys||_ instanceof Hn&&E instanceof Hn?Ws(_.elements,E.elements,Er):_ instanceof Js&&E instanceof Js?Er(_.A,E.A):_ instanceof Du&&E instanceof Du);var p,y,_,E})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var i,a}function Vm(t){return t.isFoundDocument()?t.version:rt.min()}var rs=function(t){function e(i,a,c,f){void 0===f&&(f=[]);var p=this;return(p=t.call(this)||this).key=i,p.value=a,p.precondition=c,p.fieldTransforms=f,p.type=0,p}return(0,S.ZT)(e,t),e}(ns),is=function(t){function e(i,a,c,f,p){void 0===p&&(p=[]);var y=this;return(y=t.call(this)||this).key=i,y.data=a,y.fieldMask=c,y.precondition=f,y.fieldTransforms=p,y.type=1,y}return(0,S.ZT)(e,t),e}(ns);function jm(t){var e=new Map;return t.fieldMask.fields.forEach(function(i){if(!i.isEmpty()){var a=t.data.field(i);e.set(i,a)}}),e}function Bm(t,e,i){var a=new Map;Qe(t.length===i.length);for(var c=0;c<i.length;c++){var f=t[c],p=f.transform,y=e.data.field(f.field);a.set(f.field,Fm(p,y,i[c]))}return a}function Hm(t,e,i){for(var a=new Map,c=0,f=t;c<f.length;c++){var p=f[c],y=p.transform,_=i.data.field(p.field);a.set(p.field,vb(y,_,e))}return a}var Gt,mt,Iu=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).key=i,c.precondition=a,c.type=2,c.fieldTransforms=[],c}return(0,S.ZT)(e,t),e}(ns),Gd=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).key=i,c.precondition=a,c.type=3,c.fieldTransforms=[],c}return(0,S.ZT)(e,t),e}(ns),bb=function(t){this.count=t};function qm(t){switch(t){case ee.OK:return Oe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Oe()}}function Gm(t){if(void 0===t)return _n("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Gt.OK:return ee.OK;case Gt.CANCELLED:return ee.CANCELLED;case Gt.UNKNOWN:return ee.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ee.INTERNAL;case Gt.UNAVAILABLE:return ee.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ee.NOT_FOUND;case Gt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Gt.ABORTED:return ee.ABORTED;case Gt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Gt.DATA_LOSS:return ee.DATA_LOSS;default:return Oe()}}(mt=Gt||(Gt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";var qn=function(){function t(e,i){this.comparator=e,this.root=i||os.EMPTY}return t.prototype.insert=function(e,i){return new t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,os.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,os.BLACK,null,null))},t.prototype.get=function(e){for(var i=this.root;!i.isEmpty();){var a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null},t.prototype.indexOf=function(e){for(var i=0,a=this.root;!a.isEmpty();){var c=this.comparator(e,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(i,a){return e(i,a),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(i,a){return e.push(i+":"+a),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Al(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Al(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Al(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Al(this.root,e,this.comparator,!0)},t}(),Al=function(){function t(e,i,a,c){this.isReverse=c,this.nodeStack=[];for(var f=1;!e.isEmpty();)if(f=i?a(e.key,i):1,c&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),os=function(){function t(e,i,a,c,f){this.key=e,this.value=i,this.color=null!=a?a:t.RED,this.left=null!=c?c:t.EMPTY,this.right=null!=f?f:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,i,a,c,f){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=f?f:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,i,a){var c=this,f=a(e,c.key);return(c=f<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===f?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,i){var a,c=this;if(i(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(e,c.key)){if(c.right.isEmpty())return t.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,i))}return c.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();var e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)},t}();os.EMPTY=null,os.RED=!0,os.BLACK=!1,os.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,i,a,c,f){return this},t.prototype.insert=function(e,i,a){return new os(e,i)},t.prototype.remove=function(e,i){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Cn=function(){function t(e){this.comparator=e,this.data=new qn(this.comparator)}return t.prototype.has=function(e){return null!==this.data.get(e)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(i,a){return e(i),!1})},t.prototype.forEachInRange=function(e,i){for(var a=this.data.getIteratorFrom(e[0]);a.hasNext();){var c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;i(c.key)}},t.prototype.forEachWhile=function(e,i){var a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null},t.prototype.getIterator=function(){return new wb(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new wb(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var i=this;return i.size<e.size&&(i=e,e=this),e.forEach(function(a){i=i.add(a)}),i},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.data.getIterator(),a=e.data.getIterator();i.hasNext();){var c=i.getNext().key,f=a.getNext().key;if(0!==this.comparator(c,f))return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(i){e.push(i)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(i){return e.push(i)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var i=new t(this.comparator);return i.data=e,i},t}(),wb=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),DT=new qn(Ue.comparator);function Jr(){return DT}var TT=new qn(Ue.comparator);function $m(){return TT}var IT=new qn(Ue.comparator);function Eb(){return IT}var Cb=new Cn(Ue.comparator);function St(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=Cb,a=0,c=t;a<c.length;a++){var f=c[a];i=i.add(f)}return i}var ST=new Cn(gt);function $d(){return ST}var Zm=function(){function t(e,i,a,c,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=f}return t.createSynthesizedRemoteEventForCurrentChange=function(e,i){var a=new Map;return a.set(e,zm.createSynthesizedTargetChangeForCurrentChange(e,i)),new t(rt.min(),a,$d(),Jr(),St())},t}(),zm=function(){function t(e,i,a,c,f){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=f}return t.createSynthesizedTargetChangeForCurrentChange=function(e,i){return new t(cr.EMPTY_BYTE_STRING,i,St(),St(),St())},t}(),Zd=function(t,e,i,a){this.v=t,this.removedTargetIds=e,this.key=i,this.P=a},Db=function(t,e){this.targetId=t,this.V=e},Tb=function(t,e,i,a){void 0===i&&(i=cr.EMPTY_BYTE_STRING),void 0===a&&(a=null),this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a},Wm=function(){function t(){this.S=0,this.D=Qm(),this.C=cr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=St(),i=St(),a=St();return this.D.forEach(function(c,f){switch(f){case 0:e=e.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:Oe()}}),new zm(this.C,this.N,e,i,a)},t.prototype.L=function(){this.k=!1,this.D=Qm()},t.prototype.B=function(e,i){this.k=!0,this.D=this.D.insert(e,i)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Ib=function(){function t(e){this.W=e,this.G=new Map,this.H=Jr(),this.J=Km(),this.Y=new Cn(gt)}return t.prototype.X=function(e){for(var i=0,a=e.v;i<a.length;i++){var c=a[i];e.P&&e.P.isFoundDocument()?this.Z(c,e.P):this.tt(c,e.key,e.P)}for(var f=0,p=e.removedTargetIds;f<p.length;f++)this.tt(c=p[f],e.key,e.P)},t.prototype.et=function(e){var i=this;this.forEachTarget(e,function(a){var c=i.nt(a);switch(e.state){case 0:i.st(a)&&c.O(e.resumeToken);break;case 1:c.K(),c.F||c.L(),c.O(e.resumeToken);break;case 2:c.K(),c.F||i.removeTarget(a);break;case 3:i.st(a)&&(c.j(),c.O(e.resumeToken));break;case 4:i.st(a)&&(i.it(a),c.O(e.resumeToken));break;default:Oe()}})},t.prototype.forEachTarget=function(e,i){var a=this;e.targetIds.length>0?e.targetIds.forEach(i):this.G.forEach(function(c,f){a.st(f)&&i(f)})},t.prototype.rt=function(e){var i=e.targetId,a=e.V.count,c=this.ot(i);if(c){var f=c.target;if(Cl(f))if(0===a){var p=new Ue(f.path);this.tt(i,p,Pn.newNoDocument(p,rt.min()))}else Qe(1===a);else this.ct(i)!==a&&(this.it(i),this.Y=this.Y.add(i))}},t.prototype.ut=function(e){var i=this,a=new Map;this.G.forEach(function(p,y){var _=i.ot(y);if(_){if(p.current&&Cl(_.target)){var E=new Ue(_.target.path);null!==i.H.get(E)||i.at(y,E)||i.tt(y,E,Pn.newNoDocument(E,e))}p.$&&(a.set(y,p.M()),p.L())}});var c=St();this.J.forEach(function(p,y){var _=!0;y.forEachWhile(function(E){var C=i.ot(E);return!C||2===C.purpose||(_=!1,!1)}),_&&(c=c.add(p))});var f=new Zm(e,a,this.Y,this.H,c);return this.H=Jr(),this.J=Km(),this.Y=new Cn(gt),f},t.prototype.Z=function(e,i){if(this.st(e)){var a=this.at(e,i.key)?2:0;this.nt(e).B(i.key,a),this.H=this.H.insert(i.key,i),this.J=this.J.insert(i.key,this.ht(i.key).add(e))}},t.prototype.tt=function(e,i,a){if(this.st(e)){var c=this.nt(e);this.at(e,i)?c.B(i,1):c.q(i),this.J=this.J.insert(i,this.ht(i).delete(e)),a&&(this.H=this.H.insert(i,a))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var i=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var i=this.G.get(e);return i||(i=new Wm,this.G.set(e,i)),i},t.prototype.ht=function(e){var i=this.J.get(e);return i||(i=new Cn(gt),this.J=this.J.insert(e,i)),i},t.prototype.st=function(e){var i=null!==this.ot(e);return i||Ce("WatchChangeAggregator","Detected inactive target",e),i},t.prototype.ot=function(e){var i=this.G.get(e);return i&&i.F?null:this.W.lt(e)},t.prototype.it=function(e){var i=this;this.G.set(e,new Wm),this.W.getRemoteKeysForTarget(e).forEach(function(a){i.tt(e,a,null)})},t.prototype.at=function(e,i){return this.W.getRemoteKeysForTarget(e).has(i)},t}();function Km(){return new qn(Ue.comparator)}function Qm(){return new qn(Ue.comparator)}var Sb={asc:"ASCENDING",desc:"DESCENDING"},Ab={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rb=function(t,e){this.databaseId=t,this.I=e};function Su(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ym(t,e){return t.I?e.toBase64():e.toUint8Array()}function Jm(t,e){return Su(t,e.toTimestamp())}function Dn(t){return Qe(!!t),rt.fromTimestamp((i=es(t),new wr(i.seconds,i.nanos)));var i}function Io(t,e){return(i=t,new yt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function xb(t){var e=yt.fromString(t);return Qe(ty(e)),e}function Rl(t,e){return Io(t.databaseId,e.path)}function lr(t,e){var i=xb(e);if(i.get(1)!==t.databaseId.projectId)throw new ye(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new ye(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new Ue(Xm(i))}function Mb(t,e){return Io(t.databaseId,e)}function zd(t){var e=xb(t);return 4===e.length?yt.emptyPath():Xm(e)}function Wd(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Xm(t){return Qe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ey(t,e,i){return{name:Rl(t,e),fields:i.value.mapValue.fields}}function AT(t,e,i){var a=lr(t,e.name),c=Dn(e.updateTime),f=new Cr({mapValue:{fields:e.fields}}),p=Pn.newFoundDocument(a,c,f);return i&&p.setHasCommittedMutations(),i?p.setHasCommittedMutations():p}function Be(t,e){var i,c;if(e instanceof rs)i={update:ey(t,e.key,e.value)};else if(e instanceof Iu)i={delete:Rl(t,e.key)};else if(e instanceof is)i={update:ey(t,e.key,e.data),updateMask:Lb(e.fieldMask)};else{if(!(e instanceof Gd))return Oe();i={verify:Rl(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(function(a){return function(c,f){var p=f.transform;if(p instanceof Du)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ys)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Hn)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Js)return{fieldPath:f.field.canonicalString(),increment:p.A};throw Oe()}(0,a)})),e.precondition.isNone||(i.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Jm(t,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Oe()),i}function Nb(t,e){var E,i=e.currentDocument?void 0!==(E=e.currentDocument).updateTime?Xn.updateTime(Dn(E.updateTime)):void 0!==E.exists?Xn.exists(E.exists):Xn.none():Xn.none(),a=e.updateTransforms?e.updateTransforms.map(function(E){return function(C,T){var R=null;"setToServerValue"in T?(Qe("REQUEST_TIME"===T.setToServerValue),R=new Du):"appendMissingElements"in T?R=new Ys(T.appendMissingElements.values||[]):"removeAllFromArray"in T?R=new Hn(T.removeAllFromArray.values||[]):"increment"in T?R=new Js(C,T.increment):Oe();var B=Kr.fromServerFormat(T.fieldPath);return new Sl(B,R)}(t,E)}):[];if(e.update){var c=lr(t,e.update.name),f=new Cr({mapValue:{fields:e.update.fields}});if(e.updateMask){var p=function(E){return new mu((E.fieldPaths||[]).map(function(T){return Kr.fromServerFormat(T)}))}(e.updateMask);return new is(c,f,p,i,a)}return new rs(c,f,i,a)}if(e.delete){var y=lr(t,e.delete);return new Iu(y,i)}if(e.verify){var _=lr(t,e.verify);return new Gd(_,i)}return Oe()}function Pb(t,e){return{documents:[Mb(t,e.path)]}}function Ob(t,e){var i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=Mb(t,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Mb(t,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);var c=function(y){if(0!==y.length){var _=y.map(function(E){return function(C){if("=="===C.op){if(Cm(C.value))return{unaryFilter:{field:Xs(C.field),op:"IS_NAN"}};if(fb(C.value))return{unaryFilter:{field:Xs(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(Cm(C.value))return{unaryFilter:{field:Xs(C.field),op:"IS_NOT_NAN"}};if(fb(C.value))return{unaryFilter:{field:Xs(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(C.field),op:c1(C.op),value:C.value}}}(E)});return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}}(e.filters);c&&(i.structuredQuery.where=c);var f=function(y){if(0!==y.length)return y.map(function(_){return{field:Xs((E=_).field),direction:rn(E.dir)};var E})}(e.orderBy);f&&(i.structuredQuery.orderBy=f);var _,p=(_=e.limit,t.I||To(_)?_:{value:_});return null!==p&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=Ml(e.startAt)),e.endAt&&(i.structuredQuery.endAt=Ml(e.endAt)),i}function xl(t){var e=zd(t.parent),i=t.structuredQuery,a=i.from?i.from.length:0,c=null;if(a>0){Qe(1===a);var f=i.from[0];f.allDescendants?c=f.collectionId:e=e.child(f.collectionId)}var p=[];i.where&&(p=kb(i.where));var y=[];i.orderBy&&(y=i.orderBy.map(function(T){return new Qs(ss((R=T).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));var T,R,_=null;i.limit&&(_=To(R="object"==typeof(T=i.limit)?T.value:T)?null:R);var E=null;i.startAt&&(E=Nl(i.startAt));var C=null;return i.endAt&&(C=Nl(i.endAt)),_T(e,c,y,p,_,"F",E,C)}function kb(t){return t?void 0!==t.unaryFilter?[Fb(t)]:void 0!==t.fieldFilter?[RT(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(e){return kb(e)}).reduce(function(e,i){return e.concat(i)}):Oe():[]}function Ml(t){return{before:t.before,values:t.position}}function Nl(t){return new wu(t.values||[],!!t.before)}function rn(t){return Sb[t]}function c1(t){return Ab[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function ss(t){return Kr.fromServerFormat(t.fieldPath)}function RT(t){return Dr.create(ss(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Oe()}}(t.fieldFilter.op),t.fieldFilter.value)}function Fb(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ss(t.unaryFilter.field);return Dr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var i=ss(t.unaryFilter.field);return Dr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var a=ss(t.unaryFilter.field);return Dr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var c=ss(t.unaryFilter.field);return Dr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Oe()}}function Lb(t){var e=[];return t.fields.forEach(function(i){return e.push(i.canonicalString())}),{fieldPaths:e}}function ty(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Xr(t){for(var e="",i=0;i<t.length;i++)e.length>0&&(e=Ub(e)),e=xT(t.get(i),e);return Ub(e)}function xT(t,e){for(var i=e,a=t.length,c=0;c<a;c++){var f=t.charAt(c);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function Ub(t){return t+"\x01\x01"}function So(t){var e=t.length;if(Qe(e>=2),2===e)return Qe("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),yt.emptyPath();for(var i=e-2,a=[],c="",f=0;f<e;){var p=t.indexOf("\x01",f);switch((p<0||p>i)&&Oe(),t.charAt(p+1)){case"\x01":var y=t.substring(f,p),_=void 0;0===c.length?_=y:(_=c+=y,c=""),a.push(_);break;case"\x10":c+=t.substring(f,p),c+="\0";break;case"\x11":c+=t.substring(f,p+1);break;default:Oe()}f=p+2}return new yt(a)}var Pl=function(t,e){this.seconds=t,this.nanoseconds=e},Or=function(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i};Or.store="owner",Or.key="owner";var as=function(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i};as.store="mutationQueues",as.keyPath="userId";var Vt=function(t,e,i,a,c){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=a,this.mutations=c};Vt.store="mutations",Vt.keyPath="batchId",Vt.userMutationsIndex="userMutationsIndex",Vt.userMutationsKeyPath=["userId","batchId"];var Tn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,i){return[e,Xr(i)]},t.key=function(e,i,a){return[e,Xr(i),a]},t}();Tn.store="documentMutations",Tn.PLACEHOLDER=new Tn;var Vb=function(t,e){this.path=t,this.readTime=e},jb=function(t,e){this.path=t,this.version=e},$t=function(t,e,i,a,c,f){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=f};$t.store="remoteDocuments",$t.readTimeIndex="readTimeIndex",$t.readTimeIndexPath="readTime",$t.collectionReadTimeIndex="collectionReadTimeIndex",$t.collectionReadTimeIndexPath=["parentPath","readTime"];var Qi=function(t){this.byteSize=t};Qi.store="remoteDocumentGlobal",Qi.key="remoteDocumentGlobalKey";var On=function(t,e,i,a,c,f,p){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=p};On.store="targets",On.keyPath="targetId",On.queryTargetsIndexName="queryTargetsIndex",On.queryTargetsKeyPath=["canonicalId","targetId"];var fn=function(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i};fn.store="targetDocuments",fn.keyPath=["targetId","path"],fn.documentTargetsIndex="documentTargetsIndex",fn.documentTargetsKeyPath=["path","targetId"];var kr=function(t,e,i,a){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=a};kr.key="targetGlobalKey",kr.store="targetGlobal";var ea=function(t,e){this.collectionId=t,this.parent=e};ea.store="collectionParents",ea.keyPath=["collectionId","parent"];var Ao=function(t,e,i,a){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=a};Ao.store="clientMetadata",Ao.keyPath="clientId";var ta=function(t,e,i){this.bundleId=t,this.createTime=e,this.version=i};ta.store="bundles",ta.keyPath="bundleId";var na=function(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i};na.store="namedQueries",na.keyPath="name";var Bb=(0,S.ev)((0,S.ev)([],(0,S.ev)((0,S.ev)([],(0,S.ev)((0,S.ev)([],(0,S.ev)((0,S.ev)([],[as.store,Vt.store,Tn.store,$t.store,On.store,Or.store,kr.store,fn.store]),[Ao.store])),[Qi.store])),[ea.store])),[ta.store,na.store]),Hb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ny=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),er=function(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})},be=function(){function t(e){var i=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(a){i.isDone=!0,i.result=a,i.nextCallback&&i.nextCallback(a)},function(a){i.isDone=!0,i.error=a,i.catchCallback&&i.catchCallback(a)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,i){var a=this;return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new t(function(c,f){a.nextCallback=function(p){a.wrapSuccess(e,p).next(c,f)},a.catchCallback=function(p){a.wrapFailure(i,p).next(c,f)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(i,a){e.next(i,a)})},t.prototype.wrapUserFunction=function(e){try{var i=e();return i instanceof t?i:t.resolve(i)}catch(a){return t.reject(a)}},t.prototype.wrapSuccess=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.resolve(i)},t.prototype.wrapFailure=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.reject(i)},t.resolve=function(e){return new t(function(i,a){i(e)})},t.reject=function(e){return new t(function(i,a){a(e)})},t.waitFor=function(e){return new t(function(i,a){var c=0,f=0,p=!1;e.forEach(function(y){++c,y.next(function(){++f,p&&f===c&&i()},function(_){return a(_)})}),p=!0,f===c&&i()})},t.or=function(e){for(var i=t.resolve(!1),a=function(p){i=i.next(function(y){return y?t.resolve(y):p()})},c=0,f=e;c<f.length;c++)a(f[c]);return i},t.forEach=function(e,i){var a=this,c=[];return e.forEach(function(f,p){c.push(i.call(a,f,p))}),this.waitFor(c)},t}(),MT=function(){function t(e,i){var a=this;this.action=e,this.transaction=i,this.aborted=!1,this.ft=new er,this.transaction.oncomplete=function(){a.ft.resolve()},this.transaction.onabort=function(){i.error?a.ft.reject(new Kd(e,i.error)):a.ft.resolve()},this.transaction.onerror=function(c){var f=Yd(c.target.error);a.ft.reject(new Kd(e,f))}}return t.open=function(e,i,a,c){try{return new t(i,e.transaction(c,a))}catch(f){throw new Kd(i,f)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var i=this.transaction.objectStore(e);return new Qd(i)},t}(),Ol=function(){function t(e,i,a){this.name=e,this.version=i,this.wt=a,12.2===t._t((0,st.z$)())&&_n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return Ce("SimpleDb","Removing database:",e),ra(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,st.z$)(),i=t._t(e),a=0<i&&i<10,c=t.Et(e),f=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||f)},t.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},t.It=function(e,i){return e.store(i)},t._t=function(e){var i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)},t.Et=function(e){var i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)},t.prototype.At=function(e){return(0,S.mG)(this,void 0,void 0,function(){var i,a=this;return(0,S.Jh)(this,function(c){switch(c.label){case 0:return this.db?[3,2]:(Ce("SimpleDb","Opening database:",this.name),i=this,[4,new Promise(function(f,p){var y=indexedDB.open(a.name,a.version);y.onsuccess=function(_){f(_.target.result)},y.onblocked=function(){p(new Kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=function(_){var E=_.target.error;p("VersionError"===E.name?new ye(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Kd(e,E))},y.onupgradeneeded=function(_){Ce("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',_.oldVersion),a.wt.Rt(_.target.result,y.transaction,_.oldVersion,a.version).next(function(){Ce("SimpleDb","Database upgrade to version "+a.version+" complete")})}})]);case 1:i.db=c.sent(),c.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(f){return a.bt(f)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(i){return e(i)})},t.prototype.runTransaction=function(e,i,a,c){return(0,S.mG)(this,void 0,void 0,function(){var f,p,y,_,E;return(0,S.Jh)(this,function(C){switch(C.label){case 0:f="readonly"===i,p=0,y=function(){var T,R,N,F,B;return(0,S.Jh)(this,function(re){switch(re.label){case 0:++p,re.label=1;case 1:return re.trys.push([1,4,,5]),[4,_.At(e)];case 2:return _.db=re.sent(),T=MT.open(_.db,e,f?"readonly":"readwrite",a),R=c(T).catch(function(de){return T.abort(de),be.reject(de)}).toPromise(),N={},R.catch(function(){}),[4,T.dt];case 3:return[2,(N.value=(re.sent(),R),N)];case 4:return Ce("SimpleDb","Transaction failed with error:",(F=re.sent()).message,"Retrying:",B="FirebaseError"!==F.name&&p<3),_.close(),B?[3,5]:[2,{value:Promise.reject(F)}];case 5:return[2]}})},_=this,C.label=1;case 1:return[5,y()];case 2:if("object"==typeof(E=C.sent()))return[2,E.value];C.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),l1=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return ra(this.Pt.delete())},t}(),Kd=function(t){function e(i,a){var c=this;return(c=t.call(this,ee.UNAVAILABLE,"IndexedDB transaction '"+i+"' failed: "+a)||this).name="IndexedDbTransactionError",c}return(0,S.ZT)(e,t),e}(ye);function us(t){return"IndexedDbTransactionError"===t.name}var Qd=function(){function t(e){this.store=e}return t.prototype.put=function(e,i){var a;return void 0!==i?(Ce("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),ra(a)},t.prototype.add=function(e){return Ce("SimpleDb","ADD",this.store.name,e,e),ra(this.store.add(e))},t.prototype.get=function(e){var i=this;return ra(this.store.get(e)).next(function(a){return void 0===a&&(a=null),Ce("SimpleDb","GET",i.store.name,e,a),a})},t.prototype.delete=function(e){return Ce("SimpleDb","DELETE",this.store.name,e),ra(this.store.delete(e))},t.prototype.count=function(){return Ce("SimpleDb","COUNT",this.store.name),ra(this.store.count())},t.prototype.Nt=function(e,i){var a=this.cursor(this.options(e,i)),c=[];return this.xt(a,function(f,p){c.push(p)}).next(function(){return c})},t.prototype.kt=function(e,i){Ce("SimpleDb","DELETE ALL",this.store.name);var a=this.options(e,i);a.Ft=!1;var c=this.cursor(a);return this.xt(c,function(f,p,y){return y.delete()})},t.prototype.$t=function(e,i){var a;i?a=e:(a={},i=e);var c=this.cursor(a);return this.xt(c,i)},t.prototype.Ot=function(e){var i=this.cursor({});return new be(function(a,c){i.onerror=function(f){var p=Yd(f.target.error);c(p)},i.onsuccess=function(f){var p=f.target.result;p?e(p.primaryKey,p.value).next(function(y){y?p.continue():a()}):a()}})},t.prototype.xt=function(e,i){var a=[];return new be(function(c,f){e.onerror=function(p){f(p.target.error)},e.onsuccess=function(p){var y=p.target.result;if(y){var _=new l1(y),E=i(y.primaryKey,y.value,_);if(E instanceof be){var C=E.catch(function(T){return _.done(),be.reject(T)});a.push(C)}_.isDone?c():null===_.Dt?y.continue():y.continue(_.Dt)}else c()}}).next(function(){return be.waitFor(a)})},t.prototype.options=function(e,i){var a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}},t.prototype.cursor=function(e){var i="next";if(e.reverse&&(i="prev"),e.index){var a=this.store.index(e.index);return e.Ft?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)},t}();function ra(t){return new be(function(e,i){t.onsuccess=function(a){e(a.target.result)},t.onerror=function(a){var c=Yd(a.target.error);i(c)}})}var qb=!1;function Yd(t){var e=Ol._t((0,st.z$)());if(e>=12.2&&e<13){var i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){var a=new ye("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return qb||(qb=!0,setTimeout(function(){throw a},0)),a}}return t}var Au=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).Mt=i,c.currentSequenceNumber=a,c}return(0,S.ZT)(e,t),e}(ny);function Tr(t,e){var i=Te(t);return Ol.It(i.Mt,e)}var ry=function(){function t(e,i,a,c){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}return t.prototype.applyToRemoteDocument=function(e,i){for(var a=i.mutationResults,c=0;c<this.mutations.length;c++){var f=this.mutations[c];f.key.isEqual(e.key)&&ET(f,e,a[c])}},t.prototype.applyToLocalView=function(e){for(var i=0,a=this.baseMutations;i<a.length;i++)(p=a[i]).key.isEqual(e.key)&&qd(p,e,this.localWriteTime);for(var c=0,f=this.mutations;c<f.length;c++){var p;(p=f[c]).key.isEqual(e.key)&&qd(p,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var i=this;this.mutations.forEach(function(a){var c=e.get(a.key),f=c;i.applyToLocalView(f),c.isValidDocument()||f.convertToNoDocument(rt.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,i){return e.add(i.key)},St())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,function(i,a){return Um(i,a)})&&Ws(this.baseMutations,e.baseMutations,function(i,a){return Um(i,a)})},t}(),NT=function(){function t(e,i,a,c){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}return t.from=function(e,i,a){Qe(e.mutations.length===a.length);for(var c=Eb(),f=e.mutations,p=0;p<f.length;p++)c=c.insert(f[p].key,a[p].version);return new t(e,i,a,c)},t}(),Jd=function(){function t(e,i,a,c,f,p,y){void 0===f&&(f=rt.min()),void 0===p&&(p=rt.min()),void 0===y&&(y=cr.EMPTY_BYTE_STRING),this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=y}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Gb=function(t){this.Lt=t};function Xd(t,e){if(e.document)return AT(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var i=Ue.fromSegments(e.noDocument.path),a=oa(e.noDocument.readTime),c=Pn.newNoDocument(i,a);return e.hasCommittedMutations?c.setHasCommittedMutations():c}if(e.unknownDocument){var f=Ue.fromSegments(e.unknownDocument.path);return a=oa(e.unknownDocument.version),Pn.newUnknownDocument(f,a)}return Oe()}function $b(t,e,i){var T,R,a=iy(i),c=e.key.path.popLast().toArray();if(e.isFoundDocument()){var f={name:Rl(T=t.Lt,(R=e).key),fields:R.data.value.mapValue.fields,updateTime:Su(T,R.version.toTimestamp())},p=e.hasCommittedMutations;return new $t(null,null,f,p,a,c)}if(e.isNoDocument()){var y=e.key.path.toArray(),_=Ru(e.version);return p=e.hasCommittedMutations,new $t(null,new Vb(y,_),null,p,a,c)}if(e.isUnknownDocument()){var E=e.key.path.toArray(),C=Ru(e.version);return new $t(new jb(E,C),null,null,!0,a,c)}return Oe()}function iy(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ia(t){var e=new wr(t[0],t[1]);return rt.fromTimestamp(e)}function Ru(t){var e=t.toTimestamp();return new Pl(e.seconds,e.nanoseconds)}function oa(t){var e=new wr(t.seconds,t.nanoseconds);return rt.fromTimestamp(e)}function xu(t,e){for(var i=(e.baseMutations||[]).map(function(_){return Nb(t.Lt,_)}),a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);var p=e.mutations.map(function(_){return Nb(t.Lt,_)}),y=wr.fromMillis(e.localWriteTimeMs);return new ry(e.batchId,y,i,p)}function Mu(t){var e,i,a=oa(t.readTime),c=void 0!==t.lastLimboFreeSnapshotVersion?oa(t.lastLimboFreeSnapshotVersion):rt.min();return void 0!==t.query.documents?(Qe(1===(i=t.query).documents.length),e=Qr(Eu(zd(i.documents[0])))):e=Qr(xl(t.query)),new Jd(e,t.targetId,0,t.lastListenSequenceNumber,a,c,cr.fromBase64String(t.resumeToken))}function Zb(t,e){var i,a=Ru(e.snapshotVersion),c=Ru(e.lastLimboFreeSnapshotVersion);i=Cl(e.target)?Pb(t.Lt,e.target):Ob(t.Lt,e.target);var f=e.resumeToken.toBase64();return new On(e.targetId,bu(e.target),a,f,e.sequenceNumber,c,i)}function eh(t){var e=xl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Mm(e,e.limit,"L"):e}var PT=function(){function t(){}return t.prototype.getBundleMetadata=function(e,i){return th(e).get(i).next(function(a){if(a)return{id:(c=a).bundleId,createTime:oa(c.createTime),version:c.version};var c})},t.prototype.saveBundleMetadata=function(e,i){return th(e).put({bundleId:(a=i).id,createTime:Ru(Dn(a.createTime)),version:a.version});var a},t.prototype.getNamedQuery=function(e,i){return zb(e).get(i).next(function(a){if(a)return{name:(c=a).name,query:eh(c.bundledQuery),readTime:oa(c.readTime)};var c})},t.prototype.saveNamedQuery=function(e,i){return zb(e).put({name:(a=i).name,readTime:Ru(Dn(a.readTime)),bundledQuery:a.bundledQuery});var a},t}();function th(t){return Tr(t,ta.store)}function zb(t){return Tr(t,na.store)}var Wb=function(){function t(){this.Bt=new nh}return t.prototype.addToCollectionParentIndex=function(e,i){return this.Bt.add(i),be.resolve()},t.prototype.getCollectionParents=function(e,i){return be.resolve(this.Bt.getEntries(i))},t}(),nh=function(){function t(){this.index={}}return t.prototype.add=function(e){var i=e.lastSegment(),a=e.popLast(),c=this.index[i]||new Cn(yt.comparator),f=!c.has(a);return this.index[i]=c.add(a),f},t.prototype.has=function(e){var i=e.lastSegment(),a=e.popLast(),c=this.index[i];return c&&c.has(a)},t.prototype.getEntries=function(e){return(this.index[e]||new Cn(yt.comparator)).toArray()},t}(),OT=function(){function t(){this.qt=new nh}return t.prototype.addToCollectionParentIndex=function(e,i){var a=this;if(!this.qt.has(i)){var c=i.lastSegment(),f=i.popLast();e.addOnCommittedListener(function(){a.qt.add(i)});var p={collectionId:c,parent:Xr(f)};return Kb(e).put(p)}return be.resolve()},t.prototype.getCollectionParents=function(e,i){var a=[],c=IDBKeyRange.bound([i,""],[pT(i),""],!1,!0);return Kb(e).Nt(c).next(function(f){for(var p=0,y=f;p<y.length;p++){var _=y[p];if(_.collectionId!==i)break;a.push(So(_.parent))}return a})},t}();function Kb(t){return Tr(t,ea.store)}var Qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ei=function(){function t(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Yb(t,e,i){var a=t.store(Vt.store),c=t.store(Tn.store),f=[],p=IDBKeyRange.only(i.batchId),y=0,_=a.$t({range:p},function(F,B,re){return y++,re.delete()});f.push(_.next(function(){Qe(1===y)}));for(var E=[],C=0,T=i.mutations;C<T.length;C++){var R=T[C],N=Tn.key(e,R.key.path,i.batchId);f.push(c.delete(N)),E.push(R.key)}return be.waitFor(f).next(function(){return E})}function kl(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Oe();e=t.noDocument}return JSON.stringify(e).length}ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(41943040,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);var kT=function(){function t(e,i,a,c){this.userId=e,this.R=i,this.Ut=a,this.referenceDelegate=c,this.Kt={}}return t.Qt=function(e,i,a,c){return Qe(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",i,a,c)},t.prototype.checkEmpty=function(e){var i=!0,a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cs(e).$t({index:Vt.userMutationsIndex,range:a},function(c,f,p){i=!1,p.done()}).next(function(){return i})},t.prototype.addMutationBatch=function(e,i,a,c){var f=this,p=Nu(e),y=cs(e);return y.add({}).next(function(_){Qe("number"==typeof _);for(var E=new ry(_,i,a,c),C=function(de,we,Ee){var ke=Ee.baseMutations.map(function(lt){return Be(de.Lt,lt)}),xe=Ee.mutations.map(function(lt){return Be(de.Lt,lt)});return new Vt(we,Ee.batchId,Ee.localWriteTime.toMillis(),ke,xe)}(f.R,f.userId,E),T=[],R=new Cn(function(de,we){return gt(de.canonicalString(),we.canonicalString())}),N=0,F=c;N<F.length;N++){var B=F[N],re=Tn.key(f.userId,B.key.path,_);R=R.add(B.key.path.popLast()),T.push(y.put(C)),T.push(p.put(re,Tn.PLACEHOLDER))}return R.forEach(function(de){T.push(f.Ut.addToCollectionParentIndex(e,de))}),e.addOnCommittedListener(function(){f.Kt[_]=E.keys()}),be.waitFor(T).next(function(){return E})})},t.prototype.lookupMutationBatch=function(e,i){var a=this;return cs(e).get(i).next(function(c){return c?(Qe(c.userId===a.userId),xu(a.R,c)):null})},t.prototype.jt=function(e,i){var a=this;return this.Kt[i]?be.resolve(this.Kt[i]):this.lookupMutationBatch(e,i).next(function(c){if(c){var f=c.keys();return a.Kt[i]=f,f}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var a=this,c=i+1,f=IDBKeyRange.lowerBound([this.userId,c]),p=null;return cs(e).$t({index:Vt.userMutationsIndex,range:f},function(y,_,E){_.userId===a.userId&&(Qe(_.batchId>=c),p=xu(a.R,_)),E.done()}).next(function(){return p})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),a=-1;return cs(e).$t({index:Vt.userMutationsIndex,range:i,reverse:!0},function(c,f,p){a=f.batchId,p.done()}).next(function(){return a})},t.prototype.getAllMutationBatches=function(e){var i=this,a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cs(e).Nt(Vt.userMutationsIndex,a).next(function(c){return c.map(function(f){return xu(i.R,f)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var a=this,c=Tn.prefixForPath(this.userId,i.path),f=IDBKeyRange.lowerBound(c),p=[];return Nu(e).$t({range:f},function(y,_,E){var C=y[0],R=y[2],N=So(y[1]);if(C===a.userId&&i.path.isEqual(N))return cs(e).get(R).next(function(F){if(!F)throw Oe();Qe(F.userId===a.userId),p.push(xu(a.R,F))});E.done()}).next(function(){return p})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var a=this,c=new Cn(gt),f=[];return i.forEach(function(p){var y=Tn.prefixForPath(a.userId,p.path),_=IDBKeyRange.lowerBound(y),E=Nu(e).$t({range:_},function(C,T,R){var N=C[0],B=C[2],re=So(C[1]);N===a.userId&&p.path.isEqual(re)?c=c.add(B):R.done()});f.push(E)}),be.waitFor(f).next(function(){return a.Wt(e,c)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var a=this,c=i.path,f=c.length+1,p=Tn.prefixForPath(this.userId,c),y=IDBKeyRange.lowerBound(p),_=new Cn(gt);return Nu(e).$t({range:y},function(E,C,T){var R=E[0],F=E[2],B=So(E[1]);R===a.userId&&c.isPrefixOf(B)?B.length===f&&(_=_.add(F)):T.done()}).next(function(){return a.Wt(e,_)})},t.prototype.Wt=function(e,i){var a=this,c=[],f=[];return i.forEach(function(p){f.push(cs(e).get(p).next(function(y){if(null===y)throw Oe();Qe(y.userId===a.userId),c.push(xu(a.R,y))}))}),be.waitFor(f).next(function(){return c})},t.prototype.removeMutationBatch=function(e,i){var a=this;return Yb(e.Mt,this.userId,i).next(function(c){return e.addOnCommittedListener(function(){a.Gt(i.batchId)}),be.forEach(c,function(f){return a.referenceDelegate.markPotentiallyOrphaned(e,f)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var i=this;return this.checkEmpty(e).next(function(a){if(!a)return be.resolve();var c=IDBKeyRange.lowerBound(Tn.prefixForUser(i.userId)),f=[];return Nu(e).$t({range:c},function(p,y,_){if(p[0]===i.userId){var E=So(p[1]);f.push(E)}else _.done()}).next(function(){Qe(0===f.length)})})},t.prototype.containsKey=function(e,i){return Jb(e,this.userId,i)},t.prototype.zt=function(e){var i=this;return Xb(e).get(this.userId).next(function(a){return a||new as(i.userId,-1,"")})},t}();function Jb(t,e,i){var a=Tn.prefixForPath(e,i.path),c=a[1],f=IDBKeyRange.lowerBound(a),p=!1;return Nu(t).$t({range:f,Ft:!0},function(y,_,E){y[0]===e&&y[1]===c&&(p=!0),E.done()}).next(function(){return p})}function cs(t){return Tr(t,Vt.store)}function Nu(t){return Tr(t,Tn.store)}function Xb(t){return Tr(t,as.store)}var rh=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),FT=function(){function t(e,i){this.referenceDelegate=e,this.R=i}return t.prototype.allocateTargetId=function(e){var i=this;return this.Xt(e).next(function(a){var c=new rh(a.highestTargetId);return a.highestTargetId=c.next(),i.Zt(e,a).next(function(){return a.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(i){return rt.fromTimestamp(new wr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(i){return i.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,i,a){var c=this;return this.Xt(e).next(function(f){return f.highestListenSequenceNumber=i,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),i>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=i),c.Zt(e,f)})},t.prototype.addTargetData=function(e,i){var a=this;return this.te(e,i).next(function(){return a.Xt(e).next(function(c){return c.targetCount+=1,a.ee(i,c),a.Zt(e,c)})})},t.prototype.updateTargetData=function(e,i){return this.te(e,i)},t.prototype.removeTargetData=function(e,i){var a=this;return this.removeMatchingKeysForTargetId(e,i.targetId).next(function(){return Pu(e).delete(i.targetId)}).next(function(){return a.Xt(e)}).next(function(c){return Qe(c.targetCount>0),c.targetCount-=1,a.Zt(e,c)})},t.prototype.removeTargets=function(e,i,a){var c=this,f=0,p=[];return Pu(e).$t(function(y,_){var E=Mu(_);E.sequenceNumber<=i&&null===a.get(E.targetId)&&(f++,p.push(c.removeTargetData(e,E)))}).next(function(){return be.waitFor(p)}).next(function(){return f})},t.prototype.forEachTarget=function(e,i){return Pu(e).$t(function(a,c){var f=Mu(c);i(f)})},t.prototype.Xt=function(e){return oy(e).get(kr.key).next(function(i){return Qe(null!==i),i})},t.prototype.Zt=function(e,i){return oy(e).put(kr.key,i)},t.prototype.te=function(e,i){return Pu(e).put(Zb(this.R,i))},t.prototype.ee=function(e,i){var a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(i){return i.targetCount})},t.prototype.getTargetData=function(e,i){var a=bu(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]),f=null;return Pu(e).$t({range:c,index:On.queryTargetsIndexName},function(p,y,_){var E=Mu(y);Vd(i,E.target)&&(f=E,_.done())}).next(function(){return f})},t.prototype.addMatchingKeys=function(e,i,a){var c=this,f=[],p=Ro(e);return i.forEach(function(y){var _=Xr(y.path);f.push(p.put(new fn(a,_))),f.push(c.referenceDelegate.addReference(e,a,y))}),be.waitFor(f)},t.prototype.removeMatchingKeys=function(e,i,a){var c=this,f=Ro(e);return be.forEach(i,function(p){var y=Xr(p.path);return be.waitFor([f.delete([a,y]),c.referenceDelegate.removeReference(e,a,p)])})},t.prototype.removeMatchingKeysForTargetId=function(e,i){var a=Ro(e),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)},t.prototype.getMatchingKeysForTargetId=function(e,i){var a=IDBKeyRange.bound([i],[i+1],!1,!0),c=Ro(e),f=St();return c.$t({range:a,Ft:!0},function(p,y,_){var E=So(p[1]),C=new Ue(E);f=f.add(C)}).next(function(){return f})},t.prototype.containsKey=function(e,i){var a=Xr(i.path),c=IDBKeyRange.bound([a],[pT(a)],!1,!0),f=0;return Ro(e).$t({index:fn.documentTargetsIndex,Ft:!0,range:c},function(p,y,_){0!==p[0]&&(f++,_.done())}).next(function(){return f>0})},t.prototype.lt=function(e,i){return Pu(e).get(i).next(function(a){return a?Mu(a):null})},t}();function Pu(t){return Tr(t,On.store)}function oy(t){return Tr(t,kr.store)}function Ro(t){return Tr(t,fn.store)}function sa(t){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){if(t.code!==ee.FAILED_PRECONDITION||t.message!==Hb)throw t;return Ce("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ew(t,e){var a=t[1],f=e[1],p=gt(t[0],e[0]);return 0===p?gt(a,f):p}var tw=function(){function t(e){this.ne=e,this.buffer=new Cn(ew),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var i=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(i);else{var a=this.buffer.last();ew(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),LT=function(){function t(e,i){this.garbageCollector=e,this.asyncQueue=i,this.oe=!1,this.ce=null}return t.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var i=this,a=this.oe?3e5:6e4;Ce("LruGarbageCollector","Garbage collection scheduled in "+a+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,function(){return(0,S.mG)(i,void 0,void 0,function(){var c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:this.ce=null,this.oe=!0,f.label=1;case 1:return f.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return f.sent(),[3,7];case 3:return us(c=f.sent())?(Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c),[3,6]):[3,4];case 4:return[4,sa(c)];case 5:f.sent(),f.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return f.sent(),[2]}})})})},t}(),UT=function(){function t(e,i){this.ae=e,this.params=i}return t.prototype.calculateTargetCount=function(e,i){return this.ae.he(e).next(function(a){return Math.floor(i/100*a)})},t.prototype.nthSequenceNumber=function(e,i){var a=this;if(0===i)return be.resolve(br.o);var c=new tw(i);return this.ae.forEachTarget(e,function(f){return c.re(f.sequenceNumber)}).next(function(){return a.ae.le(e,function(f){return c.re(f)})}).next(function(){return c.maxValue})},t.prototype.removeTargets=function(e,i,a){return this.ae.removeTargets(e,i,a)},t.prototype.removeOrphanedDocuments=function(e,i){return this.ae.removeOrphanedDocuments(e,i)},t.prototype.collect=function(e,i){var a=this;return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Qb)):this.getCacheSize(e).next(function(c){return c<a.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; Cache size "+c+" is lower than threshold "+a.params.cacheSizeCollectionThreshold),Qb):a.fe(e,i)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,i){var a,c,f,p,y,_,E,C=this,T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(R){return R>C.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+C.params.maximumSequenceNumbersToCollect+" from "+R),c=C.params.maximumSequenceNumbersToCollect):c=R,p=Date.now(),C.nthSequenceNumber(e,c)}).next(function(R){return a=R,y=Date.now(),C.removeTargets(e,a,i)}).next(function(R){return f=R,_=Date.now(),C.removeOrphanedDocuments(e,a)}).next(function(R){return E=Date.now(),ym()<=fo.in.DEBUG&&Ce("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(p-T)+"ms\n\tDetermined least recently used "+c+" in "+(y-p)+"ms\n\tRemoved "+f+" targets in "+(_-y)+"ms\n\tRemoved "+R+" documents in "+(E-_)+"ms\nTotal Duration: "+(E-T)+"ms"),be.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:R})})},t}(),VT=function(){function t(e,i){this.db=e,this.garbageCollector=new UT(this,i)}return t.prototype.he=function(e){var i=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(a){return i.next(function(c){return a+c})})},t.prototype.de=function(e){var i=0;return this.le(e,function(a){i++}).next(function(){return i})},t.prototype.forEachTarget=function(e,i){return this.db.getTargetCache().forEachTarget(e,i)},t.prototype.le=function(e,i){return this.we(e,function(a,c){return i(c)})},t.prototype.addReference=function(e,i,a){return Ou(e,a)},t.prototype.removeReference=function(e,i,a){return Ou(e,a)},t.prototype.removeTargets=function(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)},t.prototype.markPotentiallyOrphaned=function(e,i){return Ou(e,i)},t.prototype._e=function(e,i){return c=i,f=!1,Xb(a=e).Ot(function(p){return Jb(a,p,c).next(function(y){return y&&(f=!0),be.resolve(!y)})}).next(function(){return f});var a,c,f},t.prototype.removeOrphanedDocuments=function(e,i){var a=this,c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[],p=0;return this.we(e,function(y,_){if(_<=i){var E=a._e(e,y).next(function(C){if(!C)return p++,c.getEntry(e,y).next(function(){return c.removeEntry(y),Ro(e).delete([0,Xr(y.path)])})});f.push(E)}}).next(function(){return be.waitFor(f)}).next(function(){return c.apply(e)}).next(function(){return p})},t.prototype.removeTarget=function(e,i){var a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)},t.prototype.updateLimboDocument=function(e,i){return Ou(e,i)},t.prototype.we=function(e,i){var a,c=Ro(e),f=br.o;return c.$t({index:fn.documentTargetsIndex},function(p,y){var E=y.path,C=y.sequenceNumber;0===p[0]?(f!==br.o&&i(new Ue(So(a)),f),f=C,a=E):f=br.o}).next(function(){f!==br.o&&i(new Ue(So(a)),f)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Ou(t,e){return Ro(t).put((a=t.currentSequenceNumber,new fn(0,Xr(e.path),a)));var a}var ls=function(){function t(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}return t.prototype.get=function(e){var i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(var c=0,f=a;c<f.length;c++){var p=f[c],_=p[1];if(this.equalsFn(p[0],e))return _}},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.set=function(e,i){var a=this.mapKeyFn(e),c=this.inner[a];if(void 0!==c){for(var f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return void(c[f]=[e,i]);c.push([e,i])}else this.inner[a]=[[e,i]]},t.prototype.delete=function(e){var i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(var c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return 1===a.length?delete this.inner[i]:a.splice(c,1),!0;return!1},t.prototype.forEach=function(e){Xo(this.inner,function(i,a){for(var c=0,f=a;c<f.length;c++){var p=f[c];e(p[0],p[1])}})},t.prototype.isEmpty=function(){return cb(this.inner)},t}(),sy=function(){function t(){this.changes=new ls(function(e){return e.toString()},function(e,i){return e.isEqual(i)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var i=this.changes.get(e);return i?i.readTime:rt.min()},t.prototype.addEntry=function(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})},t.prototype.removeEntry=function(e,i){void 0===i&&(i=null),this.assertNotApplied(),this.changes.set(e,{document:Pn.newInvalidDocument(e),readTime:i})},t.prototype.getEntry=function(e,i){this.assertNotApplied();var a=this.changes.get(i);return void 0!==a?be.resolve(a.document):this.getFromCache(e,i)},t.prototype.getEntries=function(e,i){return this.getAllFromCache(e,i)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),ay=function(){function t(e,i){this.R=e,this.Ut=i}return t.prototype.addEntry=function(e,i,a){return Yi(e).put(ih(i),a)},t.prototype.removeEntry=function(e,i){var a=Yi(e),c=ih(i);return a.delete(c)},t.prototype.updateMetadata=function(e,i){var a=this;return this.getMetadata(e).next(function(c){return c.byteSize+=i,a.me(e,c)})},t.prototype.getEntry=function(e,i){var a=this;return Yi(e).get(ih(i)).next(function(c){return a.ye(i,c)})},t.prototype.ge=function(e,i){var a=this;return Yi(e).get(ih(i)).next(function(c){return{document:a.ye(i,c),size:kl(c)}})},t.prototype.getEntries=function(e,i){var a=this,c=Jr();return this.pe(e,i,function(f,p){var y=a.ye(f,p);c=c.insert(f,y)}).next(function(){return c})},t.prototype.Ee=function(e,i){var a=this,c=Jr(),f=new qn(Ue.comparator);return this.pe(e,i,function(p,y){var _=a.ye(p,y);c=c.insert(p,_),f=f.insert(p,kl(y))}).next(function(){return{documents:c,Te:f}})},t.prototype.pe=function(e,i,a){if(i.isEmpty())return be.resolve();var c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),f=i.getIterator(),p=f.getNext();return Yi(e).$t({range:c},function(y,_,E){for(var C=Ue.fromSegments(y);p&&Ue.comparator(p,C)<0;)a(p,null),p=f.getNext();p&&p.isEqual(C)&&(a(p,_),p=f.hasNext()?f.getNext():null),p?E.Ct(p.path.toArray()):E.done()}).next(function(){for(;p;)a(p,null),p=f.hasNext()?f.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,i,a){var c=this,f=Jr(),p=i.path.length+1,y={};if(a.isEqual(rt.min())){var _=i.path.toArray();y.range=IDBKeyRange.lowerBound(_)}else{var E=i.path.toArray(),C=iy(a);y.range=IDBKeyRange.lowerBound([E,C],!0),y.index=$t.collectionReadTimeIndex}return Yi(e).$t(y,function(T,R,N){if(T.length===p){var F=Xd(c.R,R);i.path.isPrefixOf(F.key.path)?Ki(i,F)&&(f=f.insert(F.key,F)):N.done()}}).next(function(){return f})},t.prototype.newChangeBuffer=function(e){return new jT(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(i){return i.byteSize})},t.prototype.getMetadata=function(e){return nw(e).get(Qi.key).next(function(i){return Qe(!!i),i})},t.prototype.me=function(e,i){return nw(e).put(Qi.key,i)},t.prototype.ye=function(e,i){if(i){var a=Xd(this.R,i);if(!a.isNoDocument()||!a.version.isEqual(rt.min()))return a}return Pn.newInvalidDocument(e)},t}(),jT=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).Ie=i,c.trackRemovals=a,c.Ae=new ls(function(f){return f.toString()},function(f,p){return f.isEqual(p)}),c}return(0,S.ZT)(e,t),e.prototype.applyChanges=function(i){var a=this,c=[],f=0,p=new Cn(function(y,_){return gt(y.canonicalString(),_.canonicalString())});return this.changes.forEach(function(y,_){var E=a.Ae.get(y);if(_.document.isValidDocument()){var C=$b(a.Ie.R,_.document,a.getReadTime(y));p=p.add(y.path.popLast());var T=kl(C);f+=T-E,c.push(a.Ie.addEntry(i,y,C))}else if(f-=E,a.trackRemovals){var R=$b(a.Ie.R,Pn.newNoDocument(y,rt.min()),a.getReadTime(y));c.push(a.Ie.addEntry(i,y,R))}else c.push(a.Ie.removeEntry(i,y))}),p.forEach(function(y){c.push(a.Ie.Ut.addToCollectionParentIndex(i,y))}),c.push(this.Ie.updateMetadata(i,f)),be.waitFor(c)},e.prototype.getFromCache=function(i,a){var c=this;return this.Ie.ge(i,a).next(function(f){return c.Ae.set(a,f.size),f.document})},e.prototype.getAllFromCache=function(i,a){var c=this;return this.Ie.Ee(i,a).next(function(f){var p=f.documents;return f.Te.forEach(function(y,_){c.Ae.set(y,_)}),p})},e}(sy);function nw(t){return Tr(t,Qi.store)}function Yi(t){return Tr(t,$t.store)}function ih(t){return t.path.toArray()}var BT=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,i,a,c){var f=this;Qe(a<c&&a>=0&&c<=11);var _,p=new MT("createOrUpgrade",i);a<1&&c>=1&&(e.createObjectStore(Or.store),(_=e).createObjectStore(as.store,{keyPath:as.keyPath}),_.createObjectStore(Vt.store,{keyPath:Vt.keyPath,autoIncrement:!0}).createIndex(Vt.userMutationsIndex,Vt.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Tn.store),rw(e),function(_){_.createObjectStore($t.store)}(e));var y=be.resolve();return a<3&&c>=3&&(0!==a&&(function(_){_.deleteObjectStore(fn.store),_.deleteObjectStore(On.store),_.deleteObjectStore(kr.store)}(e),rw(e)),y=y.next(function(){return function(_){var E=_.store(kr.store),C=new kr(0,0,rt.min().toTimestamp(),0);return E.put(kr.key,C)}(p)})),a<4&&c>=4&&(0!==a&&(y=y.next(function(){return function(_,E){return E.store(Vt.store).Nt().next(function(C){_.deleteObjectStore(Vt.store),_.createObjectStore(Vt.store,{keyPath:Vt.keyPath,autoIncrement:!0}).createIndex(Vt.userMutationsIndex,Vt.userMutationsKeyPath,{unique:!0});var T=E.store(Vt.store),R=C.map(function(N){return T.put(N)});return be.waitFor(R)})}(e,p)})),y=y.next(function(){!function(_){_.createObjectStore(Ao.store,{keyPath:Ao.keyPath})}(e)})),a<5&&c>=5&&(y=y.next(function(){return f.Re(p)})),a<6&&c>=6&&(y=y.next(function(){return function(_){_.createObjectStore(Qi.store)}(e),f.be(p)})),a<7&&c>=7&&(y=y.next(function(){return f.ve(p)})),a<8&&c>=8&&(y=y.next(function(){return f.Pe(e,p)})),a<9&&c>=9&&(y=y.next(function(){(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){var E=_.objectStore($t.store);E.createIndex($t.readTimeIndex,$t.readTimeIndexPath,{unique:!1}),E.createIndex($t.collectionReadTimeIndex,$t.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&c>=10&&(y=y.next(function(){return f.Ve(p)})),a<11&&c>=11&&(y=y.next(function(){(function(_){_.createObjectStore(ta.store,{keyPath:ta.keyPath})})(e),function(_){_.createObjectStore(na.store,{keyPath:na.keyPath})}(e)})),y},t.prototype.be=function(e){var i=0;return e.store($t.store).$t(function(a,c){i+=kl(c)}).next(function(){var a=new Qi(i);return e.store(Qi.store).put(Qi.key,a)})},t.prototype.Re=function(e){var i=this,a=e.store(as.store),c=e.store(Vt.store);return a.Nt().next(function(f){return be.forEach(f,function(p){var y=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return c.Nt(Vt.userMutationsIndex,y).next(function(_){return be.forEach(_,function(E){Qe(E.userId===p.userId);var C=xu(i.R,E);return Yb(e,p.userId,C).next(function(){})})})})})},t.prototype.ve=function(e){var i=e.store(fn.store),a=e.store($t.store);return e.store(kr.store).get(kr.key).next(function(c){var f=[];return a.$t(function(p,y){var _=new yt(p),E=[0,Xr(_)];f.push(i.get(E).next(function(C){return C?be.resolve():i.put(new fn(0,Xr(_),c.highestListenSequenceNumber))}))}).next(function(){return be.waitFor(f)})})},t.prototype.Pe=function(e,i){e.createObjectStore(ea.store,{keyPath:ea.keyPath});var a=i.store(ea.store),c=new nh,f=function(p){if(c.add(p)){var y=p.lastSegment(),_=p.popLast();return a.put({collectionId:y,parent:Xr(_)})}};return i.store($t.store).$t({Ft:!0},function(p,y){var _=new yt(p);return f(_.popLast())}).next(function(){return i.store(Tn.store).$t({Ft:!0},function(p,y){var E=So(p[1]);return f(E.popLast())})})},t.prototype.Ve=function(e){var i=this,a=e.store(On.store);return a.$t(function(c,f){var p=Mu(f),y=Zb(i.R,p);return a.put(y)})},t}();function rw(t){t.createObjectStore(fn.store,{keyPath:fn.keyPath}).createIndex(fn.documentTargetsIndex,fn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(On.store,{keyPath:On.keyPath}).createIndex(On.queryTargetsIndexName,On.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(kr.store)}var oh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",iw=function(){function t(e,i,a,c,f,p,y,_,E,C){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Se=f,this.window=p,this.document=y,this.De=E,this.Ce=C,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(T){return Promise.resolve()},!t.yt())throw new ye(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VT(this,c),this.Le=i+"main",this.R=new Gb(_),this.Be=new Ol(this.Le,11,new BT(this.R)),this.qe=new FT(this.referenceDelegate,this.R),this.Ut=new OT,this.Ue=new ay(this.R,this.Ut),this.Ke=new PT,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===C&&_n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ye(ee.FAILED_PRECONDITION,oh);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(i){return e.qe.getHighestSequenceNumber(i)})}).then(function(i){e.Ne=new br(i,e.De)}).then(function(){e.xe=!0}).catch(function(i){return e.Be&&e.Be.close(),Promise.reject(i)})},t.prototype.He=function(e){var i=this;return this.Me=function(a){return(0,S.mG)(i,void 0,void 0,function(){return(0,S.Jh)(this,function(c){return this.started?[2,e(a)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var i=this;this.Be.vt(function(a){return(0,S.mG)(i,void 0,void 0,function(){return(0,S.Jh)(this,function(c){switch(c.label){case 0:return null===a.newVersion?[4,e()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,S.mG)(i,void 0,void 0,function(){return(0,S.Jh)(this,function(a){switch(a.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(i){return uy(i).put(new Ao(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(i).next(function(a){a||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(i)}).next(function(a){return e.isPrimary&&!a?e.Xe(i).next(function(){return!1}):!!a&&e.Ze(i).next(function(){return!0})})}).catch(function(i){if(us(i))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",i),e.isPrimary;if(!e.allowTabSynchronization)throw i;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(function(i){e.isPrimary!==i&&e.Se.enqueueRetryable(function(){return e.Me(i)}),e.isPrimary=i})},t.prototype.Je=function(e){var i=this;return ku(e).get(Or.key).next(function(a){return be.resolve(i.tn(a))})},t.prototype.en=function(e){return uy(e).delete(this.clientId)},t.prototype.nn=function(){return(0,S.mG)(this,void 0,void 0,function(){var e,i,a,f=this;return(0,S.Jh)(this,function(p){switch(p.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(y){var _=Tr(y,Ao.store);return _.Nt().next(function(E){var C=f.rn(E,18e5),T=E.filter(function(R){return-1===C.indexOf(R)});return be.forEach(T,function(R){return _.delete(R.clientId)}).next(function(){return T})})}).catch(function(){return[]})]);case 1:if(e=p.sent(),this.Qe)for(i=0,a=e;i<a.length;i++)this.Qe.removeItem(this.on(a[i].clientId));p.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var i=this;return this.Ce?be.resolve(!0):ku(e).get(Or.key).next(function(a){if(null!==a&&i.sn(a.leaseTimestampMs,5e3)&&!i.cn(a.ownerId)){if(i.tn(a)&&i.networkEnabled)return!0;if(!i.tn(a)){if(!a.allowTabSynchronization)throw new ye(ee.FAILED_PRECONDITION,oh);return!1}}return!(!i.networkEnabled||!i.inForeground)||uy(e).Nt().next(function(c){return void 0===i.rn(c,5e3).find(function(f){return!(i.clientId===f.clientId||!(!i.networkEnabled&&f.networkEnabled||!i.inForeground&&f.inForeground&&i.networkEnabled===f.networkEnabled))})})}).next(function(a){return i.isPrimary!==a&&Ce("IndexedDbPersistence","Client "+(a?"is":"is not")+" eligible for a primary lease."),a})},t.prototype.shutdown=function(){return(0,S.mG)(this,void 0,void 0,function(){var e=this;return(0,S.Jh)(this,function(i){switch(i.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Or.store,Ao.store],function(a){var c=new Au(a,br.o);return e.Xe(c).next(function(){return e.en(c)})})];case 1:return i.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,i){var a=this;return e.filter(function(c){return a.sn(c.updateTimeMs,i)&&!a.cn(c.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(i){return uy(i).Nt().next(function(a){return e.rn(a,18e5).map(function(c){return c.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return kT.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,a){var f,c=this;return Ce("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===i?"readonly":"readwrite",Bb,function(y){return f=new Au(y,c.Ne?c.Ne.next():br.o),"readwrite-primary"===i?c.Je(f).next(function(_){return!!_||c.Ye(f)}).next(function(_){if(!_)throw _n("Failed to obtain primary lease for action '"+e+"'."),c.isPrimary=!1,c.Se.enqueueRetryable(function(){return c.Me(!1)}),new ye(ee.FAILED_PRECONDITION,Hb);return a(f)}).next(function(_){return c.Ze(f).next(function(){return _})}):c.dn(f).next(function(){return a(f)})}).then(function(y){return f.raiseOnCommittedEvent(),y})},t.prototype.dn=function(e){var i=this;return ku(e).get(Or.key).next(function(a){if(null!==a&&i.sn(a.leaseTimestampMs,5e3)&&!i.cn(a.ownerId)&&!i.tn(a)&&!(i.Ce||i.allowTabSynchronization&&a.allowTabSynchronization))throw new ye(ee.FAILED_PRECONDITION,oh)})},t.prototype.Ze=function(e){var i=new Or(this.clientId,this.allowTabSynchronization,Date.now());return ku(e).put(Or.key,i)},t.yt=function(){return Ol.yt()},t.prototype.Xe=function(e){var i=this,a=ku(e);return a.get(Or.key).next(function(c){return i.tn(c)?(Ce("IndexedDbPersistence","Releasing primary lease."),a.delete(Or.key)):be.resolve()})},t.prototype.sn=function(e,i){var a=Date.now();return!(e<a-i||e>a&&(_n("Detected an update time that is in the future: "+e+" > "+a),1))},t.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,i=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){i.un(),(0,st.G6)()&&navigator.appVersion.match("Version/14")&&i.Se.enterRestrictedMode(!0),i.Se.enqueueAndForget(function(){return i.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var i;try{var a=null!==(null===(i=this.Qe)||void 0===i?void 0:i.getItem(this.on(e)));return Ce("IndexedDbPersistence","Client '"+e+"' "+(a?"is":"is not")+" zombied in LocalStorage"),a}catch(c){return _n("IndexedDbPersistence","Failed to get zombied client id.",c),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){_n("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function ku(t){return Tr(t,Or.store)}function uy(t){return Tr(t,Ao.store)}function cy(t,e){var i=t.projectId;return t.isDefaultDatabase||(i+="."+t.database),"firestore/"+e+"/"+i+"/"}var aa=function(t,e){this.progress=t,this.wn=e},HT=function(){function t(e,i,a){this.Ue=e,this._n=i,this.Ut=a}return t.prototype.mn=function(e,i){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,i).next(function(c){return a.yn(e,i,c)})},t.prototype.yn=function(e,i,a){return this.Ue.getEntry(e,i).next(function(c){for(var f=0,p=a;f<p.length;f++)p[f].applyToLocalView(c);return c})},t.prototype.gn=function(e,i){e.forEach(function(a,c){for(var f=0,p=i;f<p.length;f++)p[f].applyToLocalView(c)})},t.prototype.pn=function(e,i){var a=this;return this.Ue.getEntries(e,i).next(function(c){return a.En(e,c).next(function(){return c})})},t.prototype.En=function(e,i){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,i).next(function(c){return a.gn(i,c)})},t.prototype.getDocumentsMatchingQuery=function(e,i,a){return Ue.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Tn(e,i.path):Bd(i)?this.In(e,i,a):this.An(e,i,a);var c},t.prototype.Tn=function(e,i){return this.mn(e,new Ue(i)).next(function(a){var c=$m();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})},t.prototype.In=function(e,i,a){var c=this,f=i.collectionGroup,p=$m();return this.Ut.getCollectionParents(e,f).next(function(y){return be.forEach(y,function(_){var C,T,E=(C=i,T=_.child(f),new Wi(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));return c.An(e,E,a).next(function(C){C.forEach(function(T,R){p=p.insert(T,R)})})}).next(function(){return p})})},t.prototype.An=function(e,i,a){var c,f,p=this;return this.Ue.getDocumentsMatchingQuery(e,i,a).next(function(y){return c=y,p._n.getAllMutationBatchesAffectingQuery(e,i)}).next(function(y){return p.Rn(e,f=y,c).next(function(_){c=_;for(var E=0,C=f;E<C.length;E++)for(var T=C[E],R=0,N=T.mutations;R<N.length;R++){var F=N[R],B=F.key,re=c.get(B);null==re&&(re=Pn.newInvalidDocument(B),c=c.insert(B,re)),qd(F,re,T.localWriteTime),re.isFoundDocument()||(c=c.remove(B))}})}).next(function(){return c.forEach(function(y,_){Ki(i,_)||(c=c.remove(y))}),c})},t.prototype.Rn=function(e,i,a){for(var c=St(),f=0,p=i;f<p.length;f++)for(var y=0,_=p[f].mutations;y<_.length;y++){var E=_[y];E instanceof is&&null===a.get(E.key)&&(c=c.add(E.key))}var C=a;return this.Ue.getEntries(e,c).next(function(T){return T.forEach(function(R,N){N.isFoundDocument()&&(C=C.insert(R,N))}),C})},t}(),ly=function(){function t(e,i,a,c){this.targetId=e,this.fromCache=i,this.bn=a,this.vn=c}return t.Pn=function(e,i){for(var a=St(),c=St(),f=0,p=i.docChanges;f<p.length;f++){var y=p[f];switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:c=c.add(y.doc.key)}}return new t(e,i.fromCache,a,c)},t}(),Fl=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,i,a,c){var p,f=this;return 0===(p=i).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||a.isEqual(rt.min())?this.Dn(e,i):this.Sn.pn(e,c).next(function(p){var y=f.Cn(i,p);return(jd(i)||Tl(i))&&f.Nn(i.limitType,y,c,a)?f.Dn(e,i):(ym()<=fo.in.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Hd(i)),f.Sn.getDocumentsMatchingQuery(e,i,a).next(function(_){return y.forEach(function(E){_=_.insert(E.key,E)}),_}))})},t.prototype.Cn=function(e,i){var a=new Cn(mb(e));return i.forEach(function(c,f){Ki(e,f)&&(a=a.add(f))}),a},t.prototype.Nn=function(e,i,a,c){if(a.size!==i.size)return!0;var f="F"===e?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)},t.prototype.Dn=function(e,i){return ym()<=fo.in.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Hd(i)),this.Sn.getDocumentsMatchingQuery(e,i,rt.min())},t}(),qT=function(){function t(e,i,a,c){this.persistence=e,this.xn=i,this.R=c,this.kn=new qn(gt),this.Fn=new ls(function(f){return bu(f)},Vd),this.$n=rt.min(),this._n=e.getMutationQueue(a),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new HT(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var i=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(a){return e.collect(a,i.kn)})},t}();function ua(t,e,i,a){return new qT(t,e,i,a)}function ow(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a,c,f;return(0,S.Jh)(this,function(p){switch(p.label){case 0:return i=Te(t),a=i._n,c=i.Mn,[4,i.persistence.runTransaction("Handle user change","readonly",function(y){var _;return i._n.getAllMutationBatches(y).next(function(E){return _=E,a=i.persistence.getMutationQueue(e),c=new HT(i.On,a,i.persistence.getIndexManager()),a.getAllMutationBatches(y)}).next(function(E){for(var C=[],T=[],R=St(),N=0,F=_;N<F.length;N++){var B=F[N];C.push(B.batchId);for(var re=0,de=B.mutations;re<de.length;re++)R=R.add(de[re].key)}for(var Ee=0,ke=E;Ee<ke.length;Ee++){var xe=ke[Ee];T.push(xe.batchId);for(var lt=0,Mt=xe.mutations;lt<Mt.length;lt++)R=R.add(Mt[lt].key)}return c.pn(y,R).next(function(Rn){return{Ln:Rn,removedBatchIds:C,addedBatchIds:T}})})})];case 1:return f=p.sent(),[2,(i._n=a,i.Mn=c,i.xn.Vn(i.Mn),f)]}})})}function f1(t,e){var i=Te(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(a){var p,y,_,E,C,T,R,c=e.batch.keys(),f=i.On.newChangeBuffer({trackRemovals:!0});return(p=i,y=a,_=e,E=f,C=_.batch,T=C.keys(),R=be.resolve(),T.forEach(function(N){R=R.next(function(){return E.getEntry(y,N)}).next(function(F){var B=_.docVersions.get(N);Qe(null!==B),F.version.compareTo(B)<0&&(C.applyToRemoteDocument(F,_),F.isValidDocument()&&E.addEntry(F,_.commitVersion))})}),R.next(function(){return p._n.removeMutationBatch(y,C)})).next(function(){return f.apply(a)}).next(function(){return i._n.performConsistencyCheck(a)}).next(function(){return i.Mn.pn(a,c)})})}function sw(t){var e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(i){return e.qe.getLastRemoteSnapshotVersion(i)})}function Ji(t,e){var i=Te(t),a=e.snapshotVersion,c=i.kn;return i.persistence.runTransaction("Apply remote event","readwrite-primary",function(f){var p=i.On.newChangeBuffer({trackRemovals:!0});c=i.kn;var y=[];e.targetChanges.forEach(function(C,T){var B,re,de,R=c.get(T);if(R){y.push(i.qe.removeMatchingKeys(f,C.removedDocuments,T).next(function(){return i.qe.addMatchingKeys(f,C.addedDocuments,T)}));var N=C.resumeToken;if(N.approximateByteSize()>0){var F=R.withResumeToken(N,a).withSequenceNumber(f.currentSequenceNumber);c=c.insert(T,F),B=R,de=C,Qe((re=F).resumeToken.approximateByteSize()>0),(0===B.resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&y.push(i.qe.updateTargetData(f,F))}}});var _=Jr();if(e.documentUpdates.forEach(function(C,T){e.resolvedLimboDocuments.has(C)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(f,C))}),y.push(fy(f,p,e.documentUpdates,a,void 0).next(function(C){_=C})),!a.isEqual(rt.min())){var E=i.qe.getLastRemoteSnapshotVersion(f).next(function(C){return i.qe.setTargetsMetadata(f,f.currentSequenceNumber,a)});y.push(E)}return be.waitFor(y).next(function(){return p.apply(f)}).next(function(){return i.Mn.En(f,_)}).next(function(){return _})}).then(function(f){return i.kn=c,f})}function fy(t,e,i,a,c){var f=St();return i.forEach(function(p){return f=f.add(p)}),e.getEntries(t,f).next(function(p){var y=Jr();return i.forEach(function(_,E){var C=p.get(_),T=(null==c?void 0:c.get(_))||a;E.isNoDocument()&&E.version.isEqual(rt.min())?(e.removeEntry(_,T),y=y.insert(_,E)):!C.isValidDocument()||E.version.compareTo(C.version)>0||0===E.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(E,T),y=y.insert(_,E)):Ce("LocalStore","Ignoring outdated watch update for ",_,". Current version:",C.version," Watch version:",E.version)}),y})}function d1(t,e){var i=Te(t);return i.persistence.runTransaction("Get next mutation batch","readonly",function(a){return void 0===e&&(e=-1),i._n.getNextMutationBatchAfterBatchId(a,e)})}function xo(t,e){var i=Te(t);return i.persistence.runTransaction("Allocate target","readwrite",function(a){var c;return i.qe.getTargetData(a,e).next(function(f){return f?be.resolve(c=f):i.qe.allocateTargetId(a).next(function(p){return c=new Jd(e,p,0,a.currentSequenceNumber),i.qe.addTargetData(a,c).next(function(){return c})})})}).then(function(a){var c=i.kn.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.kn=i.kn.insert(a.targetId,a),i.Fn.set(e,a.targetId)),a})}function Fu(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a,c,f,p;return(0,S.Jh)(this,function(y){switch(y.label){case 0:a=Te(t),c=a.kn.get(e),f=i?"readwrite":"readwrite-primary",y.label=1;case 1:return y.trys.push([1,4,,5]),i?[3,3]:[4,a.persistence.runTransaction("Release target",f,function(_){return a.persistence.referenceDelegate.removeTarget(_,c)})];case 2:y.sent(),y.label=3;case 3:return[3,5];case 4:if(!us(p=y.sent()))throw p;return Ce("LocalStore","Failed to update sequence numbers for target "+e+": "+p),[3,5];case 5:return a.kn=a.kn.remove(e),a.Fn.delete(c.target),[2]}})})}function sh(t,e,i){var a=Te(t),c=rt.min(),f=St();return a.persistence.runTransaction("Execute query","readonly",function(p){return(y=a,_=p,E=Qr(e),C=Te(y),T=C.Fn.get(E),void 0!==T?be.resolve(C.kn.get(T)):C.qe.getTargetData(_,E)).next(function(y){if(y)return c=y.lastLimboFreeSnapshotVersion,a.qe.getMatchingKeysForTargetId(p,y.targetId).next(function(_){f=_})}).next(function(){return a.xn.getDocumentsMatchingQuery(p,e,i?c:rt.min(),i?f:St())}).next(function(y){return{documents:y,Bn:f}});var y,_,E,C,T})}function GT(t,e){var i=Te(t),a=Te(i.qe),c=i.kn.get(e);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",function(f){return a.lt(f,e).next(function(p){return p?p.target:null})})}function aw(t){var e=Te(t);return e.persistence.runTransaction("Get new document changes","readonly",function(i){return c=i,f=e.$n,p=Te(e.On),y=Jr(),_=iy(f),E=Yi(c),C=IDBKeyRange.lowerBound(_,!0),E.$t({index:$t.readTimeIndex,range:C},function(T,R){var N=Xd(p.R,R);y=y.insert(N.key,N),_=R.readTime}).next(function(){return{wn:y,readTime:ia(_)}});var c,f,p,y,_,E,C}).then(function(i){var a=i.wn;return e.$n=i.readTime,a})}function $T(t){return(0,S.mG)(this,void 0,void 0,function(){var e;return(0,S.Jh)(this,function(i){return[2,(e=Te(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(a){return f=Yi(a),p=rt.min(),f.$t({index:$t.readTimeIndex,reverse:!0},function(y,_,E){_.readTime&&(p=ia(_.readTime)),E.done()}).next(function(){return p});var f,p}).then(function(a){e.$n=a})]})})}function ZT(t,e,i,a){return(0,S.mG)(this,void 0,void 0,function(){var c,f,p,y,_,E,C,T,R,N;return(0,S.Jh)(this,function(F){switch(F.label){case 0:for(c=Te(t),f=St(),p=Jr(),y=Eb(),_=0,E=i;_<E.length;_++)T=e.qn((C=E[_]).metadata.name),C.document&&(f=f.add(T)),p=p.insert(T,e.Un(C)),y=y.insert(T,e.Kn(C.metadata.readTime));return R=c.On.newChangeBuffer({trackRemovals:!0}),[4,xo(c,(B=a,Qr(Eu(yt.fromString("__bundle__/docs/"+B)))))];case 1:return N=F.sent(),[2,c.persistence.runTransaction("Apply bundle documents","readwrite",function(B){return fy(B,R,p,rt.min(),y).next(function(re){return R.apply(B),re}).next(function(re){return c.qe.removeMatchingKeysForTargetId(B,N.targetId).next(function(){return c.qe.addMatchingKeys(B,f,N.targetId)}).next(function(){return c.Mn.En(B,re)}).next(function(){return re})})})]}var B})})}function dy(t,e,i){return void 0===i&&(i=St()),(0,S.mG)(this,void 0,void 0,function(){var a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return[4,xo(t,Qr(eh(e.bundledQuery)))];case 1:return a=f.sent(),[2,(c=Te(t)).persistence.runTransaction("Save named query","readwrite",function(p){var y=Dn(e.readTime);if(a.snapshotVersion.compareTo(y)>=0)return c.Ke.saveNamedQuery(p,e);var _=a.withResumeToken(cr.EMPTY_BYTE_STRING,y);return c.kn=c.kn.insert(_.targetId,_),c.qe.updateTargetData(p,_).next(function(){return c.qe.removeMatchingKeysForTargetId(p,a.targetId)}).next(function(){return c.qe.addMatchingKeys(p,i,a.targetId)}).next(function(){return c.Ke.saveNamedQuery(p,e)})})]}})})}var uw=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,i){return be.resolve(this.Qn.get(i))},t.prototype.saveBundleMetadata=function(e,i){var a;return this.Qn.set(i.id,{id:(a=i).id,version:a.version,createTime:Dn(a.createTime)}),be.resolve()},t.prototype.getNamedQuery=function(e,i){return be.resolve(this.jn.get(i))},t.prototype.saveNamedQuery=function(e,i){return this.jn.set(i.name,{name:(a=i).name,query:eh(a.bundledQuery),readTime:Dn(a.readTime)}),be.resolve();var a},t}(),Ll=function(){function t(){this.Wn=new Cn(In.Gn),this.zn=new Cn(In.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,i){var a=new In(e,i);this.Wn=this.Wn.add(a),this.zn=this.zn.add(a)},t.prototype.Jn=function(e,i){var a=this;e.forEach(function(c){return a.addReference(c,i)})},t.prototype.removeReference=function(e,i){this.Yn(new In(e,i))},t.prototype.Xn=function(e,i){var a=this;e.forEach(function(c){return a.removeReference(c,i)})},t.prototype.Zn=function(e){var i=this,a=new Ue(new yt([])),c=new In(a,e),f=new In(a,e+1),p=[];return this.zn.forEachInRange([c,f],function(y){i.Yn(y),p.push(y.key)}),p},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(i){return e.Yn(i)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var i=new Ue(new yt([])),a=new In(i,e),c=new In(i,e+1),f=St();return this.zn.forEachInRange([a,c],function(p){f=f.add(p.key)}),f},t.prototype.containsKey=function(e){var i=new In(e,0),a=this.Wn.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)},t}(),In=function(){function t(e,i){this.key=e,this.ns=i}return t.Gn=function(e,i){return Ue.comparator(e.key,i.key)||gt(e.ns,i.ns)},t.Hn=function(e,i){return gt(e.ns,i.ns)||Ue.comparator(e.key,i.key)},t}(),zT=function(){function t(e,i){this.Ut=e,this.referenceDelegate=i,this._n=[],this.ss=1,this.rs=new Cn(In.Gn)}return t.prototype.checkEmpty=function(e){return be.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(e,i,a,c){var f=this.ss;this.ss++;var p=new ry(f,i,a,c);this._n.push(p);for(var y=0,_=c;y<_.length;y++){var E=_[y];this.rs=this.rs.add(new In(E.key,f)),this.Ut.addToCollectionParentIndex(e,E.key.path.popLast())}return be.resolve(p)},t.prototype.lookupMutationBatch=function(e,i){return be.resolve(this.os(i))},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var c=this.cs(i+1),f=c<0?0:c;return be.resolve(this._n.length>f?this._n[f]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return be.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return be.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var a=this,c=new In(i,0),f=new In(i,Number.POSITIVE_INFINITY),p=[];return this.rs.forEachInRange([c,f],function(y){var _=a.os(y.ns);p.push(_)}),be.resolve(p)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var a=this,c=new Cn(gt);return i.forEach(function(f){var p=new In(f,0),y=new In(f,Number.POSITIVE_INFINITY);a.rs.forEachInRange([p,y],function(_){c=c.add(_.ns)})}),be.resolve(this.us(c))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var a=i.path,c=a.length+1,f=a;Ue.isDocumentKey(f)||(f=f.child(""));var p=new In(new Ue(f),0),y=new Cn(gt);return this.rs.forEachWhile(function(_){var E=_.key.path;return!!a.isPrefixOf(E)&&(E.length===c&&(y=y.add(_.ns)),!0)},p),be.resolve(this.us(y))},t.prototype.us=function(e){var i=this,a=[];return e.forEach(function(c){var f=i.os(c);null!==f&&a.push(f)}),a},t.prototype.removeMutationBatch=function(e,i){var a=this;Qe(0===this.hs(i.batchId,"removed")),this._n.shift();var c=this.rs;return be.forEach(i.mutations,function(f){var p=new In(f.key,i.batchId);return c=c.delete(p),a.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(function(){a.rs=c})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,i){var a=new In(i,0),c=this.rs.firstAfterOrEqual(a);return be.resolve(i.isEqual(c&&c.key))},t.prototype.performConsistencyCheck=function(e){return be.resolve()},t.prototype.hs=function(e,i){return this.cs(e)},t.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},t.prototype.os=function(e){var i=this.cs(e);return i<0||i>=this._n.length?null:this._n[i]},t}(),h1=function(){function t(e,i){this.Ut=e,this.ls=i,this.docs=new qn(Ue.comparator),this.size=0}return t.prototype.addEntry=function(e,i,a){var c=i.key,f=this.docs.get(c),p=f?f.size:0,y=this.ls(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:y,readTime:a}),this.size+=y-p,this.Ut.addToCollectionParentIndex(e,c.path.popLast())},t.prototype.removeEntry=function(e){var i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)},t.prototype.getEntry=function(e,i){var a=this.docs.get(i);return be.resolve(a?a.document.clone():Pn.newInvalidDocument(i))},t.prototype.getEntries=function(e,i){var a=this,c=Jr();return i.forEach(function(f){var p=a.docs.get(f);c=c.insert(f,p?p.document.clone():Pn.newInvalidDocument(f))}),be.resolve(c)},t.prototype.getDocumentsMatchingQuery=function(e,i,a){for(var c=Jr(),f=new Ue(i.path.child("")),p=this.docs.getIteratorFrom(f);p.hasNext();){var y=p.getNext(),E=y.value,C=E.document,T=E.readTime;if(!i.path.isPrefixOf(y.key.path))break;T.compareTo(a)<=0||Ki(i,C)&&(c=c.insert(C.key,C.clone()))}return be.resolve(c)},t.prototype.fs=function(e,i){return be.forEach(this.docs,function(a){return i(a)})},t.prototype.newChangeBuffer=function(e){return new WT(this)},t.prototype.getSize=function(e){return be.resolve(this.size)},t}(),WT=function(t){function e(i){var a=this;return(a=t.call(this)||this).Ie=i,a}return(0,S.ZT)(e,t),e.prototype.applyChanges=function(i){var a=this,c=[];return this.changes.forEach(function(f,p){p.document.isValidDocument()?c.push(a.Ie.addEntry(i,p.document,a.getReadTime(f))):a.Ie.removeEntry(f)}),be.waitFor(c)},e.prototype.getFromCache=function(i,a){return this.Ie.getEntry(i,a)},e.prototype.getAllFromCache=function(i,a){return this.Ie.getEntries(i,a)},e}(sy),KT=function(){function t(e){this.persistence=e,this.ds=new ls(function(i){return bu(i)},Vd),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.ws=0,this._s=new Ll,this.targetCount=0,this.ys=rh.Jt()}return t.prototype.forEachTarget=function(e,i){return this.ds.forEach(function(a,c){return i(c)}),be.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return be.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return be.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),be.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ws&&(this.ws=i),be.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var i=e.targetId;i>this.highestTargetId&&(this.ys=new rh(i),this.highestTargetId=i),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,i){return this.te(i),this.targetCount+=1,be.resolve()},t.prototype.updateTargetData=function(e,i){return this.te(i),be.resolve()},t.prototype.removeTargetData=function(e,i){return this.ds.delete(i.target),this._s.Zn(i.targetId),this.targetCount-=1,be.resolve()},t.prototype.removeTargets=function(e,i,a){var c=this,f=0,p=[];return this.ds.forEach(function(y,_){_.sequenceNumber<=i&&null===a.get(_.targetId)&&(c.ds.delete(y),p.push(c.removeMatchingKeysForTargetId(e,_.targetId)),f++)}),be.waitFor(p).next(function(){return f})},t.prototype.getTargetCount=function(e){return be.resolve(this.targetCount)},t.prototype.getTargetData=function(e,i){var a=this.ds.get(i)||null;return be.resolve(a)},t.prototype.addMatchingKeys=function(e,i,a){return this._s.Jn(i,a),be.resolve()},t.prototype.removeMatchingKeys=function(e,i,a){this._s.Xn(i,a);var c=this.persistence.referenceDelegate,f=[];return c&&i.forEach(function(p){f.push(c.markPotentiallyOrphaned(e,p))}),be.waitFor(f)},t.prototype.removeMatchingKeysForTargetId=function(e,i){return this._s.Zn(i),be.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,i){var a=this._s.es(i);return be.resolve(a)},t.prototype.containsKey=function(e,i){return be.resolve(this._s.containsKey(i))},t}(),QT=function(){function t(e,i){var a=this;this.gs={},this.Ne=new br(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new KT(this),this.Ut=new Wb,this.Ue=new h1(this.Ut,function(p){return a.referenceDelegate.ps(p)}),this.R=new Gb(i),this.Ke=new uw(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var i=this.gs[e.toKey()];return i||(i=new zT(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=i),i},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,a){var c=this;Ce("MemoryPersistence","Starting transaction:",e);var f=new cw(this.Ne.next());return this.referenceDelegate.Es(),a(f).next(function(p){return c.referenceDelegate.Ts(f).next(function(){return p})}).toPromise().then(function(p){return f.raiseOnCommittedEvent(),p})},t.prototype.Is=function(e,i){return be.or(Object.values(this.gs).map(function(a){return function(){return a.containsKey(e,i)}}))},t}(),cw=function(t){function e(i){var a=this;return(a=t.call(this)||this).currentSequenceNumber=i,a}return(0,S.ZT)(e,t),e}(ny),lw=function(){function t(e){this.persistence=e,this.As=new Ll,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Oe()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,i,a){return this.As.addReference(a,i),this.vs.delete(a.toString()),be.resolve()},t.prototype.removeReference=function(e,i,a){return this.As.removeReference(a,i),this.vs.add(a.toString()),be.resolve()},t.prototype.markPotentiallyOrphaned=function(e,i){return this.vs.add(i.toString()),be.resolve()},t.prototype.removeTarget=function(e,i){var a=this;this.As.Zn(i.targetId).forEach(function(f){return a.vs.add(f.toString())});var c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,i.targetId).next(function(f){f.forEach(function(p){return a.vs.add(p.toString())})}).next(function(){return c.removeTargetData(e,i)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var i=this,a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.vs,function(c){var f=Ue.fromPath(c);return i.Ps(e,f).next(function(p){p||a.removeEntry(f)})}).next(function(){return i.Rs=null,a.apply(e)})},t.prototype.updateLimboDocument=function(e,i){var a=this;return this.Ps(e,i).next(function(c){c?a.vs.delete(i.toString()):a.vs.add(i.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,i){var a=this;return be.or([function(){return be.resolve(a.As.containsKey(i))},function(){return a.persistence.getTargetCache().containsKey(e,i)},function(){return a.persistence.Is(e,i)}])},t}(),kn=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function fw(t,e){return"firestore_clients_"+t+"_"+e}function dw(t,e,i){var a="firestore_mutations_"+t+"_"+i;return e.isAuthenticated()&&(a+="_"+e.uid),a}function ah(t,e){return"firestore_targets_"+t+"_"+e}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");var Ul=function(){function t(e,i,a,c){this.user=e,this.batchId=i,this.state=a,this.error=c}return t.Vs=function(e,i,a){var c,f=JSON.parse(a),p="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return p&&f.error&&(p="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(c=new ye(f.error.code,f.error.message)),p?new t(e,i,f.state,c):(_n("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+a),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),hy=function(){function t(e,i,a){this.targetId=e,this.state=i,this.error=a}return t.Vs=function(e,i){var a,c=JSON.parse(i),f="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(a=new ye(c.error.code,c.error.message)),f?new t(e,c.state,a):(_n("SharedClientState","Failed to parse target state for ID '"+e+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),py=function(){function t(e,i){this.clientId=e,this.activeTargetIds=i}return t.Vs=function(e,i){for(var a=JSON.parse(i),c="object"==typeof a&&a.activeTargetIds instanceof Array,f=$d(),p=0;c&&p<a.activeTargetIds.length;++p)c=Od(a.activeTargetIds[p]),f=f.add(a.activeTargetIds[p]);return c?new t(e,f):(_n("SharedClientState","Failed to parse client data for instance '"+e+"': "+i),null)},t}(),uh=function(){function t(e,i){this.clientId=e,this.onlineState=i}return t.Vs=function(e){var i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new t(i.clientId,i.onlineState):(_n("SharedClientState","Failed to parse online state: "+e),null)},t}(),Lu=function(){function t(){this.activeTargetIds=$d()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),ca=function(){function t(e,i,a,c,f){this.window=e,this.Se=i,this.persistenceKey=a,this.Ns=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new qn(gt),this.started=!1,this.$s=[];var p=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Os=fw(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Lu),this.Ls=new RegExp("^firestore_clients_"+p+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+p+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+p+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(y){return"firestore_bundle_loaded_"+y}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return(0,S.mG)(this,void 0,void 0,function(){var e,i,a,c,f,p,y,_,E,C,R=this;return(0,S.Jh)(this,function(N){switch(N.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=N.sent(),i=0,a=e;i<a.length;i++)(c=a[i])!==this.Ns&&(f=this.getItem(fw(this.persistenceKey,c)))&&(p=py.Vs(c,f))&&(this.Fs=this.Fs.insert(p.clientId,p));for(this.Qs(),(y=this.storage.getItem(this.Us))&&(_=this.js(y))&&this.Ws(_),E=0,C=this.$s;E<C.length;E++)this.ks(C[E]);return this.$s=[],this.window.addEventListener("pagehide",function(){return R.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var i=!1;return this.Fs.forEach(function(a,c){c.activeTargetIds.has(e)&&(i=!0)}),i},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,i,a){this.zs(e,i,a),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var i="not-current";if(this.isActiveQueryTarget(e)){var a=this.storage.getItem(ah(this.persistenceKey,e));if(a){var c=hy.Vs(e,a);c&&(i=c.state)}}return this.Js.Ds(e),this.Qs(),i},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(ah(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,i,a){this.Ys(e,i,a)},t.prototype.handleUserChange=function(e,i,a){var c=this;i.forEach(function(f){c.Hs(f)}),this.currentUser=e,a.forEach(function(f){c.addPendingMutation(f)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var i=this.storage.getItem(e);return Ce("SharedClientState","READ",e,i),i},t.prototype.setItem=function(e,i){Ce("SharedClientState","SET",e,i),this.storage.setItem(e,i)},t.prototype.removeItem=function(e){Ce("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var i=this,a=e;if(a.storageArea===this.storage){if(Ce("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Os)return void _n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,S.mG)(i,void 0,void 0,function(){var c,f,p,y,_,E;return(0,S.Jh)(this,function(C){if(this.started){if(null!==a.key)if(this.Ls.test(a.key)){if(null==a.newValue)return c=this.ti(a.key),[2,this.ei(c,null)];if(f=this.ni(a.key,a.newValue))return[2,this.ei(f.clientId,f)]}else if(this.Bs.test(a.key)){if(null!==a.newValue&&(p=this.si(a.key,a.newValue)))return[2,this.ii(p)]}else if(this.qs.test(a.key)){if(null!==a.newValue&&(y=this.ri(a.key,a.newValue)))return[2,this.oi(y)]}else if(a.key===this.Us){if(null!==a.newValue&&(_=this.js(a.newValue)))return[2,this.Ws(_)]}else if(a.key===this.Ms)(E=function(T){var R=br.o;if(null!=T)try{var N=JSON.parse(T);Qe("number"==typeof N),R=N}catch(F){_n("SharedClientState","Failed to read sequence number from WebStorage",F)}return R}(a.newValue))!==br.o&&this.sequenceNumberHandler(E);else if(a.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(a);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,i,a){var c=new Ul(this.currentUser,e,i,a),f=dw(this.persistenceKey,this.currentUser,e);this.setItem(f,c.Ss())},t.prototype.Hs=function(e){var i=dw(this.persistenceKey,this.currentUser,e);this.removeItem(i)},t.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},t.prototype.Ys=function(e,i,a){var c=ah(this.persistenceKey,e),f=new hy(e,i,a);this.setItem(c,f.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var i=this.Ls.exec(e);return i?i[1]:null},t.prototype.ni=function(e,i){var a=this.ti(e);return py.Vs(a,i)},t.prototype.si=function(e,i){var a=this.Bs.exec(e),c=Number(a[1]);return Ul.Vs(new kn(void 0!==a[2]?a[2]:null),c,i)},t.prototype.ri=function(e,i){var a=this.qs.exec(e),c=Number(a[1]);return hy.Vs(c,i)},t.prototype.js=function(e){return uh.Vs(e)},t.prototype.ii=function(e){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(i){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ce("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,i){var a=this,c=i?this.Fs.insert(e,i):this.Fs.remove(e),f=this.Gs(this.Fs),p=this.Gs(c),y=[],_=[];return p.forEach(function(E){f.has(E)||y.push(E)}),f.forEach(function(E){p.has(E)||_.push(E)}),this.syncEngine.hi(y,_).then(function(){a.Fs=c})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var i=$d();return e.forEach(function(a,c){i=i.unionWith(c.activeTargetIds)}),i},t}(),hw=function(){function t(){this.li=new Lu,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,i,a){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,i,a){this.fi[e]=i},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Lu,Promise.resolve()},t.prototype.handleUserChange=function(e,i,a){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),YT=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),JT=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(0)},t.prototype.yi=function(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),XT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eI=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),tI=function(t){function e(i){var a=this;return(a=t.call(this,i)||this).forceLongPolling=i.forceLongPolling,a.autoDetectLongPolling=i.autoDetectLongPolling,a.useFetchStreams=i.useFetchStreams,a}return(0,S.ZT)(e,t),e.prototype.Fi=function(i,a,c,f){return new Promise(function(p,y){var _=new ab;_.listenOnce(sb.COMPLETE,function(){try{switch(_.getLastErrorCode()){case hm.NO_ERROR:var C=_.getResponseJson();Ce("Connection","XHR received:",JSON.stringify(C)),p(C);break;case hm.TIMEOUT:Ce("Connection",'RPC "'+i+'" timed out'),y(new ye(ee.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:var T=_.getStatus();if(Ce("Connection",'RPC "'+i+'" failed with status:',T,"response text:",_.getResponseText()),T>0){var R=_.getResponseJson().error;if(R&&R.status&&R.message){var N=(B=R.status.toLowerCase().replace(/_/g,"-"),Object.values(ee).indexOf(B)>=0?B:ee.UNKNOWN);y(new ye(N,R.message))}else y(new ye(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ye(ee.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{Ce("Connection",'RPC "'+i+'" completed.')}var B});var E=JSON.stringify(f);_.send(a,"POST",E,c,15)})},e.prototype.Oi=function(i,a){var c=[this.Di,"/","google.firestore.v1.Firestore","/",i,"/channel"],f=new gl,p=el(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new mm({})),this.ki(y.initMessageHeaders,a),(0,st.uI)()||(0,st.b$)()||(0,st.d)()||(0,st.w1)()||(0,st.Mn)()||(0,st.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");var _=c.join("");Ce("Connection","Creating WebChannel: "+_,y);var E=f.createWebChannel(_,y),C=!1,T=!1,R=new eI({Ei:function(F){T?Ce("Connection","Not sending because WebChannel is closed:",F):(C||(Ce("Connection","Opening WebChannel transport."),E.open(),C=!0),Ce("Connection","WebChannel sending:",F),E.send(F))},Ti:function(){return E.close()}}),N=function(F,B,re){F.listen(B,function(de){try{re(de)}catch(we){setTimeout(function(){throw we},0)}})};return N(E,ml.EventType.OPEN,function(){T||Ce("Connection","WebChannel transport opened.")}),N(E,ml.EventType.CLOSE,function(){T||(T=!0,Ce("Connection","WebChannel transport closed"),R.Vi())}),N(E,ml.EventType.ERROR,function(F){T||(T=!0,yl("Connection","WebChannel transport errored:",F),R.Vi(new ye(ee.UNAVAILABLE,"The operation could not be completed")))}),N(E,ml.EventType.MESSAGE,function(F){var B;if(!T){var re=F.data[0];Qe(!!re);var we=re.error||(null===(B=re[0])||void 0===B?void 0:B.error);if(we){Ce("Connection","WebChannel received error:",we);var Ee=we.status,ke=function(lt){var Mt=Gt[lt];if(void 0!==Mt)return Gm(Mt)}(Ee),xe=we.message;void 0===ke&&(ke=ee.INTERNAL,xe="Unknown error status: "+Ee+" with message "+we.message),T=!0,R.Vi(new ye(ke,xe)),E.close()}else Ce("Connection","WebChannel received:",re),R.Si(re)}}),N(p,pm.STAT_EVENT,function(F){F.stat===gm_PROXY?Ce("Connection","Detected buffering proxy"):F.stat===gm_NOPROXY&&Ce("Connection","Detected no buffering proxy")}),setTimeout(function(){R.Pi()},0),R},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,i,a,c){var f=this.xi(e,i);Ce("RestConnection","Sending: ",f,a);var p={};return this.ki(p,c),this.Fi(e,f,p,a).then(function(y){return Ce("RestConnection","Received: ",y),y},function(y){throw yl("RestConnection",e+" failed with error: ",y,"url: ",f,"request:",a),y})},t.prototype.$i=function(e,i,a,c){return this.Ni(e,i,a,c)},t.prototype.ki=function(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(var a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(e[a]=i.authHeaders[a])},t.prototype.xi=function(e,i){return this.Di+"/v1/"+i+":"+XT[e]},t}());function pw(){return"undefined"!=typeof window?window:null}function ch(){return"undefined"!=typeof document?document:null}function Vl(t){return new Rb(t,!0)}var gy=function(){function t(e,i,a,c,f){void 0===a&&(a=1e3),void 0===c&&(c=1.5),void 0===f&&(f=6e4),this.Se=e,this.timerId=i,this.Mi=a,this.Li=c,this.Bi=f,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var i=this;this.cancel();var a=Math.floor(this.qi+this.Wi()),c=Math.max(0,Date.now()-this.Ki),f=Math.max(0,a-c);f>0&&Ce("ExponentialBackoff","Backing off for "+f+" ms (base delay: "+this.qi+" ms, delay with jitter: "+a+" ms, last attempt: "+c+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,f,function(){return i.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),gw=function(){function t(e,i,a,c,f,p){this.Se=e,this.zi=a,this.Hi=c,this.Ji=f,this.listener=p,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new gy(e,i)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,i){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){switch(a.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(_n(i.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):i&&i.code===ee.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(i)];case 1:return a.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var i=this.hr(this.Yi),a=this.Yi;this.Ji.getToken().then(function(c){e.Yi===a&&e.lr(c)},function(c){i(function(){var f=new ye(ee.UNKNOWN,"Fetching auth token failed: "+c.message);return e.dr(f)})})},t.prototype.lr=function(e){var i=this,a=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){a(function(){return i.state=2,i.listener.Ii()})}),this.stream.Ri(function(c){a(function(){return i.dr(c)})}),this.stream.onMessage(function(c){a(function(){return i.onMessage(c)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,S.mG)(e,void 0,void 0,function(){return(0,S.Jh)(this,function(i){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return Ce("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var i=this;return function(a){i.Se.enqueueAndForget(function(){return i.Yi===e?a():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),nI=function(t){function e(i,a,c,f,p){var y=this;return(y=t.call(this,i,"listen_stream_connection_backoff","listen_stream_idle",a,c,p)||this).R=f,y}return(0,S.ZT)(e,t),e.prototype.wr=function(i){return this.Hi.Oi("Listen",i)},e.prototype.onMessage=function(i){this.Zi.reset();var a=function(f,p){var y,re;if("targetChange"in p){var _="NO_CHANGE"===(re=p.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===re?1:"REMOVE"===re?2:"CURRENT"===re?3:"RESET"===re?4:Oe(),E=p.targetChange.targetIds||[],C=function(re,de){return re.I?(Qe(void 0===de||"string"==typeof de),cr.fromBase64String(de||"")):(Qe(void 0===de||de instanceof Uint8Array),cr.fromUint8Array(de||new Uint8Array))}(f,p.targetChange.resumeToken),T=(R=p.targetChange.cause)&&function(re){var de=void 0===re.code?ee.UNKNOWN:Gm(re.code);return new ye(de,re.message||"")}(R);y=new Tb(_,E,C,T||null)}else if("documentChange"in p){E=lr(f,(_=p.documentChange).document.name),C=Dn(_.document.updateTime);var R=new Cr({mapValue:{fields:_.document.fields}}),N=(T=Pn.newFoundDocument(E,C,R),_.targetIds||[]);y=new Zd(N,_.removedTargetIds||[],T.key,T)}else if("documentDelete"in p)E=lr(f,(_=p.documentDelete).document),C=_.readTime?Dn(_.readTime):rt.min(),R=Pn.newNoDocument(E,C),y=new Zd([],T=_.removedTargetIds||[],R.key,R);else if("documentRemove"in p)E=lr(f,(_=p.documentRemove).document),y=new Zd([],C=_.removedTargetIds||[],E,null);else{if(!("filter"in p))return Oe();var B=p.filter;E=new bb(_=B.count||0),y=new Db(C=B.targetId,E)}return y}(this.R,i),c=function(f){if(!("targetChange"in f))return rt.min();var p=f.targetChange;return p.targetIds&&p.targetIds.length?rt.min():p.readTime?Dn(p.readTime):rt.min()}(i);return this.listener._r(a,c)},e.prototype.mr=function(i){var f,p,y,_,a={};a.database=Wd(this.R),a.addTarget=(f=this.R,(y=Cl(_=(p=i).target)?{documents:Pb(f,_)}:{query:Ob(f,_)}).targetId=p.targetId,p.resumeToken.approximateByteSize()>0?y.resumeToken=Ym(f,p.resumeToken):p.snapshotVersion.compareTo(rt.min())>0&&(y.readTime=Su(f,p.snapshotVersion.toTimestamp())),y);var c=function(f,p){var y=function(_,E){switch(E){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Oe()}}(0,p.purpose);return null==y?null:{"goog-listen-tags":y}}(0,i);c&&(a.labels=c),this.cr(a)},e.prototype.yr=function(i){var a={};a.database=Wd(this.R),a.removeTarget=i,this.cr(a)},e}(gw),p1=function(t){function e(i,a,c,f,p){var y=this;return(y=t.call(this,i,"write_stream_connection_backoff","write_stream_idle",a,c,p)||this).R=f,y.gr=!1,y}return(0,S.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(i){return this.Hi.Oi("Write",i)},e.prototype.onMessage=function(i){if(Qe(!!i.streamToken),this.lastStreamToken=i.streamToken,this.gr){this.Zi.reset();var a=(p=i.commitTime,(f=i.writeResults)&&f.length>0?(Qe(void 0!==p),f.map(function(y){return E=p,(C=Dn((_=y).updateTime?_.updateTime:E)).isEqual(rt.min())&&(C=Dn(E)),new wT(C,_.transformResults||[]);var _,E,C})):[]),c=Dn(i.commitTime);return this.listener.Tr(c,a)}var f,p;return Qe(!i.writeResults||0===i.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var i={};i.database=Wd(this.R),this.cr(i)},e.prototype.Er=function(i){var a=this,c={streamToken:this.lastStreamToken,writes:i.map(function(f){return Be(a.R,f)})};this.cr(c)},e}(gw),rI=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).credentials=i,f.Hi=a,f.R=c,f.Rr=!1,f}return(0,S.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new ye(ee.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(i,a,c){var f=this;return this.br(),this.credentials.getToken().then(function(p){return f.Hi.Ni(i,a,c,p)}).catch(function(p){throw"FirebaseError"===p.name?(p.code===ee.UNAUTHENTICATED&&f.credentials.invalidateToken(),p):new ye(ee.UNKNOWN,p.toString())})},e.prototype.$i=function(i,a,c){var f=this;return this.br(),this.credentials.getToken().then(function(p){return f.Hi.$i(i,a,c,p)}).catch(function(p){throw"FirebaseError"===p.name?(p.code===ee.UNAUTHENTICATED&&f.credentials.invalidateToken(),p):new ye(ee.UNKNOWN,p.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),jl=function(){function t(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var i="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(_n(i),this.Vr=!1):Ce("OnlineStateTracker",i)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),iI=function(t,e,i,a,c){var f=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=c,this.Lr.di(function(p){i.enqueueAndForget(function(){return(0,S.mG)(f,void 0,void 0,function(){return(0,S.Jh)(this,function(y){switch(y.label){case 0:return Si(this)?(Ce("RemoteStore","Restarting streams for network reachability change."),[4,function(_){return(0,S.mG)(this,void 0,void 0,function(){var E;return(0,S.Jh)(this,function(C){switch(C.label){case 0:return(E=Te(_)).Or.add(4),[4,Uu(E)];case 1:return C.sent(),E.Br.set("Unknown"),E.Or.delete(4),[4,Bl(E)];case 2:return C.sent(),[2]}})})}(this)]):[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})}),this.Br=new jl(i,a)};function Bl(t){return(0,S.mG)(this,void 0,void 0,function(){var e,i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:if(!Si(t))return[3,4];e=0,i=t.Mr,a.label=1;case 1:return e<i.length?[4,(0,i[e])(!0)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Uu(t){return(0,S.mG)(this,void 0,void 0,function(){var e,i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:e=0,i=t.Mr,a.label=1;case 1:return e<i.length?[4,(0,i[e])(!1)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function la(t,e){var i=Te(t);i.$r.has(e.targetId)||(i.$r.set(e.targetId,e),my(i)?yw(i):Hl(i).er()&&lh(i,e))}function Ii(t,e){var i=Te(t),a=Hl(i);i.$r.delete(e),a.er()&&mw(i,e),0===i.$r.size&&(a.er()?a.ir():Si(i)&&i.Br.set("Unknown"))}function lh(t,e){t.qr.U(e.targetId),Hl(t).mr(e)}function mw(t,e){t.qr.U(e),Hl(t).yr(e)}function yw(t){t.qr=new Ib({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Hl(t).start(),t.Br.Sr()}function my(t){return Si(t)&&!Hl(t).tr()&&t.$r.size>0}function Si(t){return 0===Te(t).Or.size}function vw(t){t.qr=void 0}function oI(t){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){return t.$r.forEach(function(i,a){lh(t,i)}),[2]})})}function _w(t,e){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(i){return vw(t),my(t)?(t.Br.Nr(e),yw(t)):t.Br.set("Unknown"),[2]})})}function bw(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a,c,f;return(0,S.Jh)(this,function(p){switch(p.label){case 0:if(t.Br.set("Online"),!(e instanceof Tb&&2===e.state&&e.cause))return[3,6];p.label=1;case 1:return p.trys.push([1,3,,5]),[4,function(y,_){return(0,S.mG)(this,void 0,void 0,function(){var E,C,T,R;return(0,S.Jh)(this,function(N){switch(N.label){case 0:E=_.cause,C=0,T=_.targetIds,N.label=1;case 1:return C<T.length?y.$r.has(R=T[C])?[4,y.remoteSyncer.rejectListen(R,E)]:[3,3]:[3,5];case 2:N.sent(),y.$r.delete(R),y.qr.removeTarget(R),N.label=3;case 3:N.label=4;case 4:return C++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return p.sent(),[3,5];case 3:return a=p.sent(),Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),[4,Vu(t,a)];case 4:return p.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Zd?t.qr.X(e):e instanceof Db?t.qr.rt(e):t.qr.et(e),i.isEqual(rt.min()))return[3,13];p.label=7;case 7:return p.trys.push([7,11,,13]),[4,sw(t.localStore)];case 8:return c=p.sent(),i.compareTo(c)>=0?[4,(y=t,_=i,E=y.qr.ut(_),E.targetChanges.forEach(function(C,T){if(C.resumeToken.approximateByteSize()>0){var R=y.$r.get(T);R&&y.$r.set(T,R.withResumeToken(C.resumeToken,_))}}),E.targetMismatches.forEach(function(C){var T=y.$r.get(C);if(T){y.$r.set(C,T.withResumeToken(cr.EMPTY_BYTE_STRING,T.snapshotVersion)),mw(y,C);var R=new Jd(T.target,C,1,T.sequenceNumber);lh(y,R)}}),y.remoteSyncer.applyRemoteEvent(E))]:[3,10];case 9:p.sent(),p.label=10;case 10:return[3,13];case 11:return Ce("RemoteStore","Failed to raise snapshot:",f=p.sent()),[4,Vu(t,f)];case 12:return p.sent(),[3,13];case 13:return[2]}var y,_,E})})}function Vu(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a=this;return(0,S.Jh)(this,function(c){switch(c.label){case 0:if(!us(e))throw e;return t.Or.add(1),[4,Uu(t)];case 1:return c.sent(),t.Br.set("Offline"),i||(i=function(){return sw(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,S.mG)(a,void 0,void 0,function(){return(0,S.Jh)(this,function(f){switch(f.label){case 0:return Ce("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return f.sent(),t.Or.delete(1),[4,Bl(t)];case 2:return f.sent(),[2]}})})}),[2]}})})}function yy(t,e){return e().catch(function(i){return Vu(t,i,e)})}function fa(t){return(0,S.mG)(this,void 0,void 0,function(){var e,i,a,c,f;return(0,S.Jh)(this,function(p){switch(p.label){case 0:e=Te(t),i=ti(e),a=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,p.label=1;case 1:if(!(Si(y=e)&&y.Fr.length<10))return[3,7];p.label=2;case 2:return p.trys.push([2,4,,6]),[4,d1(e.localStore,a)];case 3:return null===(c=p.sent())?(0===e.Fr.length&&i.ir(),[3,7]):(a=c.batchId,function(y,_){y.Fr.push(_);var E=ti(y);E.er()&&E.pr&&E.Er(_.mutations)}(e,c),[3,6]);case 4:return f=p.sent(),[4,Vu(e,f)];case 5:return p.sent(),[3,6];case 6:return[3,1];case 7:return ww(e)&&Ew(e),[2]}var y})})}function ww(t){return Si(t)&&!ti(t).tr()&&t.Fr.length>0}function Ew(t){ti(t).start()}function Cw(t){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){return ti(t).Ar(),[2]})})}function sI(t){return(0,S.mG)(this,void 0,void 0,function(){var e,i,a;return(0,S.Jh)(this,function(f){for(e=ti(t),i=0,a=t.Fr;i<a.length;i++)e.Er(a[i].mutations);return[2]})})}function Dw(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return a=t.Fr.shift(),c=NT.from(a,e,i),[4,yy(t,function(){return t.remoteSyncer.applySuccessfulWrite(c)})];case 1:return f.sent(),[4,fa(t)];case 2:return f.sent(),[2]}})})}function fh(t,e){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(i){switch(i.label){case 0:return e&&ti(t).pr?[4,function(a,c){return(0,S.mG)(this,void 0,void 0,function(){var f,p;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return qm(p=c.code)&&p!==ee.ABORTED?(f=a.Fr.shift(),ti(a).sr(),[4,yy(a,function(){return a.remoteSyncer.rejectFailedWrite(f.batchId,c)})]):[3,3];case 1:return y.sent(),[4,fa(a)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return ww(t)&&Ew(t),[2]}})})}function ju(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:return i=Te(t),e?(i.Or.delete(2),[4,Bl(i)]):[3,2];case 1:return a.sent(),[3,5];case 2:return e?[3,4]:(i.Or.add(2),[4,Uu(i)]);case 3:a.sent(),i.Br.set("Unknown"),a.label=4;case 4:a.label=5;case 5:return[2]}})})}function Hl(t){var i,a,c,f,e=this;return t.Ur||(t.Ur=(i=t.datastore,a=t.asyncQueue,c={Ii:oI.bind(null,t),Ri:_w.bind(null,t),_r:bw.bind(null,t)},(f=Te(i)).br(),new nI(a,f.Hi,f.credentials,f.R,c)),t.Mr.push(function(i){return(0,S.mG)(e,void 0,void 0,function(){return(0,S.Jh)(this,function(a){switch(a.label){case 0:return i?(t.Ur.sr(),my(t)?yw(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:a.sent(),vw(t),a.label=3;case 3:return[2]}})})})),t.Ur}function ti(t){var i,a,c,f,e=this;return t.Kr||(t.Kr=(i=t.datastore,a=t.asyncQueue,c={Ii:Cw.bind(null,t),Ri:fh.bind(null,t),Ir:sI.bind(null,t),Tr:Dw.bind(null,t)},(f=Te(i)).br(),new p1(a,f.Hi,f.credentials,f.R,c)),t.Mr.push(function(i){return(0,S.mG)(e,void 0,void 0,function(){return(0,S.Jh)(this,function(a){switch(a.label){case 0:return i?(t.Kr.sr(),[4,fa(t)]):[3,2];case 1:return a.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:a.sent(),t.Fr.length>0&&(Ce("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),a.label=4;case 4:return[2]}})})})),t.Kr}var Tt=function(){function t(e,i,a,c,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=f,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(p){})}return t.createAndSchedule=function(e,i,a,c,f){var p=new t(e,i,Date.now()+a,c,f);return p.start(a),p},t.prototype.start=function(e){var i=this;this.timerHandle=setTimeout(function(){return i.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(i){return e.deferred.resolve(i)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Fr(t,e){if(_n("AsyncQueue",e+": "+t),us(t))return new ye(ee.UNAVAILABLE,e+": "+t);throw t}var da=function(){function t(e){this.comparator=e?function(i,a){return e(i,a)||Ue.comparator(i.key,a.key)}:function(i,a){return Ue.comparator(i.key,a.key)},this.keyedMap=$m(),this.sortedSet=new qn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return null!=this.keyedMap.get(e)},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(i,a){return e(i),!1})},t.prototype.add=function(e){var i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))},t.prototype.delete=function(e){var i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();i.hasNext();){var c=i.getNext().key,f=a.getNext().key;if(!c.isEqual(f))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(i){e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},t.prototype.copy=function(e,i){var a=new t;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a},t}(),Bu=function(){function t(){this.Qr=new qn(Ue.comparator)}return t.prototype.track=function(e){var i=e.doc.key,a=this.Qr.get(i);a?0!==e.type&&3===a.type?this.Qr=this.Qr.insert(i,e):3===e.type&&1!==a.type?this.Qr=this.Qr.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Qr=this.Qr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Qr=this.Qr.remove(i):1===e.type&&2===a.type?this.Qr=this.Qr.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):Oe():this.Qr=this.Qr.insert(i,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(i,a){e.push(a)}),e},t}(),vy=function(){function t(e,i,a,c,f,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=f,this.fromCache=p,this.syncStateChanged=y,this.excludesMetadataChanges=_}return t.fromInitialDocuments=function(e,i,a,c){var f=[];return i.forEach(function(p){f.push({type:0,doc:p})}),new t(e,i,da.emptySet(i),f,a,c,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(var c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0},t}(),nt=function(){this.Wr=void 0,this.listeners=[]},ni=function(){this.queries=new ls(function(t){return Nm(t)},Il),this.onlineState="Unknown",this.Gr=new Set};function ql(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a,c,f,p,y,_;return(0,S.Jh)(this,function(E){switch(E.label){case 0:if(i=Te(t),c=!1,(f=i.queries.get(a=e.query))||(c=!0,f=new nt),!c)return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),p=f,[4,i.onListen(a)];case 2:return p.Wr=E.sent(),[3,4];case 3:return y=E.sent(),_=Fr(y,"Initialization of query '"+Hd(e.query)+"' failed"),[2,void e.onError(_)];case 4:return i.queries.set(a,f),f.listeners.push(e),e.zr(i.onlineState),f.Wr&&e.Hr(f.Wr)&&dh(i),[2]}})})}function Mo(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a,c,f,p;return(0,S.Jh)(this,function(y){return i=Te(t),c=!1,(f=i.queries.get(a=e.query))&&(p=f.listeners.indexOf(e))>=0&&(f.listeners.splice(p,1),c=0===f.listeners.length),c?[2,(i.queries.delete(a),i.onUnlisten(a))]:[2]})})}function g1(t,e){for(var i=Te(t),a=!1,c=0,f=e;c<f.length;c++){var p=f[c],_=i.queries.get(p.query);if(_){for(var E=0,C=_.listeners;E<C.length;E++)C[E].Hr(p)&&(a=!0);_.Wr=p}}a&&dh(i)}function Tw(t,e,i){var a=Te(t),c=a.queries.get(e);if(c)for(var f=0,p=c.listeners;f<p.length;f++)p[f].onError(i);a.queries.delete(e)}function dh(t){t.Gr.forEach(function(e){e.next()})}var Iw=function(){function t(e,i,a){this.query=e,this.Jr=i,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=a||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var i=[],a=0,c=e.docChanges;a<c.length;a++){var f=c[a];3!==f.type&&i.push(f)}e=new vy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var p=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),p=!0):this.eo(e,this.onlineState)&&(this.no(e),p=!0),this.Xr=e,p},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var i=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),i=!0),i},t.prototype.eo=function(e,i){return!e.fromCache||!(this.options.so&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)},t.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(e){e=vy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),aI=function(){function t(e,i){this.payload=e,this.byteLength=i}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Sw=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return lr(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?AT(this.R,e.document,!1):Pn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return Dn(e)},t}();!function(){function t(e,i,a){this.ro=e,this.localStore=i,this.R=a,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(e)}t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var i=new Map,a=new Sw(this.R),c=0,f=e;c<f.length;c++){var p=f[c];if(p.metadata.queries)for(var y=a.qn(p.metadata.name),_=0,E=p.metadata.queries;_<E.length;_++){var C=E[_],T=(i.get(C)||St()).add(y);i.set(C,T)}}return i},t.prototype.complete=function(){return(0,S.mG)(this,void 0,void 0,function(){var e,i,a,c,f;return(0,S.Jh)(this,function(p){switch(p.label){case 0:return[4,ZT(this.localStore,new Sw(this.R),this.documents,this.ro.id)];case 1:e=p.sent(),i=this.co(this.documents),a=0,c=this.queries,p.label=2;case 2:return a<c.length?[4,dy(this.localStore,f=c[a],i.get(f.name))]:[3,5];case 3:p.sent(),p.label=4;case 4:return a++,[3,2];case 5:return[2,(this.progress.taskState="Success",new aa(Object.assign({},this.progress),e))]}})})}}();var ii=function(t){this.key=t},_y=function(t){this.key=t},Aw=function(){function t(e,i){this.query=e,this.uo=i,this.ao=null,this.current=!1,this.ho=St(),this.mutatedKeys=St(),this.lo=mb(e),this.fo=new da(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,i){var a=this,c=i?i.mo:new Bu,f=i?i.fo:this.fo,p=i?i.mutatedKeys:this.mutatedKeys,y=f,_=!1,E=jd(this.query)&&f.size===this.query.limit?f.last():null,C=Tl(this.query)&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal(function(R,N){var F=f.get(R),B=Ki(a.query,N)?N:null,re=!!F&&a.mutatedKeys.has(F.key),de=!!B&&(B.hasLocalMutations||a.mutatedKeys.has(B.key)&&B.hasCommittedMutations),we=!1;F&&B?F.data.isEqual(B.data)?re!==de&&(c.track({type:3,doc:B}),we=!0):a.yo(F,B)||(c.track({type:2,doc:B}),we=!0,(E&&a.lo(B,E)>0||C&&a.lo(B,C)<0)&&(_=!0)):!F&&B?(c.track({type:0,doc:B}),we=!0):F&&!B&&(c.track({type:1,doc:F}),we=!0,(E||C)&&(_=!0)),we&&(B?(y=y.add(B),p=de?p.add(R):p.delete(R)):(y=y.delete(R),p=p.delete(R)))}),jd(this.query)||Tl(this.query))for(;y.size>this.query.limit;){var T=jd(this.query)?y.last():y.first();y=y.delete(T.key),p=p.delete(T.key),c.track({type:1,doc:T})}return{fo:y,mo:c,Nn:_,mutatedKeys:p}},t.prototype.yo=function(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations},t.prototype.applyChanges=function(e,i,a){var c=this,f=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var p=e.mo.jr();p.sort(function(C,T){return N=T.type,(F=function(B){switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}})(C.type)-F(N)||c.lo(C.doc,T.doc);var N,F}),this.po(a);var y=i?this.Eo():[],_=0===this.ho.size&&this.current?1:0,E=_!==this.ao;return this.ao=_,0!==p.length||E?{snapshot:new vy(this.query,e.fo,f,p,e.mutatedKeys,0===_,E,!1),To:y}:{To:y}},t.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Bu,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var i=this;e&&(e.addedDocuments.forEach(function(a){return i.uo=i.uo.add(a)}),e.modifiedDocuments.forEach(function(a){}),e.removedDocuments.forEach(function(a){return i.uo=i.uo.delete(a)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var i=this.ho;this.ho=St(),this.fo.forEach(function(c){e.Io(c.key)&&(e.ho=e.ho.add(c.key))});var a=[];return i.forEach(function(c){e.ho.has(c)||a.push(new _y(c))}),this.ho.forEach(function(c){i.has(c)||a.push(new ii(c))}),a},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=St();var i=this._o(e.documents);return this.applyChanges(i,!0)},t.prototype.Ro=function(){return vy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Rw=function(t,e,i){this.query=t,this.targetId=e,this.view=i},by=function(t){this.key=t,this.bo=!1},Hu=function(){function t(e,i,a,c,f,p){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=p,this.vo={},this.Po=new ls(function(y){return Nm(y)},Il),this.Vo=new Map,this.So=new Set,this.Do=new qn(Ue.comparator),this.Co=new Map,this.No=new Ll,this.xo={},this.ko=new Map,this.Fo=rh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Gl(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,c,f,p,y;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return i=Ay(t),(f=i.Po.get(e))?(i.sharedClientState.addLocalQueryTarget(f.targetId),c=f.view.Ro(),[3,4]):[3,1];case 1:return[4,xo(i.localStore,Qr(e))];case 2:return p=_.sent(),y=i.sharedClientState.addLocalQueryTarget(p.targetId),[4,wy(i,e,p.targetId,"current"===y)];case 3:c=_.sent(),i.isPrimaryClient&&la(i.remoteStore,p),_.label=4;case 4:return[2,c]}})})}function wy(t,e,i,a){return(0,S.mG)(this,void 0,void 0,function(){var c,f,p,y,_,E;return(0,S.Jh)(this,function(C){switch(C.label){case 0:return t.Oo=function(T,R,N){return function(F,B,re,de){return(0,S.mG)(this,void 0,void 0,function(){var we,Ee,ke;return(0,S.Jh)(this,function(xe){switch(xe.label){case 0:return(we=B.view._o(re)).Nn?[4,sh(F.localStore,B.query,!1).then(function(lt){return B.view._o(lt.documents,we)})]:[3,2];case 1:we=xe.sent(),xe.label=2;case 2:return Ee=de&&de.targetChanges.get(B.targetId),ke=B.view.applyChanges(we,F.isPrimaryClient,Ee),[2,(ph(F,B.targetId,ke.To),ke.snapshot)]}})})}(t,T,R,N)},[4,sh(t.localStore,e,!0)];case 1:return c=C.sent(),f=new Aw(e,c.Bn),p=f._o(c.documents),y=zm.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==t.onlineState),_=f.applyChanges(p,t.isPrimaryClient,y),ph(t,i,_.To),E=new Rw(e,i,f),[2,(t.Po.set(e,E),t.Vo.has(i)?t.Vo.get(i).push(e):t.Vo.set(i,[e]),_.snapshot)]}})})}function ha(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return i=Te(t),a=i.Po.get(e),(c=i.Vo.get(a.targetId)).length>1?[2,(i.Vo.set(a.targetId,c.filter(function(p){return!Il(p,e)})),void i.Po.delete(e))]:i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)?[3,2]:[4,Fu(i.localStore,a.targetId,!1).then(function(){i.sharedClientState.clearQueryState(a.targetId),Ii(i.remoteStore,a.targetId),pa(i,a.targetId)}).catch(sa)]):[3,3];case 1:f.sent(),f.label=2;case 2:return[3,5];case 3:return pa(i,a.targetId),[4,Fu(i.localStore,a.targetId,!0)];case 4:f.sent(),f.label=5;case 5:return[2]}})})}function uI(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a,c,f,p;return(0,S.Jh)(this,function(y){switch(y.label){case 0:a=Fn(t),y.label=1;case 1:return y.trys.push([1,5,,6]),[4,(_=a.localStore,E=e,T=Te(_),R=wr.now(),N=E.reduce(function(F,B){return F.add(B.key)},St()),T.persistence.runTransaction("Locally write mutations","readwrite",function(F){return T.Mn.pn(F,N).next(function(B){C=B;for(var re=[],de=0,we=E;de<we.length;de++){var Ee=we[de],ke=CT(Ee,C.get(Ee.key));null!=ke&&re.push(new is(Ee.key,ke,Ld(ke.value.mapValue),Xn.exists(!0)))}return T._n.addMutationBatch(F,R,re,E)})}).then(function(F){return F.applyToLocalDocumentSet(C),{batchId:F.batchId,changes:C}}))];case 2:return c=y.sent(),a.sharedClientState.addPendingMutation(c.batchId),function(_,E,C){var T=_.xo[_.currentUser.toKey()];T||(T=new qn(gt)),T=T.insert(E,C),_.xo[_.currentUser.toKey()]=T}(a,c.batchId,i),[4,Ai(a,c.changes)];case 3:return y.sent(),[4,fa(a.remoteStore)];case 4:return y.sent(),[3,6];case 5:return f=y.sent(),p=Fr(f,"Failed to persist write"),i.reject(p),[3,6];case 6:return[2]}var _,E,C,T,R,N})})}function Ey(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a;return(0,S.Jh)(this,function(c){switch(c.label){case 0:i=Te(t),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,Ji(i.localStore,e)];case 2:return a=c.sent(),e.targetChanges.forEach(function(f,p){var y=i.Co.get(p);y&&(Qe(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?y.bo=!0:f.modifiedDocuments.size>0?Qe(y.bo):f.removedDocuments.size>0&&(Qe(y.bo),y.bo=!1))}),[4,Ai(i,a,e)];case 3:return c.sent(),[3,6];case 4:return[4,sa(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function hh(t,e,i){var a=Te(t);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){var c=[];a.Po.forEach(function(f,p){var y=p.view.zr(e);y.snapshot&&c.push(y.snapshot)}),function(f,p){var y=Te(f);y.onlineState=p;var _=!1;y.queries.forEach(function(E,C){for(var T=0,R=C.listeners;T<R.length;T++)R[T].zr(p)&&(_=!0)}),_&&dh(y)}(a.eventManager,e),c.length&&a.vo._r(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function $l(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a,c,f,p,y,_;return(0,S.Jh)(this,function(E){switch(E.label){case 0:return(a=Te(t)).sharedClientState.updateQueryState(e,"rejected",i),c=a.Co.get(e),(f=c&&c.key)?(p=(p=new qn(Ue.comparator)).insert(f,Pn.newNoDocument(f,rt.min())),y=St().add(f),_=new Zm(rt.min(),new Map,new Cn(gt),p,y),[4,Ey(a,_)]):[3,2];case 1:return E.sent(),a.Do=a.Do.remove(f),a.Co.delete(e),Iy(a),[3,4];case 2:return[4,Fu(a.localStore,e,!1).then(function(){return pa(a,e,i)}).catch(sa)];case 3:E.sent(),E.label=4;case 4:return[2]}})})}function Cy(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:i=Te(t),a=e.batch.batchId,f.label=1;case 1:return f.trys.push([1,4,,6]),[4,f1(i.localStore,e)];case 2:return c=f.sent(),Gu(i,a,null),Dy(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),[4,Ai(i,c)];case 3:return f.sent(),[3,6];case 4:return[4,sa(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}})})}function xw(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:a=Te(t),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,(p=a.localStore,y=e,_=Te(p),_.persistence.runTransaction("Reject batch","readwrite-primary",function(E){var C;return _._n.lookupMutationBatch(E,y).next(function(T){return Qe(null!==T),C=T.keys(),_._n.removeMutationBatch(E,T)}).next(function(){return _._n.performConsistencyCheck(E)}).next(function(){return _.Mn.pn(E,C)})}))];case 2:return c=f.sent(),Gu(a,e,i),Dy(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),[4,Ai(a,c)];case 3:return f.sent(),[3,6];case 4:return[4,sa(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}var p,y,_})})}function qu(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a,c,f,p;return(0,S.Jh)(this,function(y){switch(y.label){case 0:Si((i=Te(t)).remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),y.label=1;case 1:return y.trys.push([1,3,,4]),[4,(_=i.localStore,E=Te(_),E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(C){return E._n.getHighestUnacknowledgedBatchId(C)}))];case 2:return-1===(a=y.sent())?[2,void e.resolve()]:((c=i.ko.get(a)||[]).push(e),i.ko.set(a,c),[3,4]);case 3:return f=y.sent(),p=Fr(f,"Initialization of waitForPendingWrites() operation failed"),e.reject(p),[3,4];case 4:return[2]}var _,E})})}function Dy(t,e){(t.ko.get(e)||[]).forEach(function(i){i.resolve()}),t.ko.delete(e)}function Gu(t,e,i){var a=Te(t),c=a.xo[a.currentUser.toKey()];if(c){var f=c.get(e);f&&(i?f.reject(i):f.resolve(),c=c.remove(e)),a.xo[a.currentUser.toKey()]=c}}function pa(t,e,i){void 0===i&&(i=null),t.sharedClientState.removeLocalQueryTarget(e);for(var a=0,c=t.Vo.get(e);a<c.length;a++){var f=c[a];t.Po.delete(f),i&&t.vo.Mo(f,i)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(p){t.No.containsKey(p)||Ty(t,p)})}function Ty(t,e){t.So.delete(e.path.canonicalString());var i=t.Do.get(e);null!==i&&(Ii(t.remoteStore,i),t.Do=t.Do.remove(e),t.Co.delete(i),Iy(t))}function ph(t,e,i){for(var a=0,c=i;a<c.length;a++){var f=c[a];f instanceof ii?(t.No.addReference(f.key,e),gh(t,f)):f instanceof _y?(Ce("SyncEngine","Document no longer in limbo: "+f.key),t.No.removeReference(f.key,e),t.No.containsKey(f.key)||Ty(t,f.key)):Oe()}}function gh(t,e){var i=e.key,a=i.path.canonicalString();t.Do.get(i)||t.So.has(a)||(Ce("SyncEngine","New document in limbo: "+i),t.So.add(a),Iy(t))}function Iy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var i=new Ue(yt.fromString(e)),a=t.Fo.next();t.Co.set(a,new by(i)),t.Do=t.Do.insert(i,a),la(t.remoteStore,new Jd(Qr(Eu(i.path)),a,2,br.o))}}function Ai(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a,c,f,p;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return a=Te(t),c=[],f=[],p=[],a.Po.isEmpty()?[3,3]:(a.Po.forEach(function(_,E){p.push(a.Oo(E,e,i).then(function(C){if(C){a.isPrimaryClient&&a.sharedClientState.updateQueryState(E.targetId,C.fromCache?"not-current":"current"),c.push(C);var T=ly.Pn(E.targetId,C);f.push(T)}}))}),[4,Promise.all(p)]);case 1:return y.sent(),a.vo._r(c),[4,function(_,E){return(0,S.mG)(this,void 0,void 0,function(){var C,T,R,N,F,B,re,we;return(0,S.Jh)(this,function(Ee){switch(Ee.label){case 0:C=Te(_),Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),[4,C.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(ke){return be.forEach(E,function(xe){return be.forEach(xe.bn,function(lt){return C.persistence.referenceDelegate.addReference(ke,xe.targetId,lt)}).next(function(){return be.forEach(xe.vn,function(lt){return C.persistence.referenceDelegate.removeReference(ke,xe.targetId,lt)})})})})];case 2:return Ee.sent(),[3,4];case 3:if(!us(T=Ee.sent()))throw T;return Ce("LocalStore","Failed to update sequence numbers: "+T),[3,4];case 4:for(R=0,N=E;R<N.length;R++)B=(F=N[R]).targetId,F.fromCache||(re=C.kn.get(B),we=re.withLastLimboFreeSnapshotVersion(re.snapshotVersion),C.kn=C.kn.insert(B,we));return[2]}})})}(a.localStore,f)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}function Sy(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a;return(0,S.Jh)(this,function(c){switch(c.label){case 0:return(i=Te(t)).currentUser.isEqual(e)?[3,3]:(Ce("SyncEngine","User change. New user:",e.toKey()),[4,ow(i.localStore,e)]);case 1:return a=c.sent(),i.currentUser=e,(f=i).ko.forEach(function(y){y.forEach(function(_){_.reject(new ye(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ko.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),[4,Ai(i,a.Ln)];case 2:c.sent(),c.label=3;case 3:return[2]}var f})})}function m1(t,e){var i=Te(t),a=i.Co.get(e);if(a&&a.bo)return St().add(a.key);var c=St(),f=i.Vo.get(e);if(!f)return c;for(var p=0,y=f;p<y.length;p++){var E=i.Po.get(y[p]);c=c.unionWith(E.view.wo)}return c}function y1(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return[4,sh((i=Te(t)).localStore,e.query,!0)];case 1:return a=f.sent(),c=e.view.Ao(a),[2,(i.isPrimaryClient&&ph(i,e.targetId,c.To),c)]}})})}function et(t){return(0,S.mG)(this,void 0,void 0,function(){var e;return(0,S.Jh)(this,function(i){return[2,aw((e=Te(t)).localStore).then(function(a){return Ai(e,a)})]})})}function v1(t,e,i,a){return(0,S.mG)(this,void 0,void 0,function(){var c,f;return(0,S.Jh)(this,function(p){switch(p.label){case 0:return[4,(y=(c=Te(t)).localStore,_=e,E=Te(y),C=Te(E._n),E.persistence.runTransaction("Lookup mutation documents","readonly",function(T){return C.jt(T,_).next(function(R){return R?E.Mn.pn(T,R):be.resolve(null)})}))];case 1:return null===(f=p.sent())?[3,6]:"pending"!==i?[3,3]:[4,fa(c.remoteStore)];case 2:return p.sent(),[3,4];case 3:"acknowledged"===i||"rejected"===i?(Gu(c,e,a||null),Dy(c,e),function(y,_){Te(Te(y)._n).Gt(_)}(c.localStore,e)):Oe(),p.label=4;case 4:return[4,Ai(c,f)];case 5:return p.sent(),[3,7];case 6:Ce("SyncEngine","Cannot apply mutation batch with id: "+e),p.label=7;case 7:return[2]}var y,_,E,C})})}function Zl(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a,c,f,p,_,E;return(0,S.Jh)(this,function(C){switch(C.label){case 0:return Ay(i=Te(t)),Fn(i),!0!==e||!0===i.$o?[3,3]:(a=i.sharedClientState.getAllActiveQueryTargets(),[4,Mw(i,a.toArray())]);case 1:return c=C.sent(),i.$o=!0,[4,ju(i.remoteStore,!0)];case 2:for(C.sent(),f=0,p=c;f<p.length;f++)la(i.remoteStore,p[f]);return[3,7];case 3:return!1!==e||!1===i.$o?[3,7]:(_=[],E=Promise.resolve(),i.Vo.forEach(function(T,R){i.sharedClientState.isLocalQueryTarget(R)?_.push(R):E=E.then(function(){return pa(i,R),Fu(i.localStore,R,!0)}),Ii(i.remoteStore,R)}),[4,E]);case 4:return C.sent(),[4,Mw(i,_)];case 5:return C.sent(),(R=Te(i)).Co.forEach(function(N,F){Ii(R.remoteStore,F)}),R.No.ts(),R.Co=new Map,R.Do=new qn(Ue.comparator),i.$o=!1,[4,ju(i.remoteStore,!1)];case 6:C.sent(),C.label=7;case 7:return[2]}var R})})}function Mw(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a,c,f,p,y,_,E,C,T,R,F,B,re;return(0,S.Jh)(this,function(de){switch(de.label){case 0:a=Te(t),c=[],f=[],p=0,y=e,de.label=1;case 1:return p<y.length?(E=void 0,(C=a.Vo.get(_=y[p]))&&0!==C.length?[4,xo(a.localStore,Qr(C[0]))]:[3,7]):[3,13];case 2:E=de.sent(),T=0,R=C,de.label=3;case 3:return T<R.length?(F=a.Po.get(R[T]),[4,y1(a,F)]):[3,6];case 4:(B=de.sent()).snapshot&&f.push(B.snapshot),de.label=5;case 5:return T++,[3,3];case 6:return[3,11];case 7:return[4,GT(a.localStore,_)];case 8:return re=de.sent(),[4,xo(a.localStore,re)];case 9:return E=de.sent(),[4,wy(a,Nw(re),_,!1)];case 10:de.sent(),de.label=11;case 11:c.push(E),de.label=12;case 12:return p++,[3,1];case 13:return[2,(a.vo._r(f),c)]}})})}function Nw(t){return _T(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function cI(t){var e=Te(t);return Te(Te(e.localStore).persistence).fn()}function _1(t,e,i,a){return(0,S.mG)(this,void 0,void 0,function(){var c,f,p;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return(c=Te(t)).$o?(Ce("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!c.Vo.has(e))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,aw(c.localStore)];case 3:return f=y.sent(),p=Zm.createSynthesizedRemoteEventForCurrentChange(e,"current"===i),[4,Ai(c,f,p)];case 4:return y.sent(),[3,8];case 5:return[4,Fu(c.localStore,e,!0)];case 6:return y.sent(),pa(c,e,a),[3,8];case 7:Oe(),y.label=8;case 8:return[2]}})})}function b1(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var a,c,f,p,y,_,E,C,T;return(0,S.Jh)(this,function(N){switch(N.label){case 0:if(!(a=Ay(t)).$o)return[3,10];c=0,f=e,N.label=1;case 1:return c<f.length?a.Vo.has(p=f[c])?(Ce("SyncEngine","Adding an already active target "+p),[3,5]):[4,GT(a.localStore,p)]:[3,6];case 2:return y=N.sent(),[4,xo(a.localStore,y)];case 3:return _=N.sent(),[4,wy(a,Nw(y),_.targetId,!1)];case 4:N.sent(),la(a.remoteStore,_),N.label=5;case 5:return c++,[3,1];case 6:E=function(F){return(0,S.Jh)(this,function(B){switch(B.label){case 0:return a.Vo.has(F)?[4,Fu(a.localStore,F,!1).then(function(){Ii(a.remoteStore,F),pa(a,F)}).catch(sa)]:[3,2];case 1:B.sent(),B.label=2;case 2:return[2]}})},C=0,T=i,N.label=7;case 7:return C<T.length?[5,E(T[C])]:[3,10];case 8:N.sent(),N.label=9;case 9:return C++,[3,7];case 10:return[2]}})})}function Ay(t){var e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ey.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$l.bind(null,e),e.vo._r=g1.bind(null,e.eventManager),e.vo.Mo=Tw.bind(null,e.eventManager),e}function Fn(t){var e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xw.bind(null,e),e}var Pw=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(i){switch(i.label){case 0:return this.R=Vl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return i.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return ua(this.persistence,new Fl,e.initialUser,this.R)},t.prototype.qo=function(e){return new QT(lw.bs,this.R)},t.prototype.Bo=function(e){return new hw},t.prototype.terminate=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),mh=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).Qo=i,f.cacheSizeBytes=a,f.forceOwnership=c,f.synchronizeTabs=!1,f}return(0,S.ZT)(e,t),e.prototype.initialize=function(i){return(0,S.mG)(this,void 0,void 0,function(){var a=this;return(0,S.Jh)(this,function(c){switch(c.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return c.sent(),[4,$T(this.localStore)];case 2:return c.sent(),[4,this.Qo.initialize(this,i)];case 3:return c.sent(),[4,Fn(this.Qo.syncEngine)];case 4:return c.sent(),[4,fa(this.Qo.remoteStore)];case 5:return c.sent(),[4,this.persistence.He(function(){return a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()})];case 6:return c.sent(),[2]}})})},e.prototype.Ko=function(i){return ua(this.persistence,new Fl,i.initialUser,this.R)},e.prototype.Uo=function(i){return new LT(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)},e.prototype.qo=function(i){var a=cy(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new iw(this.synchronizeTabs,a,i.clientId,c,i.asyncQueue,pw(),ch(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(i){return new hw},e}(Pw),fI=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a,!1)||this).Qo=i,c.cacheSizeBytes=a,c.synchronizeTabs=!0,c}return(0,S.ZT)(e,t),e.prototype.initialize=function(i){return(0,S.mG)(this,void 0,void 0,function(){var a,c=this;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return f.sent(),a=this.Qo.syncEngine,this.sharedClientState instanceof ca?(this.sharedClientState.syncEngine={ui:v1.bind(null,a),ai:_1.bind(null,a),hi:b1.bind(null,a),fn:cI.bind(null,a),ci:et.bind(null,a)},[4,this.sharedClientState.start()]):[3,3];case 2:f.sent(),f.label=3;case 3:return[4,this.persistence.He(function(p){return(0,S.mG)(c,void 0,void 0,function(){return(0,S.Jh)(this,function(y){switch(y.label){case 0:return[4,Zl(this.Qo.syncEngine,p)];case 1:return y.sent(),this.gcScheduler&&(p&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):p||this.gcScheduler.stop()),[2]}})})})];case 4:return f.sent(),[2]}})})},e.prototype.Bo=function(i){var a=pw();if(!ca.yt(a))throw new ye(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var c=cy(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new ca(a,i.asyncQueue,c,i.clientId,i.initialUser)},e}(mh),Ry=function(){function t(){}return t.prototype.initialize=function(e,i){return(0,S.mG)(this,void 0,void 0,function(){var a=this;return(0,S.Jh)(this,function(c){switch(c.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(f){return hh(a.syncEngine,f,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Sy.bind(null,this.syncEngine),[4,ju(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new ni},t.prototype.createDatastore=function(e){var a=Vl(e.databaseInfo.databaseId),c=new tI(e.databaseInfo);return new rI(e.credentials,c,a)},t.prototype.createRemoteStore=function(e){var i,a,c,f,p,y=this;return i=this.localStore,a=this.datastore,c=e.asyncQueue,f=function(_){return hh(y.syncEngine,_,0)},p=JT.yt()?new JT:new YT,new iI(i,a,c,f,p)},t.prototype.createSyncEngine=function(e,i){return E=i,C=new Hu(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),E&&(C.$o=!0),C;var E,C},t.prototype.terminate=function(){return function(e){return(0,S.mG)(this,void 0,void 0,function(){var i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:return i=Te(e),Ce("RemoteStore","RemoteStore shutting down."),i.Or.add(5),[4,Uu(i)];case 1:return a.sent(),i.Lr.shutdown(),i.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),yh=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,i){var a=this;this.muted||setTimeout(function(){a.muted||e(i)},0)},t}(),hI=(function(){function t(e,i){var a=this;this.Go=e,this.R=i,this.metadata=new er,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(c){c&&c.io()?a.metadata.resolve(c.payload.metadata):a.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==c?void 0:c.payload)))},function(c){return a.metadata.reject(c)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,S.mG)(this,void 0,void 0,function(){var e,i,a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return[4,this.Jo()];case 1:return null===(e=f.sent())?[2,null]:(i=this.zo.decode(e),a=Number(i),isNaN(a)&&this.Yo("length string ("+i+") is not valid number"),[4,this.Xo(a)]);case 2:return c=f.sent(),[2,new aI(JSON.parse(c),e.length+a)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,S.mG)(this,void 0,void 0,function(){var e,i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(a.sent())return[3,3];a.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),i=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),i)])}})})},t.prototype.Xo=function(e){return(0,S.mG)(this,void 0,void 0,function(){var i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:a.sent()&&this.Yo("Reached the end of bundle when more is expected."),a.label=2;case 2:return[3,0];case 3:return i=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),i)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return(0,S.mG)(this,void 0,void 0,function(){var e,i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:return[4,this.Go.read()];case 1:return(e=a.sent()).done||((i=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),i.set(e.value,this.buffer.length),this.buffer=i),[2,e.done]}})})}}(),function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return(0,S.mG)(this,void 0,void 0,function(){var i,a=this;return(0,S.Jh)(this,function(c){switch(c.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ye(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(f,p){return(0,S.mG)(this,void 0,void 0,function(){var y,_,E,C,T,R;return(0,S.Jh)(this,function(N){switch(N.label){case 0:return y=Te(f),_=Wd(y.R)+"/documents",E={documents:p.map(function(F){return Rl(y.R,F)})},[4,y.$i("BatchGetDocuments",_,E)];case 1:return C=N.sent(),T=new Map,C.forEach(function(F){var re,de,B=(re=y.R,"found"in(de=F)?function(we,Ee){Qe(!!Ee.found);var ke=lr(we,Ee.found.name),xe=Dn(Ee.found.updateTime),lt=new Cr({mapValue:{fields:Ee.found.fields}});return Pn.newFoundDocument(ke,xe,lt)}(re,de):"missing"in de?function(we,Ee){Qe(!!Ee.missing),Qe(!!Ee.readTime);var ke=lr(we,Ee.missing),xe=Dn(Ee.readTime);return Pn.newNoDocument(ke,xe)}(re,de):Oe());T.set(B.key.toString(),B)}),R=[],[2,(p.forEach(function(F){var B=T.get(F.toString());Qe(!!B),R.push(B)}),R)]}})})}(this.datastore,e)];case 1:return[2,((i=c.sent()).forEach(function(f){return a.recordVersion(f)}),i)]}})})},t.prototype.set=function(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Iu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return(0,S.mG)(this,void 0,void 0,function(){var e,i=this;return(0,S.Jh)(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(c){e.delete(c.key.toString())}),e.forEach(function(c,f){var p=Ue.fromPath(f);i.mutations.push(new Gd(p,i.precondition(p)))}),[4,function(c,f){return(0,S.mG)(this,void 0,void 0,function(){var p,y,_;return(0,S.Jh)(this,function(E){switch(E.label){case 0:return p=Te(c),y=Wd(p.R)+"/documents",_={writes:f.map(function(C){return Be(p.R,C)})},[4,p.Ni("Commit",y,_)];case 1:return E.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return a.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Oe();i=rt.min()}var a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new ye(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)},t.prototype.precondition=function(e){var i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?Xn.updateTime(i):Xn.none()},t.prototype.preconditionForUpdate=function(e){var i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(rt.min()))throw new ye(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(i)}return Xn.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}()),xy=function(){function t(e,i,a,c){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=c,this.ec=5,this.Zi=new gy(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,S.mG)(e,void 0,void 0,function(){var i,a,c=this;return(0,S.Jh)(this,function(f){return i=new hI(this.datastore),(a=this.sc(i))&&a.then(function(p){c.asyncQueue.enqueueAndForget(function(){return i.commit().then(function(){c.deferred.resolve(p)}).catch(function(y){c.ic(y)})})}).catch(function(p){c.ic(p)}),[2]})})})},t.prototype.sc=function(e){try{var i=this.updateFunction(e);return!To(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}},t.prototype.ic=function(e){var i=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return i.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if("FirebaseError"===e.name){var i=e.code;return"aborted"===i||"failed-precondition"===i||!qm(i)}return!1},t}(),pI=function(){function t(e,i,a){var c=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=kn.UNAUTHENTICATED,this.clientId=hT.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(i,function(f){return(0,S.mG)(c,void 0,void 0,function(){return(0,S.Jh)(this,function(p){switch(p.label){case 0:return Ce("FirestoreClient","Received user=",f.uid),[4,this.credentialListener(f)];case 1:return p.sent(),this.user=f,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ye(ee.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var i=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,S.mG)(e,void 0,void 0,function(){var a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:f.sent(),f.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:f.sent(),f.label=4;case 4:return this.credentials.removeChangeListener(),i.resolve(),[3,6];case 5:return a=f.sent(),c=Fr(a,"Failed to shutdown persistence"),i.reject(c),[3,6];case 6:return[2]}})})}),i.promise},t}();function kw(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a,c=this;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return i=f.sent(),[4,e.initialize(i)];case 2:return f.sent(),a=i.initialUser,t.setCredentialChangeListener(function(p){return(0,S.mG)(c,void 0,void 0,function(){return(0,S.Jh)(this,function(y){switch(y.label){case 0:return a.isEqual(p)?[3,2]:[4,ow(e.localStore,p)];case 1:y.sent(),a=p,y.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function My(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a;return(0,S.Jh)(this,function(c){switch(c.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,zl(t)];case 1:return i=c.sent(),Ce("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return a=c.sent(),[4,e.initialize(i,a)];case 3:return c.sent(),t.setCredentialChangeListener(function(f){return function(p,y){return(0,S.mG)(this,void 0,void 0,function(){var _,E;return(0,S.Jh)(this,function(C){switch(C.label){case 0:return(_=Te(p)).asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials"),E=Si(_),_.Or.add(3),[4,Uu(_)];case 1:return C.sent(),E&&_.Br.set("Unknown"),[4,_.remoteSyncer.handleCredentialChange(y)];case 2:return C.sent(),_.Or.delete(3),[4,Bl(_)];case 3:return C.sent(),[2]}})})}(e.remoteStore,f)}),t.onlineComponents=e,[2]}})})}function zl(t){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ce("FirestoreClient","Using default OfflineComponentProvider"),[4,kw(t,new Pw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function vh(t){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ce("FirestoreClient","Using default OnlineComponentProvider"),[4,My(t,new Ry)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function gI(t){return zl(t).then(function(e){return e.persistence})}function Ny(t){return zl(t).then(function(e){return e.localStore})}function Fw(t){return vh(t).then(function(e){return e.remoteStore})}function Py(t){return vh(t).then(function(e){return e.syncEngine})}function $u(t){return(0,S.mG)(this,void 0,void 0,function(){var e,i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:return[4,vh(t)];case 1:return e=a.sent(),[2,((i=e.eventManager).onListen=Gl.bind(null,e.syncEngine),i.onUnlisten=ha.bind(null,e.syncEngine),i)]}})})}function Lw(t,e,i){var a=this;void 0===i&&(i={});var c=new er;return t.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(a,void 0,void 0,function(){var f;return(0,S.Jh)(this,function(p){switch(p.label){case 0:return f=function(y,_,E,C,T){var R=new yh({next:function(F){_.enqueueAndForget(function(){return Mo(y,N)});var B=F.docs.has(E);!B&&F.fromCache?T.reject(new ye(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&F.fromCache&&C&&"server"===C.source?T.reject(new ye(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(F)},error:function(F){return T.reject(F)}}),N=new Iw(Eu(E.path),R,{includeMetadataChanges:!0,so:!0});return ql(y,N)},[4,$u(t)];case 1:return[2,f.apply(void 0,[p.sent(),t.asyncQueue,e,i,c])]}})})}),c.promise}function Uw(t,e,i){var a=this;void 0===i&&(i={});var c=new er;return t.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(a,void 0,void 0,function(){var f;return(0,S.Jh)(this,function(p){switch(p.label){case 0:return f=function(y,_,E,C,T){var R=new yh({next:function(F){_.enqueueAndForget(function(){return Mo(y,N)}),F.fromCache&&"server"===C.source?T.reject(new ye(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(F)},error:function(F){return T.reject(F)}}),N=new Iw(E,R,{includeMetadataChanges:!0,so:!0});return ql(y,N)},[4,$u(t)];case 1:return[2,f.apply(void 0,[p.sent(),t.asyncQueue,e,i,c])]}})})}),c.promise}var Wl=function(t,e,i,a,c,f,p,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.useFetchStreams=y},_h=function(){function t(e,i){this.projectId=e,this.database=i||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Vw=new Map,Oy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Zu=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){this.changeListener=i,e.enqueueRetryable(function(){return i(kn.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),w1=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){var a=this;this.changeListener=i,e.enqueueRetryable(function(){return i(a.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),jw=function(){function t(e){var i=this;this.currentUser=kn.UNAUTHENTICATED,this.oc=new er,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){i.cc++,i.currentUser=i.ac(),i.oc.resolve(),i.changeListener&&i.asyncQueue.enqueueRetryable(function(){return i.changeListener(i.currentUser)})};var a=function(c){Ce("FirebaseCredentialsProvider","Auth detected"),i.auth=c,i.auth.addAuthTokenListener(i.uc)};e.onInit(function(c){return a(c)}),setTimeout(function(){if(!i.auth){var c=e.getImmediate({optional:!0});c?a(c):(Ce("FirebaseCredentialsProvider","Auth not yet detected"),i.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,i=this.cc,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(function(c){return e.cc!==i?(Ce("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):c?(Qe("string"==typeof c.accessToken),new Oy(c.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,i){var a=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,S.mG)(a,void 0,void 0,function(){return(0,S.Jh)(this,function(c){switch(c.label){case 0:return[4,this.oc.promise];case 1:return c.sent(),[4,i(this.currentUser)];case 2:return c.sent(),this.changeListener=i,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Qe(null===e||"string"==typeof e),new kn(e)},t}(),mI=function(){function t(e,i,a){this.hc=e,this.lc=i,this.fc=a,this.type="FirstParty",this.user=kn.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},i=this.hc.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),yI=function(){function t(e,i,a){this.hc=e,this.lc=i,this.fc=a}return t.prototype.getToken=function(){return Promise.resolve(new mI(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,i){e.enqueueRetryable(function(){return i(kn.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ky(t,e,i){if(!i)throw new ye(ee.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Fy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ye(ee.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Bw(t,e,i,a){if(!0===e&&!0===a)throw new ye(ee.INVALID_ARGUMENT,t+" and "+i+" cannot be used together.")}function Ly(t){if(!Ue.isDocumentKey(t))throw new ye(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Hw(t){if(Ue.isDocumentKey(t))throw new ye(ee.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function bh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(i){if(i.constructor){var a=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(a&&a.length>1)return a[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Oe()}function Dt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var i=bh(t);throw new ye(ee.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+i)}return t}function vI(t,e){if(e<=0)throw new ye(ee.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var _I=function(){function t(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Bw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),ga=function(){function t(e,i){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _I({}),this._settingsFrozen=!1,e instanceof _h?(this._databaseId=e,this._credentials=new Zu):(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ye(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(a.options.projectId)}(e),this._credentials=new jw(i))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ye(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ye(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _I(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new Zu;switch(i.type){case"gapi":var a=i.client;return Qe(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new yI(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new ye(ee.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(i=Vw.get(this))&&(Ce("ComponentProvider","Removing Datastore"),Vw.delete(this),i.terminate()),Promise.resolve();var i},t}(),Zt=function(){function t(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new fs(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ir=function(){function t(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),fs=function(t){function e(i,a,c){var f=this;return(f=t.call(this,i,a,Eu(c))||this)._path=c,f.type="collection",f}return(0,S.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._path.popLast();return i.isEmpty()?null:new Zt(this.firestore,null,new Ue(i))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(i){return new e(this.firestore,i,this._path)},e}(Ir);function qw(t,e){for(var i,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,st.m9)(t),ky("collection","path",e),t instanceof ga)return Hw(i=yt.fromString.apply(yt,(0,S.ev)([e],a))),new fs(t,null,i);if(!(t instanceof Zt||t instanceof fs))throw new ye(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hw(i=yt.fromString.apply(yt,(0,S.ev)([t.path],a)).child(yt.fromString(e))),new fs(t.firestore,null,i)}function wh(t,e){for(var i,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,st.m9)(t),1===arguments.length&&(e=hT.u()),ky("doc","path",e),t instanceof ga)return Ly(i=yt.fromString.apply(yt,(0,S.ev)([e],a))),new Zt(t,null,new Ue(i));if(!(t instanceof Zt||t instanceof fs))throw new ye(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ly(i=t._path.child(yt.fromString.apply(yt,(0,S.ev)([e],a)))),new Zt(t.firestore,t instanceof fs?t.converter:null,new Ue(i))}function Gw(t,e){return t=(0,st.m9)(t),e=(0,st.m9)(e),(t instanceof Zt||t instanceof fs)&&(e instanceof Zt||e instanceof fs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Uy(t,e){return t=(0,st.m9)(t),e=(0,st.m9)(e),t instanceof Ir&&e instanceof Ir&&t.firestore===e.firestore&&Il(t._query,e._query)&&t.converter===e.converter}var Vy=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new gy(this,"async_queue_retry"),this.Ic=function(){var a=ch();a&&Ce("AsyncQueue","Visibility state changed to "+a.visibilityState),e.Zi.Gi()};var i=ch();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var i=ch();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var i=this;if(this.Ac(),this._c)return new Promise(function(){});var a=new er;return this.Rc(function(){return i._c&&i.Ec?Promise.resolve():(e().then(a.resolve,a.reject),a.promise)}).then(function(){return a.promise})},t.prototype.enqueueRetryable=function(e){var i=this;this.enqueueAndForget(function(){return i.wc.push(e),i.bc()})},t.prototype.bc=function(){return(0,S.mG)(this,void 0,void 0,function(){var e,i=this;return(0,S.Jh)(this,function(a){switch(a.label){case 0:if(0===this.wc.length)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return a.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!us(e=a.sent()))throw e;return Ce("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return i.bc()}),a.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var i=this,a=this.dc.then(function(){return i.gc=!0,e().catch(function(c){throw i.yc=c,i.gc=!1,_n("INTERNAL UNHANDLED ERROR: ",(p=(f=c).message||"",f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),p)),c;var f,p}).then(function(c){return i.gc=!1,c})});return this.dc=a,a},t.prototype.enqueueAfterDelay=function(e,i,a){var c=this;this.Ac(),this.Tc.indexOf(e)>-1&&(i=0);var f=Tt.createAndSchedule(this,e,i,a,function(p){return c.vc(p)});return this.mc.push(f),f},t.prototype.Ac=function(){this.yc&&Oe()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,S.mG)(this,void 0,void 0,function(){var e;return(0,S.Jh)(this,function(i){switch(i.label){case 0:return[4,e=this.dc];case 1:i.sent(),i.label=2;case 2:if(e!==this.dc)return[3,0];i.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var i=0,a=this.mc;i<a.length;i++)if(a[i].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var i=this;return this.Pc().then(function(){i.mc.sort(function(p,y){return p.targetTimeMs-y.targetTimeMs});for(var a=0,c=i.mc;a<c.length;a++){var f=c[a];if(f.skipDelay(),"all"!==e&&f.timerId===e)break}return i.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var i=this.mc.indexOf(e);this.mc.splice(i,1)},t}();function zu(t){return function(e,i){if("object"!=typeof e||null===e)return!1;for(var a=e,c=0,f=["next","error","complete"];c<f.length;c++){var p=f[c];if(p in a&&"function"==typeof a[p])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(e,i,a){this._progressObserver={next:e,error:i,complete:a}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,i){return this._taskCompletionResolver.promise.then(e,i)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var on=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this).type="firestore",c._queue=new Vy,c._persistenceKey="name"in i?i.name:"[DEFAULT]",c}return(0,S.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Eh(this),this._firestoreClient.terminate()},e}(ga);function xt(t){return t._firestoreClient||Eh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Eh(t){var e,f,y,i=t._freezeSettings(),a=(f=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Wl(t._databaseId,f,t._persistenceKey,(y=i).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));t._firestoreClient=new pI(t._credentials,t._queue,a)}function $w(t,e,i){var a=this,c=new er;return t.asyncQueue.enqueue(function(){return(0,S.mG)(a,void 0,void 0,function(){var f;return(0,S.Jh)(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),[4,kw(t,i)];case 1:return p.sent(),[4,My(t,e)];case 2:return p.sent(),c.resolve(),[3,4];case 3:if(!("FirebaseError"===(y=f=p.sent()).name?y.code===ee.FAILED_PRECONDITION||y.code===ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw f;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),c.reject(f),[3,4];case 4:return[2]}var y})})}).then(function(){return c.promise})}function jy(t){if(t._initialized||t._terminated)throw new ye(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ri=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var a=0;a<e.length;++a)if(0===e[a].length)throw new ye(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),ds=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(cr.fromBase64String(e))}catch(i){throw new ye(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}},t.fromUint8Array=function(e){return new t(cr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),ma=function(t){this._methodName=t},Ch=function(){function t(e,i){if(!isFinite(e)||e<-90||e>90)throw new ye(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ye(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return gt(this._lat,e._lat)||gt(this._long,e._long)},t}(),bI=/^__.*__$/,Zw=function(){function t(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}return t.prototype.toMutation=function(e,i){return null!==this.fieldMask?new is(e,this.data,this.fieldMask,i,this.fieldTransforms):new rs(e,this.data,i,this.fieldTransforms)},t}(),zw=function(){function t(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}return t.prototype.toMutation=function(e,i){return new is(e,this.data,this.fieldMask,i,this.fieldTransforms)},t}();function wI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}var Ww=function(){function t(e,i,a,c,f,p){this.settings=e,this.databaseId=i,this.R=a,this.ignoreUndefinedProperties=c,void 0===f&&this.Cc(),this.fieldTransforms=f||[],this.fieldMask=p||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var i,a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.xc({path:a,Fc:!1});return c.$c(e),c},t.prototype.Oc=function(e){var i,a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.xc({path:a,Fc:!1});return c.Cc(),c},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return hs(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(i){return e.isPrefixOf(i)})||void 0!==this.fieldTransforms.find(function(i){return e.isPrefixOf(i.field)})},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(wI(this.Nc)&&bI.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),EI=function(){function t(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.R=a||Vl(e)}return t.prototype.Uc=function(e,i,a,c){return void 0===c&&(c=!1),new Ww({Nc:e,methodName:i,qc:a,path:Kr.emptyPath(),Fc:!1,Bc:c},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function oi(t){var e=t._freezeSettings(),i=Vl(t._databaseId);return new EI(t._databaseId,!!e.ignoreUndefinedProperties,i)}function By(t,e,i,a,c,f){void 0===f&&(f={});var p=t.Uc(f.merge||f.mergeFields?2:0,e,i,c);qy("Data must be an object, but it was:",p,a);var y,_,E=Jw(a,p);if(f.merge)y=new mu(p.fieldMask),_=p.fieldTransforms;else if(f.mergeFields){for(var C=[],T=0,R=f.mergeFields;T<R.length;T++){var N=Gy(e,R[T],i);if(!p.contains(N))throw new ye(ee.INVALID_ARGUMENT,"Field '"+N+"' is specified in your field mask but missing from your input data.");Zy(C,N)||C.push(N)}y=new mu(C),_=p.fieldTransforms.filter(function(F){return y.covers(F.field)})}else y=null,_=p.fieldTransforms;return new Zw(new Cr(E),y,_)}var Dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,S.ZT)(e,t),e.prototype._toFieldTransform=function(i){if(2!==i.Nc)throw i.Lc(1===i.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return i.fieldMask.push(i.path),null},e.prototype.isEqual=function(i){return i instanceof e},e}(ma);function Kw(t,e,i){return new Ww({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:i},e.databaseId,e.R,e.ignoreUndefinedProperties)}var E1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,S.ZT)(e,t),e.prototype._toFieldTransform=function(i){return new Sl(i.path,new Du)},e.prototype.isEqual=function(i){return i instanceof e},e}(ma),Qw=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Kc=a,c}return(0,S.ZT)(e,t),e.prototype._toFieldTransform=function(i){var a=Kw(this,i,!0),c=this.Kc.map(function(p){return ya(p,a)}),f=new Ys(c);return new Sl(i.path,f)},e.prototype.isEqual=function(i){return this===i},e}(ma),CI=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Kc=a,c}return(0,S.ZT)(e,t),e.prototype._toFieldTransform=function(i){var a=Kw(this,i,!0),c=this.Kc.map(function(p){return ya(p,a)}),f=new Hn(c);return new Sl(i.path,f)},e.prototype.isEqual=function(i){return this===i},e}(ma),Hy=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Qc=a,c}return(0,S.ZT)(e,t),e.prototype._toFieldTransform=function(i){var a=new Js(i.R,Om(i.R,this.Qc));return new Sl(i.path,a)},e.prototype.isEqual=function(i){return this===i},e}(ma);function Th(t,e,i,a){var c=t.Uc(1,e,i);qy("Data must be an object, but it was:",c,a);var f=[],p=Cr.empty();Xo(a,function(_,E){var C=$y(e,_,i);E=(0,st.m9)(E);var T=c.Oc(C);if(E instanceof Dh)f.push(C);else{var R=ya(E,T);null!=R&&(f.push(C),p.set(C,R))}});var y=new mu(f);return new zw(p,y,c.fieldTransforms)}function Ih(t,e,i,a,c,f){var p=t.Uc(1,e,i),y=[Gy(e,a,i)],_=[c];if(f.length%2!=0)throw new ye(ee.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var E=0;E<f.length;E+=2)y.push(Gy(e,f[E])),_.push(f[E+1]);for(var C=[],T=Cr.empty(),R=y.length-1;R>=0;--R)if(!Zy(C,y[R])){var N=y[R],F=_[R];F=(0,st.m9)(F);var B=p.Oc(N);if(F instanceof Dh)C.push(N);else{var re=ya(F,B);null!=re&&(C.push(N),T.set(N,re))}}var de=new mu(C);return new zw(T,de,p.fieldTransforms)}function Yw(t,e,i,a){return void 0===a&&(a=!1),ya(i,t.Uc(a?4:3,e))}function ya(t,e){if(Xw(t=(0,st.m9)(t)))return qy("Unsupported field value:",e,t),Jw(t,e);if(t instanceof ma)return function(i,a){if(!wI(a.Nc))throw a.Lc(i._methodName+"() can only be used with update() and set()");if(!a.path)throw a.Lc(i._methodName+"() is not currently supported inside arrays");var c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(i,a){for(var c=[],f=0,p=0,y=i;p<y.length;p++){var _=ya(y[p],a.Mc(f));null==_&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}}(t,e)}return function(i,a){if(null===(i=(0,st.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Om(a.R,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){var c=wr.fromDate(i);return{timestampValue:Su(a.R,c)}}if(i instanceof wr)return c=new wr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3)),{timestampValue:Su(a.R,c)};if(i instanceof Ch)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ds)return{bytesValue:Ym(a.R,i._byteString)};if(i instanceof Zt){var f=i.firestore._databaseId;if(!f.isEqual(c=a.databaseId))throw a.Lc("Document reference is for database "+f.projectId+"/"+f.database+" but should be for database "+c.projectId+"/"+c.database);return{referenceValue:Io(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Lc("Unsupported field value: "+bh(i))}(t,e)}function Jw(t,e){var i={};return cb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,function(a,c){var f=ya(c,e.kc(a));null!=f&&(i[a]=f)}),{mapValue:{fields:i}}}function Xw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof wr||t instanceof Ch||t instanceof ds||t instanceof Zt||t instanceof ma)}function qy(t,e,i){if(!Xw(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){var a=bh(i);throw e.Lc("an object"===a?t+" a custom object":t+" "+a)}var c}function Gy(t,e,i){if((e=(0,st.m9)(e))instanceof Ri)return e._internalPath;if("string"==typeof e)return $y(t,e);throw hs("Field path arguments must be of type string or FieldPath.",t,!1,void 0,i)}var DI=new RegExp("[~\\*/\\[\\]]");function $y(t,e,i){if(e.search(DI)>=0)throw hs("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,i);try{return(new(Ri.bind.apply(Ri,(0,S.ev)([void 0],e.split(".")))))._internalPath}catch(a){throw hs("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,i)}}function hs(t,e,i,a,c){var f=a&&!a.isEmpty(),p=void 0!==c,y="Function "+e+"() called with invalid data";i&&(y+=" (via `toFirestore()`)");var _="";return(f||p)&&(_+=" (found",f&&(_+=" in field "+a),p&&(_+=" in document "+c),_+=")"),new ye(ee.INVALID_ARGUMENT,(y+=". ")+t+_)}function Zy(t,e){return t.some(function(i){return i.isEqual(e)})}var Ku=function(){function t(e,i,a,c,f){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=c,this._converter=f}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Zt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var e=new eE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var i=this._document.data.field(Kl("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}},t}(),eE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,S.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ku);function Kl(t,e){return"string"==typeof e?$y(t,e):e instanceof Ri?e._internalPath:e._delegate._internalPath}var ps=function(){function t(e,i){this.hasPendingWrites=e,this.fromCache=i}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Xi=function(t){function e(i,a,c,f,p,y){var _=this;return(_=t.call(this,i,a,c,f,y)||this)._firestore=i,_._firestoreImpl=i,_.metadata=p,_}return(0,S.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(i){if(void 0===i&&(i={}),this._document){if(this._converter){var a=new Ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}},e.prototype.get=function(i,a){if(void 0===a&&(a={}),this._document){var c=this._document.data.field(Kl("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}},e}(Ku),Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,S.ZT)(e,t),e.prototype.data=function(i){return void 0===i&&(i={}),t.prototype.data.call(this,i)},e}(Xi),No=function(){function t(e,i,a,c){this._firestore=e,this._userDataWriter=i,this._snapshot=c,this.metadata=new ps(c.hasPendingWrites,c.fromCache),this.query=a}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(i){return e.push(i)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,i){var a=this;this._snapshot.docs.forEach(function(c){e.call(i,new Ql(a._firestore,a._userDataWriter,c.key,c,new ps(a._snapshot.mutatedKeys.has(c.key),a._snapshot.fromCache),a.query.converter))})},t.prototype.docChanges=function(e){void 0===e&&(e={});var i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ye(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){var f=0;return a._snapshot.docChanges.map(function(y){return{type:"added",doc:new Ql(a._firestore,a._userDataWriter,y.doc.key,y.doc,new ps(a._snapshot.mutatedKeys.has(y.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:f++}})}var p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(function(y){return c||3!==y.type}).map(function(y){var _=new Ql(a._firestore,a._userDataWriter,y.doc.key,y.doc,new ps(a._snapshot.mutatedKeys.has(y.doc.key),a._snapshot.fromCache),a.query.converter),E=-1,C=-1;return 0!==y.type&&(E=p.indexOf(y.doc.key),p=p.delete(y.doc.key)),1!==y.type&&(C=(p=p.add(y.doc)).indexOf(y.doc.key)),{type:TI(y.type),doc:_,oldIndex:E,newIndex:C}})}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges},t}();function TI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}function tE(t,e){return t instanceof Xi&&e instanceof Xi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof No&&e instanceof No&&t._firestore===e._firestore&&Uy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function nE(t){if(Tl(t)&&0===t.explicitOrderBy.length)throw new ye(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yl=function(){};function si(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var a=0,c=e;a<c.length;a++){var f=c[a];t=f._apply(t)}return t}var Jl=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).jc=i,f.Wc=a,f.Gc=c,f.type="where",f}return(0,S.ZT)(e,t),e.prototype._apply=function(i){var f,y,a=oi(i.firestore),c=function(f,p,y,_,E,C,T){var R;if(E.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new ye(ee.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){oE(T,C);for(var N=[],F=0,B=T;F<B.length;F++)N.push(iE(_,f,B[F]));R={arrayValue:{values:N}}}else R=iE(_,f,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||oE(T,C),R=Yw(y,"where",T,"in"===C||"not-in"===C);var de=Dr.create(E,C,R);return function(we,Ee){if(Ee.g()){var ke=ln(we);if(null!==ke&&!ke.isEqual(Ee.field))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+ke.toString()+"' and '"+Ee.field.toString()+"'");var xe=xm(we);null!==xe&&SI(0,Ee.field,xe)}var lt=function(Mt,Vr){for(var Rn=0,eC=Mt.filters;Rn<eC.length;Rn++){var tC=eC[Rn];if(Vr.indexOf(tC.op)>=0)return tC.op}return null}(we,function(Mt){switch(Mt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ee.op));if(null!==lt)throw new ye(ee.INVALID_ARGUMENT,lt===Ee.op?"Invalid query. You cannot use more than one '"+Ee.op.toString()+"' filter.":"Invalid query. You cannot use '"+Ee.op.toString()+"' filters with '"+lt.toString()+"' filters.")}(f,de),de}(i._query,0,a,i.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ir(i.firestore,i.converter,(y=(f=i._query).filters.concat([c]),new Wi(f.path,f.collectionGroup,f.explicitOrderBy.slice(),y,f.limit,f.limitType,f.startAt,f.endAt)))},e}(Yl),II=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).jc=i,c.zc=a,c.type="orderBy",c}return(0,S.ZT)(e,t),e.prototype._apply=function(i){var c,p,a=function(c,f,p){if(null!==c.startAt)throw new ye(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new ye(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var y=new Qs(f,p);return function(_,E){if(null===xm(_)){var C=ln(_);null!==C&&SI(0,C,E.field)}}(c,y),y}(i._query,this.jc,this.zc);return new Ir(i.firestore,i.converter,(p=(c=i._query).explicitOrderBy.concat([a]),new Wi(c.path,c.collectionGroup,p,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)))},e}(Yl),Sh=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).type=i,f.Hc=a,f.Jc=c,f}return(0,S.ZT)(e,t),e.prototype._apply=function(i){return new Ir(i.firestore,i.converter,Mm(i._query,this.Hc,this.Jc))},e}(Yl),xi=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).type=i,f.Yc=a,f.Xc=c,f}return(0,S.ZT)(e,t),e.prototype._apply=function(i){var c,f,a=Xl(i,this.type,this.Yc,this.Xc);return new Ir(i.firestore,i.converter,(f=a,new Wi((c=i._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,f,c.endAt)))},e}(Yl),rE=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).type=i,f.Yc=a,f.Xc=c,f}return(0,S.ZT)(e,t),e.prototype._apply=function(i){var c,f,a=Xl(i,this.type,this.Yc,this.Xc);return new Ir(i.firestore,i.converter,(f=a,new Wi((c=i._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,f)))},e}(Yl);function Xl(t,e,i,a){if(i[0]=(0,st.m9)(i[0]),i[0]instanceof Ku)return function(f,p,y,_,E){if(!_)throw new ye(ee.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+y+"().");for(var C=[],T=0,R=Cu(f);T<R.length;T++){var N=R[T];if(N.field.isKeyField())C.push(_u(p,_.key));else{var F=_.data.field(N.field);if(_m(F))throw new ye(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){var B=N.field.canonicalString();throw new ye(ee.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+B+"' (used as the orderBy) does not exist.")}C.push(F)}}return new wu(C,E)}(t._query,t.firestore._databaseId,e,i[0]._document,a);var c=oi(t.firestore);return function(f,p,y,_,E,C){var T=f.explicitOrderBy;if(E.length>T.length)throw new ye(ee.INVALID_ARGUMENT,"Too many arguments provided to "+_+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var R=[],N=0;N<E.length;N++){var F=E[N];if(T[N].field.isKeyField()){if("string"!=typeof F)throw new ye(ee.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+_+"(), but got a "+typeof F);if(!Bd(f)&&-1!==F.indexOf("/"))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+_+"() must be a plain document ID, but '"+F+"' contains a slash.");var B=f.path.child(yt.fromString(F));if(!Ue.isDocumentKey(B))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+_+"() must result in a valid document path, but '"+B+"' is not because it contains an odd number of segments.");var re=new Ue(B);R.push(_u(p,re))}else{var de=Yw(y,_,F);R.push(de)}}return new wu(R,C)}(t._query,t.firestore._databaseId,c,e,i,a)}function iE(t,e,i){if("string"==typeof(i=(0,st.m9)(i))){if(""===i)throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bd(e)&&-1!==i.indexOf("/"))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+i+"' contains a '/' character.");var a=e.path.child(yt.fromString(i));if(!Ue.isDocumentKey(a))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+a+"' is not because it has an odd number of segments ("+a.length+").");return _u(t,new Ue(a))}if(i instanceof Zt)return _u(t,i._key);throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bh(i)+".")}function oE(t,e){if(!Array.isArray(t)||0===t.length)throw new ye(ee.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ye(ee.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function SI(t,e,i){if(!i.isEqual(e))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+i.toString()+"' instead.")}var ef=function(){function t(){}return t.prototype.convertValue=function(e,i){switch(void 0===i&&(i="none"),vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Oe()}},t.prototype.convertObject=function(e,i){var a=this,c={};return Xo(e.fields,function(f,p){c[f]=a.convertValue(p,i)}),c},t.prototype.convertGeoPoint=function(e){return new Ch(bn(e.latitude),bn(e.longitude))},t.prototype.convertArray=function(e,i){var a=this;return(e.values||[]).map(function(c){return a.convertValue(c,i)})},t.prototype.convertServerTimestamp=function(e,i){switch(i){case"previous":var a=bm(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(yu(e));default:return null}},t.prototype.convertTimestamp=function(e){var i=es(e);return new wr(i.seconds,i.nanos)},t.prototype.convertDocumentKey=function(e,i){var a=yt.fromString(e);Qe(ty(a));var c=new _h(a.get(1),a.get(3)),f=new Ue(a.popFirst(5));return c.isEqual(i)||_n("Document "+f+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),f},t}();function Qu(t,e,i){return t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e}var sE=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return(0,S.ZT)(e,t),e.prototype.convertBytes=function(i){return new ds(i)},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new Zt(this.firestore,null,a)},e}(ef),zy=function(){function t(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=oi(e)}return t.prototype.set=function(e,i,a){this._verifyNotCommitted();var c=eo(e,this._firestore),f=Qu(c.converter,i,a),p=By(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,a);return this._mutations.push(p.toMutation(c._key,Xn.none())),this},t.prototype.update=function(e,i,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];this._verifyNotCommitted();var p,y=eo(e,this._firestore);return p="string"==typeof(i=(0,st.m9)(i))||i instanceof Ri?Ih(this._dataReader,"WriteBatch.update",y._key,i,a,c):Th(this._dataReader,"WriteBatch.update",y._key,i),this._mutations.push(p.toMutation(y._key,Xn.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var i=eo(e,this._firestore);return this._mutations=this._mutations.concat(new Iu(i._key,Xn.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ye(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function eo(t,e){if((t=(0,st.m9)(t)).firestore!==e)throw new ye(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var va=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return(0,S.ZT)(e,t),e.prototype.convertBytes=function(i){return new ds(i)},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new Zt(this.firestore,null,a)},e}(ef);function aE(t,e,i){for(var a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];t=Dt(t,Zt);var f=Dt(t.firestore,on),p=oi(f);return tf(f,[("string"==typeof(e=(0,st.m9)(e))||e instanceof Ri?Ih(p,"updateDoc",t._key,e,i,a):Th(p,"updateDoc",t._key,e)).toMutation(t._key,Xn.exists(!0))])}function uE(t){for(var e,i,a,c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];t=(0,st.m9)(t);var p={includeMetadataChanges:!1},y=0;"object"!=typeof c[y]||zu(c[y])||(p=c[y],y++);var _,E,C,T={includeMetadataChanges:p.includeMetadataChanges};if(zu(c[y])){var R=c[y];c[y]=null===(e=R.next)||void 0===e?void 0:e.bind(R),c[y+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),c[y+2]=null===(a=R.complete)||void 0===a?void 0:a.bind(R)}if(t instanceof Zt)E=Dt(t.firestore,on),C=Eu(t._key.path),_={next:function(B){c[y]&&c[y](Ah(E,t,B))},error:c[y+1],complete:c[y+2]};else{var N=Dt(t,Ir);E=Dt(N.firestore,on),C=N._query;var F=new va(E);_={next:function(B){c[y]&&c[y](new No(E,F,N,B))},error:c[y+1],complete:c[y+2]},nE(t._query)}return function(B,re,de,we){var Ee=this,ke=new yh(we),xe=new Iw(re,ke,de);return B.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(Ee,void 0,void 0,function(){var lt;return(0,S.Jh)(this,function(Mt){switch(Mt.label){case 0:return lt=ql,[4,$u(B)];case 1:return[2,lt.apply(void 0,[Mt.sent(),xe])]}})})}),function(){ke.Wo(),B.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(Ee,void 0,void 0,function(){var lt;return(0,S.Jh)(this,function(Mt){switch(Mt.label){case 0:return lt=Mo,[4,$u(B)];case 1:return[2,lt.apply(void 0,[Mt.sent(),xe])]}})})})}}(xt(E),C,T,_)}function tf(t,e){return function(i,a){var c=this,f=new er;return i.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(c,void 0,void 0,function(){var p;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return p=uI,[4,Py(i)];case 1:return[2,p.apply(void 0,[y.sent(),a,f])]}})})}),f.promise}(xt(t),e)}function Ah(t,e,i){var a=i.docs.get(e._key),c=new va(t);return new Xi(t,c,e._key,a,new ps(i.hasPendingWrites,i.fromCache),e.converter)}var Wy=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this)._firestore=i,c}return(0,S.ZT)(e,t),e.prototype.get=function(i){var a=this,c=eo(i,this._firestore),f=new va(this._firestore);return t.prototype.get.call(this,i).then(function(p){return new Xi(a._firestore,f,c._key,p._document,new ps(!1,!1),c.converter)})},e}(function(){function t(e,i){this._firestore=e,this._transaction=i,this._dataReader=oi(e)}return t.prototype.get=function(e){var i=this,a=eo(e,this._firestore),c=new sE(this._firestore);return this._transaction.lookup([a._key]).then(function(f){if(!f||1!==f.length)return Oe();var p=f[0];if(p.isFoundDocument())return new Ku(i._firestore,c,p.key,p,a.converter);if(p.isNoDocument())return new Ku(i._firestore,c,a._key,null,a.converter);throw Oe()})},t.prototype.set=function(e,i,a){var c=eo(e,this._firestore),f=Qu(c.converter,i,a),p=By(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,a);return this._transaction.set(c._key,p),this},t.prototype.update=function(e,i,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var p,y=eo(e,this._firestore);return p="string"==typeof(i=(0,st.m9)(i))||i instanceof Ri?Ih(this._dataReader,"Transaction.update",y._key,i,a,c):Th(this._dataReader,"Transaction.update",y._key,i),this._transaction.update(y._key,p),this},t.prototype.delete=function(e){var i=eo(e,this._firestore);return this._transaction.delete(i._key),this},t}());function Ky(){if("undefined"==typeof Uint8Array)throw new ye(ee.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qy(){if("undefined"==typeof atob)throw new ye(ee.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Yy=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return Qy(),new t(ds.fromBase64String(e))},t.fromUint8Array=function(e){return Ky(),new t(ds.fromUint8Array(e))},t.prototype.toBase64=function(){return Qy(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Ky(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),cE=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,i){return function(a,c){jy(a=Dt(a,on));var f=xt(a),p=a._freezeSettings(),y=new Ry;return $w(f,y,new mh(y,p.cacheSizeBytes,null==c?void 0:c.forceOwnership))}(e._delegate,{forceOwnership:i})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(i){jy(i=Dt(i,on));var a=xt(i),c=i._freezeSettings(),f=new Ry;return $w(a,f,new fI(f,c.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(i){var a=this;if(i._initialized&&!i._terminated)throw new ye(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var c=new er;return i._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,S.mG)(a,void 0,void 0,function(){var f;return(0,S.Jh)(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,function(y){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(E){switch(E.label){case 0:return Ol.yt()?[4,Ol.delete(y+"main")]:[2,Promise.resolve()];case 1:return E.sent(),[2]}})})}(cy(i._databaseId,i._persistenceKey))];case 1:return p.sent(),c.resolve(),[3,3];case 2:return f=p.sent(),c.reject(f),[3,3];case 3:return[2]}})})}),c.promise}(e._delegate)},t}(),lE=function(){function t(e,i,a){var c=this;this._delegate=i,this.Zc=a,this.INTERNAL={delete:function(){return c.terminate()}},e instanceof _h||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var i=this._delegate._getSettings();e.merge||i.host===e.host||yl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,i,a){void 0===a&&(a={}),function(c,f,p,y){var _;void 0===y&&(y={});var E=(c=Dt(c,ga))._getSettings();if("firestore.googleapis.com"!==E.host&&E.host!==f&&yl("Host has been set in both settings() and useEmulator(), emulator host will be used"),c._setSettings(Object.assign(Object.assign({},E),{host:f+":"+p,ssl:!1})),y.mockUserToken){var C,T;if("string"==typeof y.mockUserToken)C=y.mockUserToken,T=kn.MOCK_USER;else{C=(0,st.Sg)(y.mockUserToken,null===(_=c._app)||void 0===_?void 0:_.options.projectId);var R=y.mockUserToken.sub||y.mockUserToken.user_id;if(!R)throw new ye(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new kn(R)}c._credentials=new w1(new Oy(C,T))}}(this._delegate,e,i,a)},t.prototype.enableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return(0,S.mG)(i,void 0,void 0,function(){var a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return[4,gI(e)];case 1:return a=f.sent(),[4,Fw(e)];case 2:return c=f.sent(),[2,(a.setNetworkEnabled(!0),p=c,y=Te(p),y.Or.delete(0),Bl(y))]}var p,y})})})}(xt(Dt(this._delegate,on)))},t.prototype.disableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return(0,S.mG)(i,void 0,void 0,function(){var a,c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return[4,gI(e)];case 1:return a=f.sent(),[4,Fw(e)];case 2:return c=f.sent(),[2,(a.setNetworkEnabled(!1),function(p){return(0,S.mG)(this,void 0,void 0,function(){var y;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return(y=Te(p)).Or.add(0),[4,Uu(y)];case 1:return _.sent(),y.Br.set("Offline"),[2]}})})}(c))]}})})})}(xt(Dt(this._delegate,on)))},t.prototype.enablePersistence=function(e){var i=!1,a=!1;return e&&Bw("synchronizeTabs",i=!!e.synchronizeTabs,"experimentalForceOwningTab",a=!!e.experimentalForceOwningTab),i?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,a)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var i=this,a=new er;return e.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(i,void 0,void 0,function(){var c;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return c=qu,[4,Py(e)];case 1:return[2,c.apply(void 0,[f.sent(),a])]}})})}),a.promise}(xt(Dt(this._delegate,on)))},t.prototype.onSnapshotsInSync=function(e){return a=e,function(c,f){var p=this,y=new yh(f);return c.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(p,void 0,void 0,function(){var _;return(0,S.Jh)(this,function(E){switch(E.label){case 0:return _=function(C,T){Te(C).Gr.add(T),T.next()},[4,$u(c)];case 1:return[2,_.apply(void 0,[E.sent(),y])]}})})}),function(){y.Wo(),c.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(p,void 0,void 0,function(){var _;return(0,S.Jh)(this,function(E){switch(E.label){case 0:return _=function(C,T){Te(C).Gr.delete(T)},[4,$u(c)];case 1:return[2,_.apply(void 0,[E.sent(),y])]}})})})}}(xt(Dt(this._delegate,on)),zu(a)?a:{next:a});var a},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ye(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new xh(this,qw(this._delegate,e))}catch(i){throw At(i,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Yu(this,wh(this._delegate,e))}catch(i){throw At(i,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Po(this,function(i,a){if(i=Dt(i,ga),ky("collectionGroup","collection id",a),a.indexOf("/")>=0)throw new ye(ee.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ir(i,null,(c=a,new Wi(yt.emptyPath(),c)));var c}(this._delegate,e))}catch(i){throw At(i,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var a,i=this;return function(f,p){var y=this,_=new er;return f.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(y,void 0,void 0,function(){var E;return(0,S.Jh)(this,function(C){switch(C.label){case 0:return[4,(T=f,vh(T).then(function(R){return R.datastore}))];case 1:return E=C.sent(),new xy(f.asyncQueue,E,p,_).run(),[2]}var T})})}),_.promise}(xt(a=this._delegate),function(f){return function(a){return e(new dE(i,a))}(new Wy(a,f))})},t.prototype.batch=function(){var e=this;return xt(this._delegate),new Jy(new zy(this._delegate,function(i){return tf(e._delegate,i)}))},t.prototype.loadBundle=function(e){throw new ye(ee.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new ye(ee.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),nf=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return(0,S.ZT)(e,t),e.prototype.convertBytes=function(i){return new Yy(new ds(i))},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return Yu.eu(a,this.firestore,null)},e}(ef),dE=function(){function t(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new nf(e)}return t.prototype.get=function(e){var i=this,a=gs(e);return this._delegate.get(a).then(function(c){return new of(i._firestore,new Xi(i._firestore._delegate,i._userDataWriter,c._key,c._document,c.metadata,a.converter))})},t.prototype.set=function(e,i,a){var c=gs(e);return a?(Fy("Transaction.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this},t.prototype.update=function(e,i,a){for(var c,f=[],p=3;p<arguments.length;p++)f[p-3]=arguments[p];var y=gs(e);return 2===arguments.length?this._delegate.update(y,i):(c=this._delegate).update.apply(c,(0,S.ev)([y,i,a],f)),this},t.prototype.delete=function(e){var i=gs(e);return this._delegate.delete(i),this},t}(),Jy=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,i,a){var c=gs(e);return a?(Fy("WriteBatch.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this},t.prototype.update=function(e,i,a){for(var c,f=[],p=3;p<arguments.length;p++)f[p-3]=arguments[p];var y=gs(e);return 2===arguments.length?this._delegate.update(y,i):(c=this._delegate).update.apply(c,(0,S.ev)([y,i,a],f)),this},t.prototype.delete=function(e){var i=gs(e);return this._delegate.delete(i),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),rf=function(){function t(e,i,a){this._firestore=e,this._userDataWriter=i,this._delegate=a}return t.prototype.fromFirestore=function(e,i){var a=new Ql(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rh(this._firestore,a),null!=i?i:{})},t.prototype.toFirestore=function(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)},t.nu=function(e,i){var a=t.su,c=a.get(e);c||(c=new WeakMap,a.set(e,c));var f=c.get(i);return f||(f=new t(e,new nf(e),i),c.set(i,f)),f},t}();rf.su=new WeakMap;var Yu=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new nf(e)}return t.iu=function(e,i,a){if(e.length%2!=0)throw new ye(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(i,new Zt(i._delegate,a,new Ue(e)))},t.eu=function(e,i,a){return new t(i,new Zt(i._delegate,a,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new xh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new xh(this.firestore,qw(this._delegate,e))}catch(i){throw At(i,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=(0,st.m9)(e))instanceof Zt&&Gw(this._delegate,e)},t.prototype.set=function(e,i){i=Fy("DocumentReference.set",i);try{return function(a,c,f){a=Dt(a,Zt);var p=Dt(a.firestore,on),y=Qu(a.converter,c,f);return tf(p,[By(oi(p),"setDoc",a._key,y,null!==a.converter,f).toMutation(a._key,Xn.none())])}(this._delegate,e,i)}catch(a){throw At(a,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,i){for(var a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];try{return 1===arguments.length?aE(this._delegate,e):aE.apply(void 0,(0,S.ev)([this._delegate,e,i],a))}catch(f){throw At(f,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return tf(Dt((e=this._delegate).firestore,on),[new Iu(e._key,Xn.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=_a(i),f=hE(i,function(p){return new of(e.firestore,new Xi(e.firestore._delegate,e._userDataWriter,p._key,p._document,p.metadata,e._delegate.converter))});return uE(this._delegate,c,f)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(a){a=Dt(a,Zt);var c=Dt(a.firestore,on),f=xt(c),p=new va(c);return function(y,_){var E=this,C=new er;return y.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(E,void 0,void 0,function(){var T;return(0,S.Jh)(this,function(R){switch(R.label){case 0:return T=function(N,F,B){return(0,S.mG)(this,void 0,void 0,function(){var re,de;return(0,S.Jh)(this,function(we){switch(we.label){case 0:return we.trys.push([0,2,,3]),[4,(Ee=N,ke=F,xe=Te(Ee),xe.persistence.runTransaction("read document","readonly",function(lt){return xe.Mn.mn(lt,ke)}))];case 1:return(de=we.sent()).isFoundDocument()?B.resolve(de):de.isNoDocument()?B.resolve(null):B.reject(new ye(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return re=we.sent(),de=Fr(re,"Failed to get document '"+F+" from cache"),B.reject(de),[3,3];case 3:return[2]}var Ee,ke,xe})})},[4,Ny(y)];case 1:return[2,T.apply(void 0,[R.sent(),_,C])]}})})}),C.promise}(f,a._key).then(function(y){return new Xi(c,p,a._key,y,new ps(null!==y&&y.hasLocalMutations,!0),a.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=Dt(a,Zt);var c=Dt(a.firestore,on);return Lw(xt(c),a._key,{source:"server"}).then(function(f){return Ah(c,a,f)})}(this._delegate):function(a){a=Dt(a,Zt);var c=Dt(a.firestore,on);return Lw(xt(c),a._key).then(function(f){return Ah(c,a,f)})}(this._delegate)).then(function(a){return new of(i.firestore,new Xi(i.firestore._delegate,i._userDataWriter,a._key,a._document,a.metadata,i._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?rf.nu(this.firestore,e):null))},t}();function At(t,e,i){return t.message=t.message.replace(e,i),t}function _a(t){for(var e=0,i=t;e<i.length;e++){var a=i[e];if("object"==typeof a&&!zu(a))return a}return{}}function hE(t,e){var i,a,c;return{next:function(f){c.next&&c.next(e(f))},error:null===(i=(c=zu(t[0])?t[0]:zu(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===i?void 0:i.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}var of=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Yu(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,i){return this._delegate.get(e,i)},t.prototype.isEqual=function(e){return tE(this._delegate,e._delegate)},t}(),Rh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,S.ZT)(e,t),e.prototype.data=function(i){return this._delegate.data(i)},e}(of),Po=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new nf(e)}return t.prototype.where=function(e,i,a){try{return new t(this.firestore,si(this._delegate,(p=a,y=i,_=Kl("where",c=e),new Jl(_,y,p))))}catch(c){throw At(c,/(orderBy|where)\(\)/,"Query.$1()")}var c,p,y,_},t.prototype.orderBy=function(e,i){try{return new t(this.firestore,si(this._delegate,function(a,c){void 0===c&&(c="asc");var f=c,p=Kl("orderBy",a);return new II(p,f)}(e,i)))}catch(a){throw At(a,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,si(this._delegate,(vI("limit",i=e),new Sh("limit",i,"F"))))}catch(i){throw At(i,"limit()","Query.limit()")}var i},t.prototype.limitToLast=function(e){try{return new t(this.firestore,si(this._delegate,(vI("limitToLast",i=e),new Sh("limitToLast",i,"L"))))}catch(i){throw At(i,"limitToLast()","Query.limitToLast()")}var i},t.prototype.startAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,si(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new xi("startAt",a,!0)}.apply(void 0,e)))}catch(a){throw At(a,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,si(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new xi("startAfter",a,!1)}.apply(void 0,e)))}catch(a){throw At(a,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,si(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new rE("endBefore",a,!0)}.apply(void 0,e)))}catch(a){throw At(a,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,si(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new rE("endAt",a,!1)}.apply(void 0,e)))}catch(a){throw At(a,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Uy(this._delegate,e._delegate)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(a){a=Dt(a,Ir);var c=Dt(a.firestore,on),f=xt(c),p=new va(c);return function(y,_){var E=this,C=new er;return y.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(E,void 0,void 0,function(){var T;return(0,S.Jh)(this,function(R){switch(R.label){case 0:return T=function(N,F,B){return(0,S.mG)(this,void 0,void 0,function(){var re,de,we,Ee,ke;return(0,S.Jh)(this,function(xe){switch(xe.label){case 0:return xe.trys.push([0,2,,3]),[4,sh(N,F,!0)];case 1:return ke=xe.sent(),re=new Aw(F,ke.Bn),de=re._o(ke.documents),we=re.applyChanges(de,!1),B.resolve(we.snapshot),[3,3];case 2:return Ee=xe.sent(),ke=Fr(Ee,"Failed to execute query '"+F+" against cache"),B.reject(ke),[3,3];case 3:return[2]}})})},[4,Ny(y)];case 1:return[2,T.apply(void 0,[R.sent(),_,C])]}})})}),C.promise}(f,a._query).then(function(y){return new No(c,p,a,y)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=Dt(a,Ir);var c=Dt(a.firestore,on),f=xt(c),p=new va(c);return Uw(f,a._query,{source:"server"}).then(function(y){return new No(c,p,a,y)})}(this._delegate):function(a){a=Dt(a,Ir);var c=Dt(a.firestore,on),f=xt(c),p=new va(c);return nE(a._query),Uw(f,a._query).then(function(y){return new No(c,p,a,y)})}(this._delegate)).then(function(a){return new sf(i.firestore,new No(i.firestore._delegate,i._userDataWriter,i._delegate,a._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=_a(i),f=hE(i,function(p){return new sf(e.firestore,new No(e.firestore._delegate,e._userDataWriter,e._delegate,p._snapshot))});return uE(this._delegate,c,f)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?rf.nu(this.firestore,e):null))},t}(),AI=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Rh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),sf=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"query",{get:function(){return new Po(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(i){return new Rh(e._firestore,i)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var i=this;return this._delegate.docChanges(e).map(function(a){return new AI(i._firestore,a)})},t.prototype.forEach=function(e,i){var a=this;this._delegate.forEach(function(c){e.call(i,new Rh(a._firestore,c))})},t.prototype.isEqual=function(e){return tE(this._delegate,e._delegate)},t}(),xh=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this).firestore=i,c._delegate=a,c}return(0,S.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._delegate.parent;return i?new Yu(this.firestore,i):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(i){try{return new Yu(this.firestore,void 0===i?wh(this._delegate):wh(this._delegate,i))}catch(a){throw At(a,"doc()","CollectionReference.doc()")}},e.prototype.add=function(i){var c,f,p,y,_,a=this;return(c=this._delegate,f=i,p=Dt(c.firestore,on),y=wh(c),_=Qu(c.converter,f),tf(p,[By(oi(c.firestore),"addDoc",y._key,_,null!==c.converter,{}).toMutation(y._key,Xn.exists(!1))]).then(function(){return y})).then(function(c){return new Yu(a.firestore,c)})},e.prototype.isEqual=function(i){return Gw(this._delegate,i._delegate)},e.prototype.withConverter=function(i){return new e(this.firestore,this._delegate.withConverter(i?rf.nu(this.firestore,i):null))},e}(Po);function gs(t){return Dt(t,Zt)}var RI=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._delegate=new(Ri.bind.apply(Ri,(0,S.ev)([void 0],e)))}return t.documentId=function(){return new t(Kr.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=(0,st.m9)(e))instanceof Ri&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),xI=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new E1("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Dh("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new Qw("arrayUnion",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayUnion",new t(a)},t.arrayRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new CI("arrayRemove",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayRemove",new t(a)},t.increment=function(e){var i=new Hy("increment",e);return i._methodName="FieldValue.increment",new t(i)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),Xy=P(6034),Mh={Firestore:lE,GeoPoint:Ch,Timestamp:wr,Blob:Yy,Transaction:dE,WriteBatch:Jy,DocumentReference:Yu,DocumentSnapshot:of,Query:Po,QueryDocumentSnapshot:Rh,QuerySnapshot:sf,CollectionReference:xh,FieldPath:RI,FieldValue:xI,setLogLevel:function(t){zi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(t){t.INTERNAL.registerComponent(new Xy.wA("firestore",function(a){return e=a.getProvider("app").getImmediate(),i=a.getProvider("auth-internal"),new lE(e,new on(e,i),new cE);var e,i},"PUBLIC").setServiceProps(Object.assign({},Mh))),t.registerVersion("@firebase/firestore","2.4.0")}(Ei.Z),P(6682),P(3101);const Nh=new g.OlP("angularfire2.auth.use-emulator");function iv(t,e){return function(t,e=C0.z){return new pi.y(i=>{let a;return null!=e?e.schedule(()=>{a=t.onSnapshot({includeMetadataChanges:!0},i)}):a=t.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(t,e)}function ov(t,e){return iv(t,e).pipe((0,it.U)(i=>({payload:i,type:"query"})))}function kh(t,e){return ov(t,e).pipe(Of(void 0),Ye(),(0,it.U)(([i,a])=>{const c=a.payload.docChanges(),f=c.map(p=>({type:p.type,payload:p}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((p,y)=>{const _=c.find(C=>C.doc.ref.isEqual(p.ref)),E=null==i?void 0:i.payload.docs.find(C=>C.ref.isEqual(p.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(p.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(p.metadata)||f.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:p}})}),f}))}function sv(t,e,i){return kh(t,i).pipe(La((a,c)=>function(t,e,i){return e.forEach(a=>{i.indexOf(a.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Fh(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=t.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return Fh(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Fh(t,e.oldIndex,1)}return t}(t,a))}),t}(a,c.map(f=>f.payload),e),[]),i=>i.lift(new wi(void 0,void 0)),(0,it.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function Fh(t,e,i,...a){const c=t.slice();return c.splice(e,i,...a),c}function av(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class uv{constructor(e,i,a){this.ref=e,this.query=i,this.afs=a}stateChanges(e){let i=kh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,it.U)(a=>a.filter(c=>e.indexOf(c.type)>-1)))),i.pipe(Of(void 0),Ye(),Bo(([a,c])=>c.length>0||!a),(0,it.U)(([a,c])=>c),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(La((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=av(e);return sv(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return ov(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Bt.D)(this.query.get(e)).pipe((0,Gi.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new wE(this.ref.doc(e),this.afs)}}class wE{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const a=this.ref.collection(e),{ref:c,query:f}=VI(a,i);return new uv(c,f,this.afs)}snapshotChanges(){return function(t,e){return iv(t,e).pipe(Of(void 0),Ye(),(0,it.U)(([i,a])=>a.exists?(null==i?void 0:i.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,Bt.D)(this.ref.get(e)).pipe((0,Gi.QV)(this.afs.schedulers.insideAngular))}}class FI{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?kh(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)),Bo(i=>i.length>0),this.afs.keepUnstableUntilFirst):kh(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(La((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=av(e);return sv(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return ov(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(a=>a.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Bt.D)(this.query.get(e)).pipe((0,Gi.QV)(this.afs.schedulers.insideAngular))}}const cv=new g.OlP("angularfire2.enableFirestorePersistence"),Lh=new g.OlP("angularfire2.firestore.persistenceSettings"),LI=new g.OlP("angularfire2.firestore.settings"),UI=new g.OlP("angularfire2.firestore.use-emulator");function VI(t,e=(i=>i)){return{query:e(t),ref:t}}let lv=(()=>{class t{constructor(i,a,c,f,p,y,_,E,C){this.schedulers=new Rt.HU(y),this.keepUnstableUntilFirst=(0,Rt.ss)(this.schedulers);const T=(0,Rt.on)(i,y,a);!_g.Z.auth&&C&&(0,Rt.yq)();const R=E;[this.firestore,this.persistenceEnabled$]=(0,Rt.sI)(`${T.name}.firestore`,"AngularFirestore",T,()=>{const N=y.runOutsideAngular(()=>T.firestore());if(f&&N.settings(f),R&&N.useEmulator(...R),c&&!function(t){return"server"===t}(p)){const F=()=>{try{return(0,Bt.D)(N.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(B){return"undefined"!=typeof console&&console.warn(B),(0,$e.of)(!1)}};return[N,y.runOutsideAngular(F)]}return[N,(0,$e.of)(!1)]},[f,R,c])}collection(i,a){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:p}=VI(c,a),y=this.schedulers.ngZone.run(()=>f);return new uv(y,p,this)}collectionGroup(i,a){const c=a||(p=>p),f=this.firestore.collectionGroup(i);return new FI(c(f),this)}doc(i){let a;a="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>a);return new wE(c,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(Rt.Dh),g.LFG(Rt.xv,8),g.LFG(cv,8),g.LFG(LI,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Lh,8),g.LFG(UI,8),g.LFG(Nh,8))},t.\u0275prov=g.Yz7({factory:function(){return new t(g.LFG(Rt.Dh),g.LFG(Rt.xv,8),g.LFG(cv,8),g.LFG(LI,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Lh,8),g.LFG(UI,8),g.LFG(Nh,8))},token:t,providedIn:"any"}),t})(),D1=(()=>{class t{static enablePersistence(i){return{ngModule:t,providers:[{provide:cv,useValue:!0},{provide:Lh,useValue:i}]}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[lv]}),t})();class I1{constructor(e,i){this.dueTime=e,this.scheduler=i}call(e,i){return i.subscribe(new S1(e,this.dueTime,this.scheduler))}}class S1 extends or.L{constructor(e,i,a){super(e),this.dueTime=i,this.scheduler=a,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(A1,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function A1(t){t.debouncedNext()}var jI="firebasestorage.googleapis.com",BI="storageBucket",Sn=function(t){function e(i,a){var c=t.call(this,EE(i),"Firebase Storage: "+a+" ("+EE(i)+")")||this;return c.customData={serverResponse:null},c._baseMessage=c.message,Object.setPrototypeOf(c,e.prototype),c}return(0,S.ZT)(e,t),e.prototype._codeEquals=function(i){return EE(i)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(st.ZR);function EE(t){return"storage/"+t}function CE(){return new Sn("unknown","An unknown error occurred, please check the error payload for server response.")}function $I(){return new Sn("canceled","User canceled the upload/download.")}function KI(){return new Sn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function af(t){return new Sn("invalid-argument",t)}function DE(){return new Sn("app-deleted","The Firebase app was deleted.")}function QI(t){return new Sn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uf(t,e){return new Sn("invalid-format","String does not match format '"+t+"': "+e)}function Xu(t){throw new Sn("internal-error","Internal error: "+t)}var Lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},fv=function(e,i){this.data=e,this.contentType=i||null};function TE(t,e){switch(t){case Lr.RAW:return new fv(Uh(e));case Lr.BASE64:case Lr.BASE64URL:return new fv(dv(t,e));case Lr.DATA_URL:return new fv(function(t){var e=new hv(t);return e.base64?dv(Lr.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(i){throw uf(Lr.DATA_URL,"Malformed data URL.")}return Uh(e)}(e.rest)}(e),function(t){return new hv(t).contentType}(e))}throw CE()}function Uh(t){for(var e=[],i=0;i<t.length;i++){var a=t.charCodeAt(i);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|63&a);else if(55296==(64512&a))if(i<t.length-1&&56320==(64512&t.charCodeAt(i+1))){var f=a,p=t.charCodeAt(++i);e.push(240|(a=65536|(1023&f)<<10|1023&p)>>18,128|a>>12&63,128|a>>6&63,128|63&a)}else e.push(239,191,189);else 56320==(64512&a)?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|63&a)}return new Uint8Array(e)}function dv(t,e){switch(t){case Lr.BASE64:var i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw uf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break;case Lr.BASE64URL:var f=-1!==e.indexOf("+"),p=-1!==e.indexOf("/");if(f||p)throw uf(t,"Invalid character '"+(f?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var y;try{y=function(t){return atob(t)}(e)}catch(C){throw uf(t,"Invalid character found")}for(var _=new Uint8Array(y.length),E=0;E<y.length;E++)_[E]=y.charCodeAt(E);return _}var hv=function(e){this.base64=!1,this.contentType=null;var i=e.match(/^data:([^,]+)?,/);if(null===i)throw uf(Lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var a=i[1]||null;null!=a&&(this.base64=function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-";base64".length):a),this.rest=e.substring(e.indexOf(",")+1)},AE={STATE_CHANGED:"state_changed"},Sr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function RE(t){switch(t){case"running":case"pausing":case"canceling":return Sr.RUNNING;case"paused":return Sr.PAUSED;case"success":return Sr.SUCCESS;case"canceled":return Sr.CANCELED;case"error":default:return Sr.ERROR}}var ba=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(ba||(ba={})),ba))(),YI=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ba.NO_ERROR,this.sendPromise_=new Promise(function(i){e.xhr_.addEventListener("abort",function(){e.errorCode_=ba.ABORT,i()}),e.xhr_.addEventListener("error",function(){e.errorCode_=ba.NETWORK_ERROR,i()}),e.xhr_.addEventListener("load",function(){i()})})}return t.prototype.send=function(e,i,a,c){if(this.sent_)throw Xu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),void 0!==c)for(var f in c)c.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,c[f].toString());return void 0!==a?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Xu("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Xu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Xu("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},t}(),jh=function(){function t(){}return t.prototype.createConnection=function(){return new YI},t}(),ai=function(){function t(e,i){this.bucket=e,this.path_=i}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,i){var a;try{a=t.makeFromUrl(e,i)}catch(c){return new t(e,"")}if(""===a.path)return a;throw function(t){return new Sn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)},t.makeFromUrl=function(e,i){var a=null,c="([A-Za-z0-9.\\-_]+)",y=new RegExp("^gs://"+c+"(/(.*))?$","i");function E(Rn){Rn.path_=decodeURIComponent(Rn.path)}for(var T=i.replace(/[.]/g,"\\."),Ee=[{regex:y,indices:{bucket:1,path:3},postModify:function(Rn){"/"===Rn.path.charAt(Rn.path.length-1)&&(Rn.path_=Rn.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+T+"/v[A-Za-z0-9_]+/b/"+c+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp("^https?://"+(i===jI?"(?:storage.googleapis.com|storage.cloud.google.com)":i)+"/"+c+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:E}],ke=0;ke<Ee.length;ke++){var xe=Ee[ke],lt=xe.regex.exec(e);if(lt){var Vr=lt[xe.indices.path];Vr||(Vr=""),a=new t(lt[xe.indices.bucket],Vr),xe.postModify(a);break}}if(null==a)throw function(t){return new Sn("invalid-url","Invalid URL '"+t+"'.")}(e);return a},t}(),U1=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();function Bh(t){return"string"==typeof t||t instanceof String}function XI(t){return Hh()&&t instanceof Blob}function Hh(){return"undefined"!=typeof Blob}function gv(t,e,i,a){if(a<e)throw af("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(a>i)throw af("Invalid value for '"+t+"'. Expected "+i+" or less.")}function wa(t,e){var i=e.match(/^(\w+):\/\/.+/),c=e;return null==(null==i?void 0:i[1])&&(c="https://"+e),c+"/v0"+t}function eS(t){var e=encodeURIComponent,i="?";for(var a in t)t.hasOwnProperty(a)&&(i=i+(e(a)+"=")+e(t[a])+"&");return i.slice(0,-1)}var tS=function(){function t(e,i,a,c,f,p,y,_,E,C,T){var R=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=i,this.headers_=a,this.body_=c,this.successCodes_=f.slice(),this.additionalRetryCodes_=p.slice(),this.callback_=y,this.errorCallback_=_,this.progressCallback_=C,this.timeout_=E,this.pool_=T,this.promise_=new Promise(function(N,F){R.resolve_=N,R.reject_=F,R.start_()})}return t.prototype.start_=function(){var e=this;function a(c,f){var p=e.resolve_,y=e.reject_,_=f.connection;if(f.wasSuccessCode)try{var E=e.callback_(_,_.getResponseText());!function(t){return void 0!==t}(E)?p():p(E)}catch(T){y(T)}else if(null!==_)(C=CE()).serverResponse=_.getResponseText(),y(e.errorCallback_?e.errorCallback_(_,C):C);else if(f.canceled)y(C=e.appDelete_?DE():$I());else{var C;y(C=new Sn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?a(0,new ms(!1,null,!0)):this.backoffId_=function(t,e,i){var a=1,c=null,f=!1,p=0;function y(){return 2===p}var _=!1;function E(){for(var F=[],B=0;B<arguments.length;B++)F[B]=arguments[B];_||(_=!0,e.apply(null,F))}function C(F){c=setTimeout(function(){c=null,t(T,y())},F)}function T(F){for(var B=[],re=1;re<arguments.length;re++)B[re-1]=arguments[re];if(!_){if(F)return void E.call.apply(E,(0,S.ev)([null,F],B));var we;if(y()||f)return void E.call.apply(E,(0,S.ev)([null,F],B));a<64&&(a*=2),1===p?(p=2,we=0):we=1e3*(a+Math.random()),C(we)}}var R=!1;function N(F){R||(R=!0,!_&&(null!==c?(F||(p=2),clearTimeout(c),C(0)):F||(p=1)))}return C(0),setTimeout(function(){f=!0,N(!0)},i),N}(function(c,f){if(f)c(!1,new ms(!1,null,!0));else{var p=e.pool_.createConnection();e.pendingConnection_=p,null!==e.progressCallback_&&p.addUploadProgressListener(y),p.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&p.removeUploadProgressListener(y),e.pendingConnection_=null;var _=p.getErrorCode()===ba.NO_ERROR,E=p.getStatus();if(_&&!e.isRetryStatusCode_(E)){var T=-1!==e.successCodes_.indexOf(E);c(!0,new ms(T,p))}else{var C=p.getErrorCode()===ba.ABORT;c(!1,new ms(!1,null,C))}})}function y(_){null!==e.progressCallback_&&e.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)}},a,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var i=e>=500&&e<600,c=-1!==[408,429].indexOf(e),f=-1!==this.additionalRetryCodes_.indexOf(e);return i||c||f},t}(),ms=function(e,i,a){this.wasSuccessCode=e,this.connection=i,this.canceled=!!a};function Ur(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function sS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Ur();if(void 0!==i){for(var a=new i,c=0;c<t.length;c++)a.append(t[c]);return a.getBlob()}if(Hh())return new Blob(t);throw new Sn("unsupported-environment","This browser doesn't seem to support creating Blobs")}var vv=function(){function t(e,i){var a=0,c="";XI(e)?(this.data_=e,a=e.size,c=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=c}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,i){if(XI(this.data_)){var c=function(t,e,i){return t.webkitSlice?t.webkitSlice(e,i):t.mozSlice?t.mozSlice(e,i):t.slice?t.slice(e,i):null}(this.data_,e,i);return null===c?null:new t(c)}return new t(new Uint8Array(this.data_.buffer,e,i-e),!0)},t.getBlob=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(Hh()){var a=e.map(function(_){return _ instanceof t?_.data_:_});return new t(sS.apply(null,a))}var c=e.map(function(_){return Bh(_)?TE(Lr.RAW,_).data:_.data_}),f=0;c.forEach(function(_){f+=_.byteLength});var p=new Uint8Array(f),y=0;return c.forEach(function(_){for(var E=0;E<_.length;E++)p[y++]=_[E]}),new t(p,!0)},t.prototype.uploadData=function(){return this.data_},t}();function _v(t){var e;try{e=JSON.parse(t)}catch(i){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function wv(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function aS(t,e){return e}var nr=function(e,i,a,c){this.server=e,this.local=i||e,this.writable=!!a,this.xform=c||aS},cf=null;function qh(){if(cf)return cf;var t=[];t.push(new nr("bucket")),t.push(new nr("generation")),t.push(new nr("metageneration")),t.push(new nr("name","fullPath",!0));var i=new nr("name");i.xform=function(f,p){return function(t){return!Bh(t)||t.length<2?t:wv(t)}(p)},t.push(i);var c=new nr("size");return c.xform=function(f,p){return void 0!==p?Number(p):p},t.push(c),t.push(new nr("timeCreated")),t.push(new nr("updated")),t.push(new nr("md5Hash",null,!0)),t.push(new nr("cacheControl",null,!0)),t.push(new nr("contentDisposition",null,!0)),t.push(new nr("contentEncoding",null,!0)),t.push(new nr("contentLanguage",null,!0)),t.push(new nr("contentType",null,!0)),t.push(new nr("metadata","customMetadata",!0)),cf=t}function Cv(t,e,i){var a=_v(e);return null===a?null:function(t,e,i){for(var a={type:"file"},c=i.length,f=0;f<c;f++){var p=i[f];a[p.local]=p.xform(a,e[p.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var f=new ai(t.bucket,t.fullPath);return e._makeStorageReference(f)}})}(a,t),a}(t,a,i)}function Tv(t,e){for(var i={},a=e.length,c=0;c<a;c++){var f=e[c];f.writable&&(i[f.server]=t[f.local])}return JSON.stringify(i)}var ui="prefixes";var ys=function(e,i,a,c){this.url=e,this.method=i,this.handler=a,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function to(t){if(!t)throw CE()}function Gh(t,e){return function(a,c){var f=Cv(t,c,e);return to(null!==f),f}}function tc(t){return function(i,a){var c;return(c=401===i.getStatus()?i.getResponseText().includes("Firebase App Check token is invalid")?new Sn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Sn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===i.getStatus()?function(t){return new Sn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===i.getStatus()?function(t){return new Sn("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):a).serverResponse=a.serverResponse,c}}function lf(t){var e=tc(t);return function(a,c){var f=e(a,c);return 404===a.getStatus()&&(f=function(t){return new Sn("object-not-found","Object '"+t+"' does not exist.")}(t.path)),f.serverResponse=c.serverResponse,f}}function PE(t,e,i){var c=wa(e.fullServerUrl(),t.host),p=t.maxOperationRetryTime,y=new ys(c,"GET",Gh(t,i),p);return y.errorHandler=lf(e),y}function fS(t,e,i,a,c){var f={};f.prefix=e.isRoot?"":e.path+"/",i&&i.length>0&&(f.delimiter=i),a&&(f.pageToken=a),c&&(f.maxResults=c);var y=wa(e.bucketOnlyServerUrl(),t.host),E=t.maxOperationRetryTime,C=new ys(y,"GET",function(t,e){return function(a,c){var f=function(t,e,i){var a=_v(i);return null===a?null:function(t,e,i){var a={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[ui])for(var c=0,f=i[ui];c<f.length;c++){var y=f[c].replace(/\/$/,""),_=t._makeStorageReference(new ai(e,y));a.prefixes.push(_)}if(i.items)for(var E=0,C=i.items;E<C.length;E++)_=t._makeStorageReference(new ai(e,C[E].name)),a.items.push(_);return a}(t,e,a)}(t,e,c);return to(null!==f),f}}(t,e.bucket),E);return C.urlParams=f,C.errorHandler=tc(e),C}function Iv(t,e,i){var a=Object.assign({},i);return a.fullPath=t.path,a.size=e.size(),a.contentType||(a.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),a}var $h=function(e,i,a,c){this.current=e,this.total=i,this.finalized=!!a,this.metadata=c||null};function Zh(t,e){var i=null;try{i=t.getResponseHeader("X-Goog-Upload-Status")}catch(c){to(!1)}return to(!!i&&-1!==(e||["active"]).indexOf(i)),i}var gS=function(e,i,a){if(function(t){return"function"==typeof t}(e)||null!=i||null!=a)this.next=e,this.error=i,this.complete=a;else{var f=e;this.next=f.next,this.error=f.error,this.complete=f.complete}};function df(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var mS=function(){function t(e,i,a){var c=this;void 0===a&&(a=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=i,this._metadata=a,this._mappings=qh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(f){c._request=void 0,c._chunkMultiplier=1,f._codeEquals("canceled")?(c._needToFetchStatus=!0,c.completeTransitions_()):(c._error=f,c._transition("error"))},this._metadataErrorHandler=function(f){c._request=void 0,f._codeEquals("canceled")?c.completeTransitions_():(c._error=f,c._transition("error"))},this._promise=new Promise(function(f,p){c._resolve=f,c._reject=p,c._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,i=this._transferred;return function(a){return e._updateProgress(i+a)}},t.prototype._shouldDoResumable=function(e){return e.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var i=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(a){var c=a[0],f=a[1];switch(i._state){case"running":e(c,f);break;case"canceling":i._transition("canceled");break;case"pausing":i._transition("paused")}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(i,a){var c=function(t,e,i,a,c){var f=e.bucketOnlyServerUrl(),p=Iv(e,a,c),y={name:p.fullPath},_=wa(f,t.host),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+a.size(),"X-Goog-Upload-Header-Content-Type":p.contentType,"Content-Type":"application/json; charset=utf-8"},T=Tv(p,i),F=new ys(_,"POST",function(B){var re;Zh(B);try{re=B.getResponseHeader("X-Goog-Upload-URL")}catch(de){to(!1)}return to(Bh(re)),re},t.maxUploadRetryTime);return F.urlParams=y,F.headers=C,F.body=T,F.errorHandler=tc(e),F}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),f=e._ref.storage._makeRequest(c,i,a);e._request=f,f.getPromise().then(function(p){e._request=void 0,e._uploadUrl=p,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,i=this._uploadUrl;this._resolveToken(function(a,c){var f=function(t,e,i,a){var _=new ys(i,"POST",function(E){var C=Zh(E,["active","final"]),T=null;try{T=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch(N){to(!1)}T||to(!1);var R=Number(T);return to(!isNaN(R)),new $h(R,a.size(),"final"===C)},t.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=tc(e),_}(e._ref.storage,e._ref._location,i,e._blob),p=e._ref.storage._makeRequest(f,a,c);e._request=p,p.getPromise().then(function(y){y=y,e._request=void 0,e._updateProgress(y.current),e._needToFetchStatus=!1,y.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,i=262144*this._chunkMultiplier,a=new $h(this._transferred,this._blob.size()),c=this._uploadUrl;this._resolveToken(function(f,p){var y;try{y=function(t,e,i,a,c,f,p,y){var _=new $h(0,0);if(p?(_.current=p.current,_.total=p.total):(_.current=0,_.total=a.size()),a.size()!==_.total)throw new Sn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var E=_.total-_.current,C=E;c>0&&(C=Math.min(C,c));var T=_.current,F={"X-Goog-Upload-Command":C===E?"upload, finalize":"upload","X-Goog-Upload-Offset":""+_.current},B=a.slice(T,T+C);if(null===B)throw KI();var Ee=new ys(i,"POST",function(ke,xe){var Rn,lt=Zh(ke,["active","final"]),Mt=_.current+C,Vr=a.size();return Rn="final"===lt?Gh(e,f)(ke,xe):null,new $h(Mt,Vr,"final"===lt,Rn)},e.maxUploadRetryTime);return Ee.headers=F,Ee.body=B.uploadData(),Ee.progressCallback=y||null,Ee.errorHandler=tc(t),Ee}(e._ref._location,e._ref.storage,c,e._blob,i,e._mappings,a,e._makeProgressCallback())}catch(E){return e._error=E,void e._transition("error")}var _=e._ref.storage._makeRequest(y,f,p);e._request=_,_.getPromise().then(function(E){e._increaseMultiplier(),e._request=void 0,e._updateProgress(E.current),E.finalized?(e._metadata=E.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(i,a){var c=PE(e._ref.storage,e._ref._location,e._mappings),f=e._ref.storage._makeRequest(c,i,a);e._request=f,f.getPromise().then(function(p){e._request=void 0,e._metadata=p,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(i,a){var c=function(t,e,i,a,c){var f=e.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"},_=function(){for(var Ee="",ke=0;ke<2;ke++)Ee+=Math.random().toString().slice(2);return Ee}();p["Content-Type"]="multipart/related; boundary="+_;var E=Iv(e,a,c),C=Tv(E,i),N=vv.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+_+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",a,"\r\n--"+_+"--");if(null===N)throw KI();var F={name:E.fullPath},B=wa(f,t.host),de=t.maxUploadRetryTime,we=new ys(B,"POST",Gh(t,i),de);return we.urlParams=F,we.headers=p,we.body=N.uploadData(),we.errorHandler=tc(e),we}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),f=e._ref.storage._makeRequest(c,i,a);e._request=f,f.getPromise().then(function(p){e._request=void 0,e._metadata=p,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var i=this._transferred;this._transferred=e,this._transferred!==i&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var i="paused"===this._state;this._state=e,i&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=$I(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=RE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,i,a,c){var f=this,p=new gS(i,a,c);return this._addObserver(p),function(){f._removeObserver(p)}},t.prototype.then=function(e,i){return this._promise.then(e,i)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var i=this._observers.indexOf(e);-1!==i&&this._observers.splice(i,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(a){e._notifyObserver(a)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(RE(this._state)){case Sr.SUCCESS:df(this._resolve.bind(null,this.snapshot))();break;case Sr.CANCELED:case Sr.ERROR:df(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){switch(RE(this._state)){case Sr.RUNNING:case Sr.PAUSED:e.next&&df(e.next.bind(e,this.snapshot))();break;case Sr.SUCCESS:e.complete&&df(e.complete.bind(e))();break;case Sr.CANCELED:case Sr.ERROR:e.error&&df(e.error.bind(e,this._error))();break;default:e.error&&df(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},t.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},t}(),Rv=function(){function t(e,i){this._service=e,this._location=i instanceof ai?i:ai.makeFromUrl(i,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,i){return new t(e,i)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new ai(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return wv(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var i=new ai(this._location.bucket,e);return new t(this._service,i)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(""===this._location.path)throw QI(e)},t}();function LE(t){var e={prefixes:[],items:[]};return UE(t,e).then(function(){return e})}function UE(t,e,i){return(0,S.mG)(this,void 0,void 0,function(){var c,f,p;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return[4,VE(t,{pageToken:i})];case 1:return c=y.sent(),(f=e.prefixes).push.apply(f,c.prefixes),(p=e.items).push.apply(p,c.items),null==c.nextPageToken?[3,3]:[4,UE(t,e,c.nextPageToken)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}function VE(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i,a;return(0,S.Jh)(this,function(c){switch(c.label){case 0:return null!=e&&"number"==typeof e.maxResults&&gv("options.maxResults",1,1e3,e.maxResults),a=fS(t.storage,t._location,"/",(i=e||{}).pageToken,i.maxResults),[4,t.storage.makeRequestWithTokens(a)];case 1:return[2,c.sent().getPromise()]}})})}function jE(t){return(0,S.mG)(this,void 0,void 0,function(){var e;return(0,S.Jh)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,i){var c=wa(e.fullServerUrl(),t.host),p=t.maxOperationRetryTime,y=new ys(c,"GET",function(t,e){return function(a,c){var f=Cv(t,c,e);return to(null!==f),function(t,e,i){var a=_v(e);if(null===a||!Bh(a.downloadTokens))return null;var c=a.downloadTokens;if(0===c.length)return null;var f=encodeURIComponent;return c.split(",").map(function(_){var C=t.fullPath;return wa("/b/"+f(t.bucket)+"/o/"+f(C),i)+eS({alt:"media",token:_})})[0]}(f,c,t.host)}}(t,i),p);return y.errorHandler=lf(e),y}(t.storage,t._location,qh()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,i.sent().getPromise().then(function(a){if(null===a)throw new Sn("no-download-url","The given file does not have any download URLs.");return a})]}})})}function _S(t,e){var i=function(t,e){var i=e.split("/").filter(function(a){return a.length>0}).join("/");return 0===t.length?i:t+"/"+i}(t._location.path,e),a=new ai(t._location.bucket,i);return new Rv(t.storage,a)}function xv(t){return/^[A-Za-z]+:\/\//.test(t)}function An(t,e){if(t instanceof zh){var i=t;if(null==i._bucket)throw new Sn("no-default-bucket","No default bucket found. Did you set the '"+BI+"' property when initializing the app?");var a=new Rv(i,i._bucket);return null!=e?An(a,e):a}return void 0!==e?_S(t,e):t}function Z1(t,e){if(e&&xv(e)){if(t instanceof zh)return function(t,e){return new Rv(t,e)}(t,e);throw af("To use ref(service, url), the first argument must be a Storage instance.")}return An(t,e)}function Nv(t,e){var i=null==e?void 0:e[BI];return null==i?null:ai.makeFromBucketSpec(i,t)}var zh=function(){function t(e,i,a,c,f,p){this.app=e,this._authProvider=i,this._appCheckProvider=a,this._pool=c,this._url=f,this._firebaseVersion=p,this._bucket=null,this._host=jI,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=f?ai.makeFromBucketSpec(f,this._host):Nv(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?ai.makeFromBucketSpec(this._url,e):Nv(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){gv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){gv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,S.mG)(this,void 0,void 0,function(){var e,i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(i=a.sent()))return[2,i.accessToken];a.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,S.mG)(this,void 0,void 0,function(){var e;return(0,S.Jh)(this,function(a){switch(a.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,a.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new Rv(this,e)},t.prototype._makeRequest=function(e,i,a){var c=this;if(this._deleted)return new U1(DE());var f=function(t,e,i,a,c,f){var p=eS(t.urlParams),y=t.url+p,_=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(_,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(_,i),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,f),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(_,a),new tS(y,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,c)}(e,this._appId,i,a,this._pool,this._firebaseVersion);return this._requests.add(f),f.getPromise().then(function(){return c._requests.delete(f)},function(){return c._requests.delete(f)}),f},t.prototype.makeRequestWithTokens=function(e){return(0,S.mG)(this,void 0,void 0,function(){var i;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return i=f.sent(),[2,this._makeRequest(e,i[0],i[1])]}})})},t}();function Kh(t,e){return Z1(t=(0,st.m9)(t),e)}var Yh=function(){function t(e,i,a){this._delegate=e,this.task=i,this.ref=a}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Jh=function(){function t(e,i){this._delegate=e,this._ref=i,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Yh(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,i){var a=this;return this._delegate.then(function(c){if(e)return e(new Yh(c,a,a._ref))},i)},t.prototype.on=function(e,i,a,c){var f=this,p=void 0;return i&&(p="function"==typeof i?function(y){return i(new Yh(y,f,f._ref))}:{next:i.next?function(y){return i.next(new Yh(y,f,f._ref))}:void 0,complete:i.complete||void 0,error:i.error||void 0}),this._delegate.on(e,p,a||void 0,c||void 0)},t}(),Ov=function(){function t(e,i){this._delegate=e,this._service=i}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(i){return new sn(i,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(i){return new sn(i,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),sn=function(){function t(e,i){this._delegate=e,this.storage=i}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return _S(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,i){return this._throwIfRoot("put"),new Jh(function(t,e,i){return function(t,e,i){return t._throwIfRoot("uploadBytesResumable"),new mS(t,new vv(e),i)}(t=(0,st.m9)(t),e,i)}(this._delegate,e,i),this)},t.prototype.putString=function(e,i,a){void 0===i&&(i=Lr.RAW),this._throwIfRoot("putString");var c=TE(i,e),f=(0,S.pi)({},a);return null==f.contentType&&null!=c.contentType&&(f.contentType=c.contentType),new Jh(new mS(this._delegate,new vv(c.data,!0),f),this)},t.prototype.listAll=function(){var e=this;return function(t){return LE(t=(0,st.m9)(t))}(this._delegate).then(function(i){return new Ov(i,e.storage)})},t.prototype.list=function(e){var i=this;return function(t,e){return VE(t=(0,st.m9)(t),e)}(this._delegate,e||void 0).then(function(a){return new Ov(a,i.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,S.mG)(this,void 0,void 0,function(){var e;return(0,S.Jh)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("getMetadata"),e=PE(t.storage,t._location,qh()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,i.sent().getPromise()]}})})}(t=(0,st.m9)(t))}(this._delegate)},t.prototype.updateMetadata=function(e){return function(t,e){return function(t,e){return(0,S.mG)(this,void 0,void 0,function(){var i;return(0,S.Jh)(this,function(a){switch(a.label){case 0:return t._throwIfRoot("updateMetadata"),i=function(t,e,i,a){var f=wa(e.fullServerUrl(),t.host),y=Tv(i,a),E=t.maxOperationRetryTime,C=new ys(f,"PATCH",Gh(t,a),E);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=y,C.errorHandler=lf(e),C}(t.storage,t._location,e,qh()),[4,t.storage.makeRequestWithTokens(i)];case 1:return[2,a.sent().getPromise()]}})})}(t=(0,st.m9)(t),e)}(this._delegate,e)},t.prototype.getDownloadURL=function(){return function(t){return jE(t=(0,st.m9)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,S.mG)(this,void 0,void 0,function(){var e;return(0,S.Jh)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var a=wa(e.fullServerUrl(),t.host),y=new ys(a,"DELETE",function(_,E){},t.maxOperationRetryTime);return y.successCodes=[200,204],y.errorHandler=lf(e),y}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,i.sent().getPromise()]}})})}(t=(0,st.m9)(t))}(this._delegate)},t.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw QI(e)},t}(),z1=function(){function t(e,i){this.app=e,this._delegate=i}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(xv(e))throw af("ref() expected a child path but got a URL, use refFromURL instead.");return new sn(Kh(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!xv(e))throw af("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ai.makeFromUrl(e,this._delegate.host)}catch(i){throw af("refFromUrl() expected a valid full URL but got an invalid one.")}return new sn(Kh(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,i,a){void 0===a&&(a={}),function(t,e,i,a){void 0===a&&(a={}),function(t,e,i,a){void 0===a&&(a={}),t.host="http://"+e+":"+i;var c=a.mockUserToken;c&&(t._overrideAuthToken="string"==typeof c?c:(0,st.Sg)(c,t.app.options.projectId))}(t,e,i,a)}(this._delegate,e,i,a)},t}();function Xh(t,e){var i=e.instanceIdentifier,a=t.getProvider("app").getImmediate(),c=t.getProvider("auth-internal"),f=t.getProvider("app-check-internal");return new z1(a,new zh(a,c,f,new jh,i,Ei.Z.SDK_VERSION))}function IS(t){const e=function(t){return new pi.y(e=>{const i=p=>e.next(p);i(t.snapshot);const f=t.on("state_changed",i);return t.then(p=>{i(p),e.complete()},p=>{i(t.snapshot),(p=>{e.error(p)})(p)}),function(){f()}}).pipe(function(t,e=C0.P){return i=>i.lift(new I1(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,it.U)(i=>i.bytesTransferred/i.totalBytes*100))}}function kv(t,e,i){return{getDownloadURL:()=>(0,$e.of)(void 0).pipe((0,Gi.QV)(e.outsideAngular),mn(()=>t.getDownloadURL()),i),getMetadata:()=>(0,$e.of)(void 0).pipe((0,Gi.QV)(e.outsideAngular),mn(()=>t.getMetadata()),i),delete:()=>(0,Bt.D)(t.delete()),child:a=>kv(t.child(a),e,i),updateMetadata:a=>(0,Bt.D)(t.updateMetadata(a)),put:(a,c)=>IS(t.put(a,c)),putString:(a,c,f)=>IS(t.putString(a,c,f)),listAll:()=>(0,Bt.D)(t.listAll())}}!function(t){var e={TaskState:Sr,TaskEvent:AE,StringFormat:Lr,Storage:zh,Reference:sn};t.INTERNAL.registerComponent(new Xy.wA("storage",Xh,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.0")}(Ei.Z);const GE=new g.OlP("angularfire2.storageBucket"),$E=new g.OlP("angularfire2.storage.maxUploadRetryTime"),ZE=new g.OlP("angularfire2.storage.maxOperationRetryTime");let ep=(()=>{class t{constructor(i,a,c,f,p,y,_){this.schedulers=new Rt.HU(p),this.keepUnstableUntilFirst=(0,Rt.ss)(this.schedulers);const E=(0,Rt.on)(i,p,a);this.storage=(0,Rt.sI)(`${E.name}.storage.${c}`,"AngularFireStorage",E,()=>{const C=p.runOutsideAngular(()=>E.storage(c||void 0));return y&&C.setMaxUploadRetryTime(y),_&&C.setMaxOperationRetryTime(_),C},[y,_])}ref(i){return kv(this.storage.ref(i),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(i){return kv(this.storage.refFromURL(i),this.schedulers,this.keepUnstableUntilFirst)}upload(i,a,c){return kv(this.storage.ref(i),this.schedulers,this.keepUnstableUntilFirst).put(a,c)}}return t.\u0275fac=function(i){return new(i||t)(g.LFG(Rt.Dh),g.LFG(Rt.xv,8),g.LFG(GE,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG($E,8),g.LFG(ZE,8))},t.\u0275prov=g.Yz7({factory:function(){return new t(g.LFG(Rt.Dh),g.LFG(Rt.xv,8),g.LFG(GE,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG($E,8),g.LFG(ZE,8))},token:t,providedIn:"any"}),t})(),Y1=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({}),t})(),SS=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[ep],imports:[Y1]}),t})();function AS(t,e){if(1&t){const i=g.EpF();g.TgZ(0,"div",10),g.TgZ(1,"button",11),g.NdJ("click",function(){return g.CHM(i),g.oxw().toggleDeleteModal()}),g._uU(2,"Delete"),g.qZA(),g.qZA()}}function RS(t,e){if(1&t){const i=g.EpF();g.TgZ(0,"div",12),g.TgZ(1,"div",13),g.NdJ("click",function(){return g.CHM(i),g.oxw().toggleImageModal()}),g.qZA(),g.TgZ(2,"div",14),g.TgZ(3,"p",15),g._UZ(4,"img",16),g.qZA(),g.qZA(),g.TgZ(5,"button",17),g.NdJ("click",function(){return g.CHM(i),g.oxw().toggleImageModal()}),g.qZA(),g.qZA()}if(2&t){const i=g.oxw();g.xp6(4),g.s9C("src",i.imageData.downloadURL,g.LSH)}}function J1(t,e){if(1&t){const i=g.EpF();g.TgZ(0,"div",12),g.TgZ(1,"div",13),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).toggleDeleteModal()}),g.qZA(),g.TgZ(2,"div",14),g.TgZ(3,"div",19),g.TgZ(4,"p"),g._uU(5,"Are you sure you want to delete this image?"),g.qZA(),g.TgZ(6,"button",11),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).deleteImage()}),g._uU(7,"Delete"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"button",17),g.NdJ("click",function(){return g.CHM(i),g.oxw(2).toggleDeleteModal()}),g.qZA(),g.qZA()}}function X1(t,e){if(1&t&&g.YNc(0,J1,9,0,"div",18),2&t){const i=g.oxw();g.Q6J("ngIf",i.showDeleteModal)}}let xS=(()=>{class t{constructor(i,a,c){this.auth=i,this.db=a,this.storage=c,this.imageData={downloadURL:"",location:"",uploadDate:"",customID:""},this.showImageModal=!1,this.showDeleteButton=!1,this.showDeleteModal=!1,this.auth.authStateChange.subscribe(f=>{this.showDeleteButton=f})}ngOnInit(){}toggleImageModal(){this.showImageModal=!this.showImageModal}toggleDeleteModal(){this.showDeleteModal=!this.showDeleteModal}deleteImage(){this.db.doc("photos/"+this.imageData.customID).delete(),this.storage.refFromURL(this.imageData.downloadURL).delete()}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(cd),g.Y36(lv),g.Y36(ep))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-photo-gallery-card"]],inputs:{imageData:"imageData"},decls:19,vars:8,consts:[[1,"card"],[1,"card-image"],[1,"image","is-4by3"],[3,"click"],["alt","Placeholder image",3,"src"],[1,"card-content"],[1,"columns","is-vcentered"],[1,"column","is-two-thirds"],["class","column",4,"ngIf"],[3,"ngIf"],[1,"column"],[1,"button","is-danger","is-fullwidth",3,"click"],[1,"modal","is-active"],[1,"modal-background",3,"click"],[1,"modal-content"],[1,"image"],[3,"src"],["aria-label","close",1,"modal-close","is-large",3,"click"],["class","modal is-active",4,"ngIf"],[1,"box"]],template:function(i,a){1&i&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"figure",2),g.TgZ(3,"a",3),g.NdJ("click",function(){return a.toggleImageModal()}),g._UZ(4,"img",4),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"div",5),g.TgZ(6,"div",6),g.TgZ(7,"div",7),g.TgZ(8,"strong"),g._uU(9,"Location: "),g.qZA(),g._uU(10),g._UZ(11,"br"),g.TgZ(12,"strong"),g._uU(13,"Date: "),g.qZA(),g._uU(14),g.ALo(15,"date"),g.qZA(),g.YNc(16,AS,3,0,"div",8),g.qZA(),g.qZA(),g.qZA(),g.YNc(17,RS,6,1,"ng-template",9),g.YNc(18,X1,1,1,"ng-template",9)),2&i&&(g.xp6(4),g.s9C("src",a.imageData.downloadURL,g.LSH),g.xp6(6),g.hij("",a.imageData.location," "),g.xp6(4),g.hij("",g.lcZ(15,6,a.imageData.uploadDate)," "),g.xp6(2),g.Q6J("ngIf",a.showDeleteButton),g.xp6(1),g.Q6J("ngIf",a.showImageModal),g.xp6(1),g.Q6J("ngIf",a.showDeleteModal))},directives:[Gr],pipes:[uC],styles:[".card-content[_ngcontent-%COMP%]{background-color:#a9a9a9}.modal-content[_ngcontent-%COMP%]{width:85vw}"]}),t})(),MS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-spinner"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(i,a){1&i&&(g.TgZ(0,"div",0),g._UZ(1,"div"),g._UZ(2,"div"),g._UZ(3,"div"),g._UZ(4,"div"),g.qZA())},styles:[".lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #a9a9a9;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#a9a9a9 transparent transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),t})(),NS=(()=>{class t{constructor(){this.dropped=new g.vpe,this.hovered=new g.vpe}onDrop(i){i.preventDefault(),this.dropped.emit(i.dataTransfer.files),this.hovered.emit(!1)}onDragOver(i){i.preventDefault(),this.hovered.emit(!0)}onDragLeave(i){i.preventDefault(),this.hovered.emit(!1)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=g.lG2({type:t,selectors:[["","appDropzone",""]],hostBindings:function(i,a){1&i&&g.NdJ("drop",function(f){return a.onDrop(f)})("dragover",function(f){return a.onDragOver(f)})("dragleave",function(f){return a.onDragLeave(f)})},outputs:{dropped:"dropped",hovered:"hovered"}}),t})();function zE(t,e,i,a,c,f,p){try{var y=t[f](p),_=y.value}catch(E){return void i(E)}y.done?e(_):Promise.resolve(_).then(a,c)}function PS(t){return function(){var e=this,i=arguments;return new Promise(function(a,c){var f=t.apply(e,i);function p(_){zE(f,a,c,p,y,"next",_)}function y(_){zE(f,a,c,p,y,"throw",_)}p(void 0)})}}function Mi(t,e){if(1&t&&(g.TgZ(0,"div"),g._UZ(1,"progress",1),g._uU(2),g.ALo(3,"number"),g.qZA()),2&t){const i=e.ngIf;g.xp6(1),g.Q6J("value",i),g.xp6(1),g.hij(" ",g.lcZ(3,2,i),"%\n")}}function OS(t,e){if(1&t&&(g.TgZ(0,"div"),g.TgZ(1,"h3"),g._uU(2,"Results!"),g.qZA(),g._UZ(3,"img",3),g._UZ(4,"br"),g.TgZ(5,"a",4),g._uU(6,"Download Me!"),g.qZA(),g.qZA()),2&t){const i=e.ngIf;g.xp6(3),g.Q6J("src",i,g.LSH),g.xp6(2),g.Q6J("href",i,g.LSH)}}function kS(t,e){if(1&t){const i=g.EpF();g.TgZ(0,"div"),g._uU(1),g.YNc(2,OS,7,2,"div",0),g.TgZ(3,"button",2),g.NdJ("click",function(){return g.CHM(i),g.oxw().task.pause()}),g._uU(4,"Pause"),g.qZA(),g.TgZ(5,"button",2),g.NdJ("click",function(){return g.CHM(i),g.oxw().task.cancel()}),g._uU(6,"Cancel"),g.qZA(),g.TgZ(7,"button",2),g.NdJ("click",function(){return g.CHM(i),g.oxw().task.resume()}),g._uU(8,"Resume"),g.qZA(),g.qZA()}if(2&t){const i=e.ngIf,a=g.oxw();g.xp6(1),g.AsE(" ",i.bytesTransferred," of ",i.totalBytes," "),g.xp6(1),g.Q6J("ngIf",a.downloadURL),g.xp6(1),g.Q6J("disabled",!a.isActive(i)),g.xp6(2),g.Q6J("disabled",!a.isActive(i)),g.xp6(2),g.Q6J("disabled","paused"!==(null==i?null:i.state))}}let FS=(()=>{class t{constructor(i,a){this.storage=i,this.db=a}ngOnInit(){this.startUpload()}startUpload(){var i=this;const a=`photo-gallery/${Date.now()}_${this.file.name}`,c=this.storage.ref(a);this.task=this.storage.upload(a,this.file),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe((0,mr.b)(console.log),Lp(PS(function*(){i.downloadURL=yield c.getDownloadURL().toPromise(),i.db.collection("photos").add({downloadURL:i.downloadURL,location:i.location,uploadDate:Date.now()})})))}isActive(i){return"running"===i.state&&i.bytesTransferred<i.totalBytes}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(ep),g.Y36(lv))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-upload-task"]],inputs:{file:"file",location:"location"},decls:4,vars:6,consts:[[4,"ngIf"],["max","100",3,"value"],[3,"disabled","click"],[3,"src"],["target","_blank","rel","noopener",3,"href"]],template:function(i,a){1&i&&(g.YNc(0,Mi,4,4,"div",0),g.ALo(1,"async"),g.YNc(2,kS,9,6,"div",0),g.ALo(3,"async")),2&i&&(g.Q6J("ngIf",g.lcZ(1,2,a.percentage)),g.xp6(2),g.Q6J("ngIf",g.lcZ(3,4,a.snapshot)))},directives:[Gr],pipes:[Df,lC],styles:[""]}),t})();function LS(t,e){1&t&&(g.TgZ(0,"p",8),g._uU(1,"You must provide a location before uploading images!"),g.qZA())}function eR(t,e){if(1&t&&(g.TgZ(0,"div"),g._UZ(1,"app-upload-task",9),g.qZA()),2&t){const i=e.$implicit;g.oxw();const a=g.MAs(5);g.xp6(1),g.Q6J("file",i)("location",a.value)}}let US=(()=>{class t{constructor(){this.isHovering=!1,this.showWarningText=!1,this.files=[]}toggleHover(i){this.isHovering=i}onDrop(i,a){if(""==a)this.showWarningText=!0;else{for(let c=0;c<i.length;c++)this.files.push(i.item(c));this.showWarningText=!1}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-uploader"]],decls:11,vars:4,consts:[[1,"box"],["appDropzone","",1,"dropzone",3,"hovered","dropped"],["type","text","placeholder","Location",1,"input"],["location",""],[1,"title"],["class","warning",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[1,"warning"],[3,"file","location"]],template:function(i,a){if(1&i){const c=g.EpF();g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.NdJ("hovered",function(p){return a.toggleHover(p)})("dropped",function(p){g.CHM(c);const y=g.MAs(5);return a.onDrop(p,y.value)}),g.TgZ(2,"p"),g._uU(3,"Drag and Drop a File or Files"),g.qZA(),g.qZA(),g._UZ(4,"input",2,3),g.TgZ(6,"h1",4),g._uU(7,"Uploads"),g.qZA(),g.YNc(8,LS,2,0,"p",5),g.TgZ(9,"div",6),g.YNc(10,eR,2,2,"div",7),g.qZA(),g.qZA()}2&i&&(g.xp6(1),g.ekj("hovering",a.isHovering),g.xp6(7),g.Q6J("ngIf",a.showWarningText),g.xp6(2),g.Q6J("ngForOf",a.files))},directives:[NS,Gr,ko,FS],styles:[".warning[_ngcontent-%COMP%]{color:red}"]}),t})();function VS(t,e){if(1&t&&(g.TgZ(0,"div",7),g._UZ(1,"app-photo-gallery-card",8),g.qZA()),2&t){const i=e.$implicit;g.xp6(1),g.Q6J("imageData",i)}}function jS(t,e){if(1&t&&(g.TgZ(0,"div",5),g.YNc(1,VS,2,1,"div",6),g.qZA()),2&t){const i=e.ngIf;g.xp6(1),g.Q6J("ngForOf",i)}}function hf(t,e){1&t&&(g.TgZ(0,"div",9),g._UZ(1,"app-spinner"),g.TgZ(2,"h1",10),g._uU(3,"Loading..."),g.qZA(),g.qZA())}function WE(t,e){if(1&t){const i=g.EpF();g.TgZ(0,"button",11),g.NdJ("click",function(){return g.CHM(i),g.oxw().toggleUploader()}),g.TgZ(1,"span",12),g._UZ(2,"i",13),g.qZA(),g.qZA()}}function tR(t,e){if(1&t){const i=g.EpF();g.TgZ(0,"div",14),g.TgZ(1,"div",15),g.NdJ("click",function(){return g.CHM(i),g.oxw().toggleUploader()}),g.qZA(),g.TgZ(2,"div",16),g._UZ(3,"app-uploader"),g.qZA(),g.TgZ(4,"button",17),g.NdJ("click",function(){return g.CHM(i),g.oxw().toggleUploader()}),g.qZA(),g.qZA()}}let BS=(()=>{class t{constructor(i,a){this.auth=i,this.db=a,this.showFAB=!1,this.showUploader=!1,this.auth.authStateChange.subscribe(c=>{this.showFAB=c}),this.imageDataCollection=this.db.collection("photos"),this.imageData$=this.imageDataCollection.valueChanges({idField:"customID"})}ngOnInit(){}toggleUploader(){this.showUploader=!this.showUploader}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(cd),g.Y36(lv))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-photo-gallery"]],decls:7,vars:6,consts:[[1,"container"],["class","columns is-multiline is-centered",4,"ngIf","ngIfElse"],["loading",""],["class","button is-fab is-rounded is-large",3,"click",4,"ngIf"],[3,"ngIf"],[1,"columns","is-multiline","is-centered"],["class","column is-one-third",4,"ngFor","ngForOf"],[1,"column","is-one-third"],[3,"imageData"],[1,"container","has-text-centered"],[1,"title"],[1,"button","is-fab","is-rounded","is-large",3,"click"],[1,"icon","is-small"],[1,"fas","fa-plus"],[1,"modal","is-active"],[1,"modal-background",3,"click"],[1,"modal-content"],["aria-label","close",1,"modal-close","is-large",3,"click"]],template:function(i,a){if(1&i&&(g.TgZ(0,"div",0),g.YNc(1,jS,2,1,"div",1),g.ALo(2,"async"),g.YNc(3,hf,4,0,"ng-template",null,2,g.W1O),g.YNc(5,WE,3,0,"button",3),g.qZA(),g.YNc(6,tR,5,0,"ng-template",4)),2&i){const c=g.MAs(4);g.xp6(1),g.Q6J("ngIf",g.lcZ(2,4,a.imageData$))("ngIfElse",c),g.xp6(4),g.Q6J("ngIf",a.showFAB),g.xp6(1),g.Q6J("ngIf",a.showUploader)}},directives:[Gr,ko,xS,MS,US],pipes:[Df],styles:[".container[_ngcontent-%COMP%]{padding-bottom:25px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#a9a9a9}.is-fab[_ngcontent-%COMP%]{position:fixed;bottom:15vh;right:5vw;border-color:#000;width:2.5rem;height:2.5rem;z-index:10}.modal-content[_ngcontent-%COMP%]{width:50vw}"]}),t})();const tp=function(t){return{"is-active":t}};let nR=(()=>{class t{constructor(){this.activeClassEvent=new g.vpe,this.activeClass=0}ngOnInit(){}changeActiveClass(i){switch((i.target||i.srcElement||i.currentTarget).attributes.id.nodeValue){case"education":this.activeClass=0;break;case"experience":this.activeClass=1;break;case"projects":this.activeClass=2;break;case"leadership":this.activeClass=3;break;case"skills":this.activeClass=4}this.activeClassEvent.emit(this.activeClass)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-resume-tabs"]],outputs:{activeClassEvent:"activeClassEvent"},decls:17,vars:15,consts:[[1,"tabs","is-centered","is-boxed"],[3,"ngClass"],["id","education",3,"click"],["id","experience",3,"click"],["id","projects",3,"click"],["id","leadership",3,"click"],["id","skills",3,"click"]],template:function(i,a){1&i&&(g.TgZ(0,"div",0),g.TgZ(1,"ul"),g.TgZ(2,"li",1),g.TgZ(3,"a",2),g.NdJ("click",function(f){return a.changeActiveClass(f)}),g._uU(4," Education "),g.qZA(),g.qZA(),g.TgZ(5,"li",1),g.TgZ(6,"a",3),g.NdJ("click",function(f){return a.changeActiveClass(f)}),g._uU(7," Experience "),g.qZA(),g.qZA(),g.TgZ(8,"li",1),g.TgZ(9,"a",4),g.NdJ("click",function(f){return a.changeActiveClass(f)}),g._uU(10," Projects and Research "),g.qZA(),g.qZA(),g.TgZ(11,"li",1),g.TgZ(12,"a",5),g.NdJ("click",function(f){return a.changeActiveClass(f)}),g._uU(13," Leadership "),g.qZA(),g.qZA(),g.TgZ(14,"li",1),g.TgZ(15,"a",6),g.NdJ("click",function(f){return a.changeActiveClass(f)}),g._uU(16," Skills "),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(2),g.Q6J("ngClass",g.VKq(5,tp,0==a.activeClass)),g.xp6(3),g.Q6J("ngClass",g.VKq(7,tp,1==a.activeClass)),g.xp6(3),g.Q6J("ngClass",g.VKq(9,tp,2==a.activeClass)),g.xp6(3),g.Q6J("ngClass",g.VKq(11,tp,3==a.activeClass)),g.xp6(3),g.Q6J("ngClass",g.VKq(13,tp,4==a.activeClass)))},directives:[Sa],styles:[""]}),t})();function rR(t,e){1&t&&(g.TgZ(0,"section",4),g.TgZ(1,"h1",5),g._uU(2,"Experiene"),g.qZA(),g.TgZ(3,"h2",6),g.TgZ(4,"div",7),g.TgZ(5,"div",8),g.TgZ(6,"strong"),g._uU(7,"Google LLC"),g.qZA(),g._uU(8,", Redmond, WA "),g.qZA(),g.TgZ(9,"div",9),g._uU(10," June 2020 - August 2020 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"div",10),g.TgZ(12,"p"),g._uU(13,"Software Engineering Intern on DCSW Physical Automation Team"),g.qZA(),g.TgZ(14,"ul"),g.TgZ(15,"li"),g._uU(16," Developed an Angular front end dashboard to monitor and debug robots managed by the team using the Alkali platform. "),g.qZA(),g.TgZ(17,"li"),g._uU(18," Developed a Java Apps Framework back end server to serve as a pass through layer between the front end and the team\u2019s Boq Scaffolding server. "),g.qZA(),g.TgZ(19,"li"),g._uU(20," Implemented various RPC handlers in the Boq Scaffolding server to pull data required in the front end from the team\u2019s Spanner DB. "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"h2",6),g.TgZ(22,"div",7),g.TgZ(23,"div",8),g.TgZ(24,"strong"),g._uU(25,"Google LLC"),g.qZA(),g._uU(26,", New York City, NY "),g.qZA(),g.TgZ(27,"div",9),g._uU(28," May 2019 - August 2019 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(29,"div",10),g.TgZ(30,"p"),g._uU(31,"Software Engineering Intern on Flotilla Team"),g.qZA(),g.TgZ(32,"ul"),g.TgZ(33,"li"),g._uU(34," Developed a workflow that would audit over 1.5 million database records, across three microservices in order to find data inconsistencies amongst the entries. "),g.qZA(),g.TgZ(35,"li"),g._uU(36," Used Java to produce the backend code, and create a scalable class hierarchy allowing for easy integration of new microservices into the workflow. "),g.qZA(),g.TgZ(37,"li"),g._uU(38," Joined the data from the microservices into one joined table through a common identifier and used this to surface inconsistencies using data visualization tools. "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(39,"h2",6),g.TgZ(40,"div",7),g.TgZ(41,"div",8),g.TgZ(42,"strong"),g._uU(43,"Qualcomm Inc"),g.qZA(),g._uU(44,", San Diego, CA "),g.qZA(),g.TgZ(45,"div",9),g._uU(46," May 2018 - August 2018 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(47,"div",10),g.TgZ(48,"p"),g._uU(49,"Software Engineering Intern on Axiom Team"),g.qZA(),g.TgZ(50,"ul"),g.TgZ(51,"li"),g._uU(52," Worked on developing UI features for Axiom, an end-to-end test automation web application, using Angular5 for the frontend, and a C# based API for communicating with the database, on the back end. "),g.qZA(),g.TgZ(53,"li"),g._uU(54," Used chart.js to display real-time data about user traffic, as well as, prime-ng and google material as a front-end framework for styling. "),g.qZA(),g.qZA(),g.qZA(),g.qZA())}function Fv(t,e){1&t&&(g.TgZ(0,"section",4),g.TgZ(1,"h1",5),g._uU(2,"Projects and Research"),g.qZA(),g.TgZ(3,"h2",6),g.TgZ(4,"div",7),g.TgZ(5,"div",8),g.TgZ(6,"strong"),g._uU(7,"Plantlanta Volunteering"),g.qZA(),g._uU(8,", Atlanta, GA "),g.qZA(),g.TgZ(9,"div",9),g._uU(10," January 2019 - December 2019 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"div",10),g.TgZ(12,"ul"),g.TgZ(13,"li"),g._uU(14," Created a platform for Plantlanta that allowed volunteers to register for events and redeem points in an in-app marketplace "),g.qZA(),g.TgZ(15,"li"),g._uU(16," Built mobile client using Flutter framework, web client using Angular8, Firebase Firestore for data storage, and Firebase Cloud Functions for serverless backend. "),g.qZA(),g.TgZ(17,"li"),g._uU(18," Project won 1st place in the 2019 Fall Junior Design Expo based on judging from industry partners including Walmart, Stryker, and State Farm. "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"h2",6),g.TgZ(20,"div",7),g.TgZ(21,"div",8),g.TgZ(22,"strong"),g._uU(23,"Project Bronco"),g.qZA(),g._uU(24,", Atlanta, GA "),g.qZA(),g.TgZ(25,"div",9),g._uU(26," August 2019 - December 2019 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"div",10),g.TgZ(28,"ul"),g.TgZ(29,"li"),g._uU(30," Rewired retail RC car to a raspberry pi in order to control it through a mobile application, using python to interface withthe hardware. "),g.qZA(),g.TgZ(31,"li"),g._uU(32," Used laser range finder and sonar sensors to provide the car with \u201csmart\u201d features such as avoiding collisions, and speakers to notify the user through audio about obstacles. "),g.qZA(),g.TgZ(33,"li"),g._uU(34," Prototyped initial stages of the project using an Mbed microcontroller, and C++ to interface with hardware. "),g.qZA(),g.qZA(),g.qZA(),g.qZA())}function HS(t,e){1&t&&(g.TgZ(0,"section",4),g.TgZ(1,"h1",5),g._uU(2,"Leadership"),g.qZA(),g.TgZ(3,"h2",6),g.TgZ(4,"div",7),g.TgZ(5,"div",8),g.TgZ(6,"strong"),g._uU(7,"SHPE IT Team Senior Board of Directors"),g.qZA(),g._uU(8,", Atlanta, GA "),g.qZA(),g.TgZ(9,"div",9),g._uU(10," May 2018 - May 2019 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"div",10),g.TgZ(12,"ul"),g.TgZ(13,"li"),g._uU(14," Developed and maintained organization\u2019s mobile/web application, and public information website using React.js "),g.qZA(),g.qZA(),g.qZA(),g.qZA())}function qS(t,e){1&t&&(g.TgZ(0,"section",4),g.TgZ(1,"h1",5),g._uU(2,"Skills"),g.qZA(),g.TgZ(3,"h2",6),g.TgZ(4,"strong"),g._uU(5,"Programming:"),g.qZA(),g._uU(6," Java, C/C++, C#, Python, HTML, CSS, TypeScript, Matlab "),g.qZA(),g._UZ(7,"br"),g.TgZ(8,"h2",6),g.TgZ(9,"strong"),g._uU(10,"Frameworks:"),g.qZA(),g._uU(11," Angular, Pytorch, Android Studio (intermediate), React (novice) "),g.qZA(),g._UZ(12,"br"),g.TgZ(13,"h2",6),g.TgZ(14,"strong"),g._uU(15,"Related Coursework:"),g.qZA(),g._uU(16," Deep Learning, Computer Vision, Robot Planning, Graduate AI, Perception and Robotics, Learning from Demonstration, Mobile Manipulaiton, Machine Learning, Embedded System Design, Computer Organization, Systems and Networks, Digital Design Lab "),g.qZA(),g._UZ(17,"br"),g.TgZ(18,"h2",6),g.TgZ(19,"strong"),g._uU(20,"Languages:"),g.qZA(),g._uU(21," Spanish, English "),g.qZA(),g._UZ(22,"br"),g.TgZ(23,"h2",6),g.TgZ(24,"strong"),g._uU(25,"Software:"),g.qZA(),g._uU(26," SolidWorks "),g.qZA(),g.qZA())}function GS(t,e){1&t&&(g.TgZ(0,"section",4),g.TgZ(1,"h1",5),g._uU(2,"Education"),g.qZA(),g.TgZ(3,"h2",6),g.TgZ(4,"div",7),g.TgZ(5,"div",8),g.TgZ(6,"strong"),g._uU(7,"Georgia Institute of Technology"),g.qZA(),g._uU(8,", Atlanta, GA "),g.qZA(),g.TgZ(9,"div",9),g._uU(10," August 2020 - May 2021 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"div",10),g.TgZ(12,"ul"),g.TgZ(13,"li"),g._uU(14,"Master's of Science in Computer Science with concentrations in Computational Perception and Robotics."),g.qZA(),g.TgZ(15,"li"),g._uU(16,"Worked in Seth Hutchinson's lab doing researh on implementing safety critical controllers using RL."),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"h2",6),g.TgZ(18,"div",7),g.TgZ(19,"div",8),g.TgZ(20,"strong"),g._uU(21,"Georgia Institute of Technology"),g.qZA(),g._uU(22,", Atlanta, GA "),g.qZA(),g.TgZ(23,"div",9),g._uU(24," August 2016 - May 2020 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"div",10),g.TgZ(26,"ul"),g.TgZ(27,"li"),g._uU(28,"Bachelor's of Science in Computer Science with concentrations in Intelligence and Devices."),g.qZA(),g.qZA(),g.qZA(),g.qZA())}const $S=[{path:"home",component:ND},{path:"resume",component:(()=>{class t{constructor(){this.activeClass=0}ngOnInit(){}updateContent(i){this.activeClass=i}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-resume"]],decls:7,vars:5,consts:[[1,"container",3,"ngSwitch"],[3,"activeClassEvent"],["class","section",4,"ngSwitchCase"],["class","section",4,"ngSwitchDefault"],[1,"section"],[1,"title"],[1,"subtitle"],[1,"columns","is-gapless"],[1,"column","is-9"],[1,"column"],[1,"content"]],template:function(i,a){1&i&&(g.TgZ(0,"div",0),g.TgZ(1,"app-resume-tabs",1),g.NdJ("activeClassEvent",function(f){return a.updateContent(f)}),g.qZA(),g.YNc(2,rR,55,0,"section",2),g.YNc(3,Fv,35,0,"section",2),g.YNc(4,HS,15,0,"section",2),g.YNc(5,qS,27,0,"section",2),g.YNc(6,GS,29,0,"section",3),g.qZA()),2&i&&(g.Q6J("ngSwitch",a.activeClass),g.xp6(2),g.Q6J("ngSwitchCase",1),g.xp6(1),g.Q6J("ngSwitchCase",2),g.xp6(1),g.Q6J("ngSwitchCase",3),g.xp6(1),g.Q6J("ngSwitchCase",4))},directives:[_f,nR,cc,bf],styles:[".title[_ngcontent-%COMP%]{text-decoration:underline}.subtitle[_ngcontent-%COMP%]{margin:0}"]}),t})()},{path:"photo-gallery",component:BS},{path:"",redirectTo:"/home",pathMatch:"full"}];let ZS=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[mg.forRoot($S,{anchorScrolling:"enabled"})],mg]}),t})();const zS=["navbarBurger"],ci=function(){return[""]};function iR(t,e){if(1&t&&(g.TgZ(0,"a",12),g._uU(1),g.qZA()),2&t){const i=g.oxw();g.Q6J("routerLink",g.DdM(2,ci)),g.xp6(1),g.hij(" ",i.centerText," ")}}function KE(t,e){if(1&t&&(g.TgZ(0,"a",12),g._uU(1),g.qZA()),2&t){const i=g.oxw();g.Q6J("routerLink",g.DdM(2,ci)),g.xp6(1),g.hij(" ",i.centerText," ")}}const QE=function(t){return{"is-active":t}},Lv=function(){return["/home"]},YE=function(){return["/resume"]},JE=function(){return["/photo-gallery"]};let Uv=(()=>{class t{constructor(i){this.auth=i,this.centerText="David Jose Fernandez",this.showMenu=!1,this.isMobile=!1,this.auth.authStateChange.subscribe(a=>{this.centerText=a?"Admin Mode":"David Jose Fernandez"})}ngAfterViewInit(){this.isMobile=0!==this.burger.nativeElement.offsetHeight}toggleDropDownMenu(){this.showMenu=!this.showMenu}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(cd))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-navbar"]],viewQuery:function(i,a){if(1&i&&g.Gf(zS,5),2&i){let c;g.iGM(c=g.CRH())&&(a.burger=c.first)}},decls:24,vars:16,consts:[[1,"navbar"],[1,"navbar-brand"],["class","navbar-item main-item",3,"routerLink",4,"ngIf"],["role","button",1,"navbar-burger",3,"ngClass","click"],["navbarBurger",""],["aria-hidden","true"],["id","navbar",1,"navbar-menu",3,"ngClass"],[1,"navbar-start"],[1,"navbar-item",3,"routerLink"],["fragment","aboutme",1,"navbar-item",3,"routerLink"],[1,"navbar-end"],[1,"navbar-item"],[1,"navbar-item","main-item",3,"routerLink"]],template:function(i,a){1&i&&(g.TgZ(0,"nav",0),g.TgZ(1,"div",1),g.YNc(2,iR,2,3,"a",2),g.TgZ(3,"a",3,4),g.NdJ("click",function(){return a.toggleDropDownMenu()}),g._UZ(5,"span",5),g._UZ(6,"span",5),g._UZ(7,"span",5),g.qZA(),g.qZA(),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"a",8),g._uU(11," Home "),g.qZA(),g.TgZ(12,"a",9),g._uU(13," About Me "),g.qZA(),g.TgZ(14,"a",8),g._uU(15," Resume "),g.qZA(),g.qZA(),g.YNc(16,KE,2,3,"a",2),g.TgZ(17,"div",10),g.TgZ(18,"a",11),g._uU(19," Past Projects "),g.qZA(),g.TgZ(20,"a",8),g._uU(21," Photo Gallery "),g.qZA(),g.TgZ(22,"a",11),g._uU(23," Contact Me "),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(2),g.Q6J("ngIf",a.isMobile),g.xp6(1),g.Q6J("ngClass",g.VKq(8,QE,a.showMenu)),g.xp6(5),g.Q6J("ngClass",g.VKq(10,QE,a.showMenu)),g.xp6(2),g.Q6J("routerLink",g.DdM(12,Lv)),g.xp6(2),g.Q6J("routerLink",g.DdM(13,Lv)),g.xp6(2),g.Q6J("routerLink",g.DdM(14,YE)),g.xp6(2),g.Q6J("ngIf",!a.isMobile),g.xp6(4),g.Q6J("routerLink",g.DdM(15,JE)))},directives:[Gr,Sa,$c],styles:[".navbar-start[_ngcontent-%COMP%]{margin:0 0 0 auto}.navbar-end[_ngcontent-%COMP%]{margin:0 auto 0 0}.main-item[_ngcontent-%COMP%]{font-weight:bold;font-size:1.5rem}"]}),t})();function Vv(t,e){1&t&&(g.TgZ(0,"p",14),g._uU(1,"If you don't know the password, you shouldn't be here!"),g.qZA())}function jv(t,e){if(1&t){const i=g.EpF();g.TgZ(0,"div",2),g.TgZ(1,"div",3),g.NdJ("click",function(){return g.CHM(i),g.oxw().showLogin()}),g.qZA(),g.TgZ(2,"div",4),g.TgZ(3,"div",5),g.TgZ(4,"div",6),g.TgZ(5,"div",7),g._UZ(6,"input",8,9),g.qZA(),g.TgZ(8,"div",10),g.TgZ(9,"button",11),g.NdJ("click",function(){g.CHM(i);const c=g.MAs(7);return g.oxw().attemptLogin(c.value)}),g._uU(10,"Log In"),g.qZA(),g.qZA(),g.qZA(),g.YNc(11,Vv,2,0,"p",12),g.qZA(),g.qZA(),g.TgZ(12,"button",13),g.NdJ("click",function(){return g.CHM(i),g.oxw().showLogin()}),g.qZA(),g.qZA()}if(2&t){const i=g.oxw();g.xp6(11),g.Q6J("ngIf",i.showWrongPassword)}}let np=(()=>{class t{constructor(i){this.auth=i,this.showModal=!1,this.showWrongPassword=!1}ngOnInit(){}showLogin(){this.showModal=!this.showModal}attemptLogin(i){this.auth.updateLogin(i)?(this.showModal=!1,this.showWrongPassword=!1):this.showWrongPassword=!0}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(cd))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-login-button"]],decls:3,vars:1,consts:[[1,"button","is-ghost",3,"click"],[3,"ngIf"],[1,"modal","is-active"],[1,"modal-background",3,"click"],[1,"modal-content"],[1,"box"],[1,"columns"],[1,"column","is-two-thirds"],["type","password","placeholder","Enter Password",1,"input"],["password",""],[1,"column"],[1,"button","is-success","is-fullwidth",3,"click"],["class","wrong-password",4,"ngIf"],["aria-label","close",1,"modal-close","is-large",3,"click"],[1,"wrong-password"]],template:function(i,a){1&i&&(g.TgZ(0,"button",0),g.NdJ("click",function(){return a.showLogin()}),g._uU(1," Login\n"),g.qZA(),g.YNc(2,jv,13,1,"ng-template",1)),2&i&&(g.xp6(2),g.Q6J("ngIf",a.showModal))},directives:[Gr],styles:[".wrong-password[_ngcontent-%COMP%]{color:red}.button[_ngcontent-%COMP%]{color:#a9a9a9}"]}),t})(),rp=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-footer"]],decls:27,vars:0,consts:[[1,"footer"],[1,"content","has-text-centered"],[1,"columns"],[1,"column","is-half","is-offset-one-quarter"],[1,"columns","is-mobile"],[1,"column"],[1,"image","is-64x64"],["href","https://www.facebook.com/david.j.fernandez.52","target","_blank"],["src","../../../assets/footer-logos/fblogo.png"],["href","https://www.instagram.com/djfdez_98/","target","_blank"],["src","../../../assets/footer-logos/insta.png"],["href","https://www.linkedin.com/in/david-jose-fernandez-a4436612a/","target","_blank"],["src","../../../assets/footer-logos/linkedin.png"],["href","https://www.youtube.com/channel/UCdya3TiT791rLenrdOthhVg","target","_blank"],["src","../../../assets/footer-logos/youtube.png"],[1,"login-button"]],template:function(i,a){1&i&&(g.TgZ(0,"footer",0),g.TgZ(1,"div",1),g.TgZ(2,"h1"),g._uU(3,"Connect with me on social media!"),g.qZA(),g.qZA(),g.TgZ(4,"div",2),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.TgZ(8,"figure",6),g.TgZ(9,"a",7),g._UZ(10,"img",8),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"div",5),g.TgZ(12,"figure",6),g.TgZ(13,"a",9),g._UZ(14,"img",10),g.qZA(),g.qZA(),g.qZA(),g.TgZ(15,"div",5),g.TgZ(16,"figure",6),g.TgZ(17,"a",11),g._UZ(18,"img",12),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",5),g.TgZ(20,"figure",6),g.TgZ(21,"a",13),g._UZ(22,"img",14),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(23,"div",1),g.TgZ(24,"p"),g._uU(25,"Developed by David Jose Fernandez"),g.qZA(),g.qZA(),g._UZ(26,"app-login-button",15),g.qZA())},directives:[np],styles:["footer[_ngcontent-%COMP%]{background-color:#a9a9a9;padding-bottom:0}.column[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})(),XE=(()=>{class t{constructor(){this.title="personal-website"}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(i,a){1&i&&(g._UZ(0,"app-navbar"),g._UZ(1,"router-outlet"),g._UZ(2,"app-footer"))},directives:[Uv,ad,rp],styles:[""]}),t})();const Bv_firebase={apiKey:'AIzaSyC30yoF5WSWkfcgPgKuR3sBE4OGLeE1cM8"',authDomain:"personal-website-9e330.firebaseapp.com",projectId:"personal-website-9e330",storageBucket:"personal-website-9e330.appspot.com",messagingSenderId:"91344364485",appId:'1:913443644853:web:932e4a0c068627c999a5fc"',measurementId:"G-P2CSWF9KLV"};let WS=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g.oAB({type:t,bootstrap:[XE]}),t.\u0275inj=g.cJS({providers:[],imports:[[vc,ZS,Rt.hO.initializeApp(Bv_firebase),D1,SS]]}),t})();(0,g.G48)(),SC().bootstrapModule(WS).catch(t=>console.error(t))},4762:(Ve,me,P)=>{"use strict";P.d(me,{ZT:()=>te,pi:()=>pe,mG:()=>ce,Jh:()=>$,XA:()=>j,CR:()=>k,ev:()=>oe});var g=function(W,J){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,K){z.__proto__=K}||function(z,K){for(var ve in K)Object.prototype.hasOwnProperty.call(K,ve)&&(z[ve]=K[ve])})(W,J)};function te(W,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function z(){this.constructor=W}g(W,J),W.prototype=null===J?Object.create(J):(z.prototype=J.prototype,new z)}var pe=function(){return(pe=Object.assign||function(J){for(var z,K=1,ve=arguments.length;K<ve;K++)for(var Q in z=arguments[K])Object.prototype.hasOwnProperty.call(z,Q)&&(J[Q]=z[Q]);return J}).apply(this,arguments)};function ce(W,J,z,K){return new(z||(z=Promise))(function(Q,Pe){function Ke(Wt){try{Le(K.next(Wt))}catch(ze){Pe(ze)}}function zt(Wt){try{Le(K.throw(Wt))}catch(ze){Pe(ze)}}function Le(Wt){Wt.done?Q(Wt.value):function(Q){return Q instanceof z?Q:new z(function(Pe){Pe(Q)})}(Wt.value).then(Ke,zt)}Le((K=K.apply(W,J||[])).next())})}function $(W,J){var K,ve,Q,Pe,z={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Pe={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(Pe[Symbol.iterator]=function(){return this}),Pe;function Ke(Le){return function(Wt){return function(Le){if(K)throw new TypeError("Generator is already executing.");for(;z;)try{if(K=1,ve&&(Q=2&Le[0]?ve.return:Le[0]?ve.throw||((Q=ve.return)&&Q.call(ve),0):ve.next)&&!(Q=Q.call(ve,Le[1])).done)return Q;switch(ve=0,Q&&(Le=[2&Le[0],Q.value]),Le[0]){case 0:case 1:Q=Le;break;case 4:return z.label++,{value:Le[1],done:!1};case 5:z.label++,ve=Le[1],Le=[0];continue;case 7:Le=z.ops.pop(),z.trys.pop();continue;default:if(!(Q=(Q=z.trys).length>0&&Q[Q.length-1])&&(6===Le[0]||2===Le[0])){z=0;continue}if(3===Le[0]&&(!Q||Le[1]>Q[0]&&Le[1]<Q[3])){z.label=Le[1];break}if(6===Le[0]&&z.label<Q[1]){z.label=Q[1],Q=Le;break}if(Q&&z.label<Q[2]){z.label=Q[2],z.ops.push(Le);break}Q[2]&&z.ops.pop(),z.trys.pop();continue}Le=J.call(W,z)}catch(Wt){Le=[6,Wt],ve=0}finally{K=Q=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}}([Le,Wt])}}}function j(W){var J="function"==typeof Symbol&&Symbol.iterator,z=J&&W[J],K=0;if(z)return z.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&K>=W.length&&(W=void 0),{value:W&&W[K++],done:!W}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(W,J){var z="function"==typeof Symbol&&W[Symbol.iterator];if(!z)return W;var ve,Pe,K=z.call(W),Q=[];try{for(;(void 0===J||J-- >0)&&!(ve=K.next()).done;)Q.push(ve.value)}catch(Ke){Pe={error:Ke}}finally{try{ve&&!ve.done&&(z=K.return)&&z.call(K)}finally{if(Pe)throw Pe.error}}return Q}function oe(W,J,z){if(z||2===arguments.length)for(var Q,K=0,ve=J.length;K<ve;K++)(Q||!(K in J))&&(Q||(Q=Array.prototype.slice.call(J,0,K)),Q[K]=J[K]);return W.concat(Q||Array.prototype.slice.call(J))}}},Ve=>{Ve(Ve.s=3997)}]);